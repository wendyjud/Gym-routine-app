"use strict";var E3=Object.defineProperty,C3=Object.defineProperties,T3=Object.getOwnPropertyDescriptors,MP=Object.getOwnPropertySymbols,I3=Object.prototype.hasOwnProperty,D3=Object.prototype.propertyIsEnumerable,OP=(et,Ie,P)=>Ie in et?E3(et,Ie,{enumerable:!0,configurable:!0,writable:!0,value:P}):et[Ie]=P,RP=(et,Ie)=>{for(var P in Ie||(Ie={}))I3.call(Ie,P)&&OP(et,P,Ie[P]);if(MP)for(var P of MP(Ie))D3.call(Ie,P)&&OP(et,P,Ie[P]);return et},PP=(et,Ie)=>C3(et,T3(Ie));(self.webpackChunkgym_routine=self.webpackChunkgym_routine||[]).push([[179],{2011:(et,Ie,P)=>{P.d(Ie,{Dh:()=>ae,GT:()=>me,cc:()=>Me,hO:()=>Ge,on:()=>q,pX:()=>oe,xv:()=>ye});var a=P(5e3),U=P(127),R=P(5813);et=P.hmd(et);const se=["ngOnDestroy"],oe=(De,Ze,qe,Oe={})=>new Proxy(De,{get:(Re,Ee)=>qe.runOutsideAngular(()=>{var We;if(De[Ee])return(null===(We=null==Oe?void 0:Oe.spy)||void 0===We?void 0:We.get)&&Oe.spy.get(Ee,De[Ee]),De[Ee];if(se.indexOf(Ee)>-1)return()=>{};const ee=Ze.toPromise().then(he=>{const Ce=he&&he[Ee];return"function"==typeof Ce?Ce.bind(he):Ce&&Ce.then?Ce.then(Y=>qe.run(()=>Y)):qe.run(()=>Ce)});return new Proxy(()=>{},{get:(he,Ce)=>ee[Ce],apply:(he,Ce,Y)=>ee.then(te=>{var ie;const ve=te&&te(...Y);return(null===(ie=null==Oe?void 0:Oe.spy)||void 0===ie?void 0:ie.apply)&&Oe.spy.apply(Ee,Y,ve),ve})})})}),me=(De,Ze)=>{Ze.forEach(qe=>{Object.getOwnPropertyNames(qe.prototype||qe).forEach(Oe=>{Object.defineProperty(De.prototype,Oe,Object.getOwnPropertyDescriptor(qe.prototype||qe,Oe))})})};class de{constructor(Ze){return Ze}}const ae=new a.OlP("angularfire2.app.options"),ye=new a.OlP("angularfire2.app.name");function q(De,Ze,qe){const Re="object"==typeof qe&&qe||{};Re.name=Re.name||"string"==typeof qe&&qe||"[DEFAULT]";const We=U.Z.apps.filter(ee=>ee&&ee.name===Re.name)[0]||Ze.runOutsideAngular(()=>U.Z.initializeApp(De,Re));try{JSON.stringify(De)!==JSON.stringify(We.options)&&j("error",`${We.name} Firebase App already initialized with different options${et.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(ee){}return new de(We)}const j=(De,...Ze)=>{(0,a.X6Q)()&&"undefined"!=typeof console&&console[De](...Ze)},re={provide:de,useFactory:q,deps:[ae,a.R0b,[new a.FiY,ye]]};let Ge=(()=>{class De{constructor(qe){U.Z.registerVersion("angularfire",R.q4.full,"core"),U.Z.registerVersion("angularfire",R.q4.full,"app-compat"),U.Z.registerVersion("angular",a.q4F.full,qe.toString())}static initializeApp(qe,Oe){return{ngModule:De,providers:[{provide:ae,useValue:qe},{provide:ye,useValue:Oe}]}}}return De.\u0275fac=function(qe){return new(qe||De)(a.LFG(a.Lbi))},De.\u0275mod=a.oAB({type:De}),De.\u0275inj=a.cJS({providers:[re]}),De})();function Me(De,Ze,qe,Oe,Re){const[,Ee,We]=globalThis.\u0275AngularfireInstanceCache.find(ee=>ee[0]===De)||[];if(Ee)return function Le(De,Ze){try{return De.toString()===Ze.toString()}catch(qe){return De===Ze}}(Re,We)||(ge("error",`${Ze} was already initialized on the ${qe} Firebase App with different settings.${$e?" You may need to reload as Firebase is not HMR aware.":""}`),ge("warn",{is:Re,was:We})),Ee;{const ee=Oe();return globalThis.\u0275AngularfireInstanceCache.push([De,ee,Re]),ee}}const $e=!!et.hot,ge=(De,...Ze)=>{(0,a.X6Q)()&&"undefined"!=typeof console&&console[De](...Ze)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(et,Ie,P)=>{P.d(Ie,{q4:()=>ao,iC:()=>zo,HU:()=>Mc,vb:()=>xc,JM:()=>uo,u3:()=>ql});var a=P(5e3),U=P(5867),R=P(5861),se=P(9681),oe=P(2090),me=P(4859),de=P(1877),ae=P(8766);const ye="@firebase/installations",q="0.5.9",re=`w:${q}`,Ge="FIS_v2",Ze=new oe.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function qe(T){return T instanceof oe.ZR&&T.code.includes("request-failed")}function Oe({projectId:T}){return`https://firebaseinstallations.googleapis.com/v1/projects/${T}/installations`}function Re(T){return{token:T.token,requestStatus:2,expiresIn:te(T.expiresIn),creationTime:Date.now()}}function Ee(T,I){return We.apply(this,arguments)}function We(){return(We=(0,R.Z)(function*(T,I){const F=(yield I.json()).error;return Ze.create("request-failed",{requestName:T,serverCode:F.code,serverMessage:F.message,serverStatus:F.status})})).apply(this,arguments)}function ee({apiKey:T}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":T})}function he(T,{refreshToken:I}){const O=ee(T);return O.append("Authorization",function ie(T){return`${Ge} ${T}`}(I)),O}function Ce(T){return Y.apply(this,arguments)}function Y(){return(Y=(0,R.Z)(function*(T){const I=yield T();return I.status>=500&&I.status<600?T():I})).apply(this,arguments)}function te(T){return Number(T.replace("s","000"))}function ve(T,I){return ce.apply(this,arguments)}function ce(){return(ce=(0,R.Z)(function*({appConfig:T,heartbeatServiceProvider:I},{fid:O}){const F=Oe(T),Q=ee(T),le=I.getImmediate({optional:!0});if(le){const Ct=yield le.getHeartbeatsHeader();Ct&&Q.append("x-firebase-client",Ct)}const tt={method:"POST",headers:Q,body:JSON.stringify({fid:O,authVersion:Ge,appId:T.appId,sdkVersion:re})},Dt=yield Ce(()=>fetch(F,tt));if(Dt.ok){const Ct=yield Dt.json();return{fid:Ct.fid||O,registrationStatus:2,refreshToken:Ct.refreshToken,authToken:Re(Ct.authToken)}}throw yield Ee("Create Installation",Dt)})).apply(this,arguments)}function Ue(T){return new Promise(I=>{setTimeout(I,T)})}const Xt=/^[cdef][\w-]{21}$/;function Qe(){try{const T=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(T),T[0]=112+T[0]%16;const O=function hn(T){return function ht(T){return btoa(String.fromCharCode(...T)).replace(/\+/g,"-").replace(/\//g,"_")}(T).substr(0,22)}(T);return Xt.test(O)?O:""}catch(T){return""}}function kn(T){return`${T.appName}!${T.appId}`}const _n=new Map;function an(T,I){const O=kn(T);In(O,I),function Si(T,I){const O=function Sn(){return!Tr&&"BroadcastChannel"in self&&(Tr=new BroadcastChannel("[Firebase] FID Change"),Tr.onmessage=T=>{In(T.data.key,T.data.fid)}),Tr}();O&&O.postMessage({key:T,fid:I}),function xi(){0===_n.size&&Tr&&(Tr.close(),Tr=null)}()}(O,I)}function In(T,I){const O=_n.get(T);if(O)for(const F of O)F(I)}let Tr=null;const Wn="firebase-installations-store";let Mi=null;function gt(){return Mi||(Mi=(0,ae.X3)("firebase-installations-database",1,{upgrade:(T,I)=>{0===I&&T.createObjectStore(Wn)}})),Mi}function Lr(T,I){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,R.Z)(function*(T,I){const O=kn(T),Q=(yield gt()).transaction(Wn,"readwrite"),le=Q.objectStore(Wn),Se=yield le.get(O);return yield le.put(I,O),yield Q.done,(!Se||Se.fid!==I.fid)&&an(T,I.fid),I})).apply(this,arguments)}function nn(T){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,R.Z)(function*(T){const I=kn(T),F=(yield gt()).transaction(Wn,"readwrite");yield F.objectStore(Wn).delete(I),yield F.done})).apply(this,arguments)}function ar(T,I){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,R.Z)(function*(T,I){const O=kn(T),Q=(yield gt()).transaction(Wn,"readwrite"),le=Q.objectStore(Wn),Se=yield le.get(O),tt=I(Se);return void 0===tt?yield le.delete(O):yield le.put(tt,O),yield Q.done,tt&&(!Se||Se.fid!==tt.fid)&&an(T,tt.fid),tt})).apply(this,arguments)}function Dn(T){return ur.apply(this,arguments)}function ur(){return(ur=(0,R.Z)(function*(T){let I;const O=yield ar(T.appConfig,F=>{const Q=Os(F),le=Wt(T,Q);return I=le.registrationPromise,le.installationEntry});return""===O.fid?{installationEntry:yield I}:{installationEntry:O,registrationPromise:I}})).apply(this,arguments)}function Os(T){return Oi(T||{fid:Qe(),registrationStatus:0})}function Wt(T,I){if(0===I.registrationStatus){if(!navigator.onLine)return{installationEntry:I,registrationPromise:Promise.reject(Ze.create("app-offline"))};const O={fid:I.fid,registrationStatus:1,registrationTime:Date.now()},F=function ct(T,I){return it.apply(this,arguments)}(T,O);return{installationEntry:O,registrationPromise:F}}return 1===I.registrationStatus?{installationEntry:I,registrationPromise:oi(T)}:{installationEntry:I}}function it(){return(it=(0,R.Z)(function*(T,I){try{const O=yield ve(T,I);return Lr(T.appConfig,O)}catch(O){throw qe(O)&&409===O.customData.serverCode?yield nn(T.appConfig):yield Lr(T.appConfig,{fid:I.fid,registrationStatus:0}),O}})).apply(this,arguments)}function oi(T){return ai.apply(this,arguments)}function ai(){return(ai=(0,R.Z)(function*(T){let I=yield Gt(T.appConfig);for(;1===I.registrationStatus;)yield Ue(100),I=yield Gt(T.appConfig);if(0===I.registrationStatus){const{installationEntry:O,registrationPromise:F}=yield Dn(T);return F||O}return I})).apply(this,arguments)}function Gt(T){return ar(T,I=>{if(!I)throw Ze.create("installation-not-found");return Oi(I)})}function Oi(T){return function Fn(T){return 1===T.registrationStatus&&T.registrationTime+1e4<Date.now()}(T)?{fid:T.fid,registrationStatus:0}:T}function fn(T,I){return V.apply(this,arguments)}function V(){return(V=(0,R.Z)(function*({appConfig:T,heartbeatServiceProvider:I},O){const F=Z(T,O),Q=he(T,O),le=I.getImmediate({optional:!0});if(le){const Ct=yield le.getHeartbeatsHeader();Ct&&Q.append("x-firebase-client",Ct)}const tt={method:"POST",headers:Q,body:JSON.stringify({installation:{sdkVersion:re,appId:T.appId}})},Dt=yield Ce(()=>fetch(F,tt));if(Dt.ok)return Re(yield Dt.json());throw yield Ee("Generate Auth Token",Dt)})).apply(this,arguments)}function Z(T,{fid:I}){return`${Oe(T)}/${I}/authTokens:generate`}function W(T){return be.apply(this,arguments)}function be(){return(be=(0,R.Z)(function*(T,I=!1){let O;const F=yield ar(T.appConfig,le=>{if(!Pt(le))throw Ze.create("not-registered");const Se=le.authToken;if(!I&&cn(Se))return le;if(1===Se.requestStatus)return O=H(T,I),le;{if(!navigator.onLine)throw Ze.create("app-offline");const tt=Kn(le);return O=Xe(T,tt),tt}});return O?yield O:F.authToken})).apply(this,arguments)}function H(T,I){return J.apply(this,arguments)}function J(){return(J=(0,R.Z)(function*(T,I){let O=yield Ne(T.appConfig);for(;1===O.authToken.requestStatus;)yield Ue(100),O=yield Ne(T.appConfig);const F=O.authToken;return 0===F.requestStatus?W(T,I):F})).apply(this,arguments)}function Ne(T){return ar(T,I=>{if(!Pt(I))throw Ze.create("not-registered");return function ue(T){return 1===T.requestStatus&&T.requestTime+1e4<Date.now()}(I.authToken)?Object.assign(Object.assign({},I),{authToken:{requestStatus:0}}):I})}function Xe(T,I){return ft.apply(this,arguments)}function ft(){return(ft=(0,R.Z)(function*(T,I){try{const O=yield fn(T,I),F=Object.assign(Object.assign({},I),{authToken:O});return yield Lr(T.appConfig,F),O}catch(O){if(!qe(O)||401!==O.customData.serverCode&&404!==O.customData.serverCode){const F=Object.assign(Object.assign({},I),{authToken:{requestStatus:0}});yield Lr(T.appConfig,F)}else yield nn(T.appConfig);throw O}})).apply(this,arguments)}function Pt(T){return void 0!==T&&2===T.registrationStatus}function cn(T){return 2===T.requestStatus&&!function wt(T){const I=Date.now();return I<T.creationTime||T.creationTime+T.expiresIn<I+36e5}(T)}function Kn(T){const I={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},T),{authToken:I})}function z(){return(z=(0,R.Z)(function*(T){const I=T,{installationEntry:O,registrationPromise:F}=yield Dn(I);return F?F.catch(console.error):W(I).catch(console.error),O.fid})).apply(this,arguments)}function Ke(){return(Ke=(0,R.Z)(function*(T,I=!1){const O=T;return yield at(O),(yield W(O,I)).token})).apply(this,arguments)}function at(T){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,R.Z)(function*(T){const{registrationPromise:I}=yield Dn(T);I&&(yield I)})).apply(this,arguments)}function ya(T){return Ze.create("missing-app-config-values",{valueName:T})}const Yr="installations",Ft=T=>{const I=T.getProvider("app").getImmediate(),O=function cr(T){if(!T||!T.options)throw ya("App Configuration");if(!T.name)throw ya("App Name");const I=["projectId","apiKey","appId"];for(const O of I)if(!T.options[O])throw ya(O);return{appName:T.name,projectId:T.options.projectId,apiKey:T.options.apiKey,appId:T.options.appId}}(I);return{app:I,appConfig:O,heartbeatServiceProvider:(0,se._getProvider)(I,"heartbeat"),_delete:()=>Promise.resolve()}},En=T=>{const I=T.getProvider("app").getImmediate(),O=(0,se._getProvider)(I,Yr).getImmediate();return{getId:()=>function K(T){return z.apply(this,arguments)}(O),getToken:Q=>function Ae(T){return Ke.apply(this,arguments)}(O,Q)}};(function Vr(){(0,se._registerComponent)(new me.wA(Yr,Ft,"PUBLIC")),(0,se._registerComponent)(new me.wA("installations-internal",En,"PRIVATE"))})(),(0,se.registerVersion)(ye,q),(0,se.registerVersion)(ye,q,"esm2017");const Qi="@firebase/remote-config",Ln=new oe.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class _l{constructor(I,O,F,Q){this.client=I,this.storage=O,this.storageCache=F,this.logger=Q}isCachedDataFresh(I,O){if(!O)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const F=Date.now()-O,Q=F<=I;return this.logger.debug(`Config fetch cache check. Cache age millis: ${F}. Cache max age millis (minimumFetchIntervalMillis setting): ${I}. Is cache hit: ${Q}.`),Q}fetch(I){var O=this;return(0,R.Z)(function*(){const[F,Q]=yield Promise.all([O.storage.getLastSuccessfulFetchTimestampMillis(),O.storage.getLastSuccessfulFetchResponse()]);if(Q&&O.isCachedDataFresh(I.cacheMaxAgeMillis,F))return Q;I.eTag=Q&&Q.eTag;const le=yield O.client.fetch(I),Se=[O.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===le.status&&Se.push(O.storage.setLastSuccessfulFetchResponse(le)),yield Promise.all(Se),le})()}}function cu(T=navigator){return T.languages&&T.languages[0]||T.language}class Yn{constructor(I,O,F,Q,le,Se){this.firebaseInstallations=I,this.sdkVersion=O,this.namespace=F,this.projectId=Q,this.apiKey=le,this.appId=Se}fetch(I){var O=this;return(0,R.Z)(function*(){const[F,Q]=yield Promise.all([O.firebaseInstallations.getId(),O.firebaseInstallations.getToken()]),Se=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${O.projectId}/namespaces/${O.namespace}:fetch?key=${O.apiKey}`,tt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":I.eTag||"*"},Dt={sdk_version:O.sdkVersion,app_instance_id:F,app_instance_id_token:Q,app_id:O.appId,language_code:cu()},Ct={method:"POST",headers:tt,body:JSON.stringify(Dt)},Lt=fetch(Se,Ct),St=new Promise((Hi,Ko)=>{I.signal.addEventListener(()=>{const Yo=new Error("The operation was aborted.");Yo.name="AbortError",Ko(Yo)})});let Mr;try{yield Promise.race([Lt,St]),Mr=yield Lt}catch(Hi){let Ko="fetch-client-network";throw"AbortError"===Hi.name&&(Ko="fetch-timeout"),Ln.create(Ko,{originalErrorMessage:Hi.message})}let zn=Mr.status;const ji=Mr.headers.get("ETag")||void 0;let co,Vs;if(200===Mr.status){let Hi;try{Hi=yield Mr.json()}catch(Ko){throw Ln.create("fetch-client-parse",{originalErrorMessage:Ko.message})}co=Hi.entries,Vs=Hi.state}if("INSTANCE_STATE_UNSPECIFIED"===Vs?zn=500:"NO_CHANGE"===Vs?zn=304:("NO_TEMPLATE"===Vs||"EMPTY_CONFIG"===Vs)&&(co={}),304!==zn&&200!==zn)throw Ln.create("fetch-status",{httpStatus:zn});return{status:zn,eTag:ji,config:co}})()}}class Xi{constructor(I,O){this.client=I,this.storage=O}fetch(I){var O=this;return(0,R.Z)(function*(){const F=(yield O.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return O.attemptFetch(I,F)})()}attemptFetch(I,{throttleEndTimeMillis:O,backoffCount:F}){var Q=this;return(0,R.Z)(function*(){yield function vl(T,I){return new Promise((O,F)=>{const Q=Math.max(I-Date.now(),0),le=setTimeout(O,Q);T.addEventListener(()=>{clearTimeout(le),F(Ln.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}(I.signal,O);try{const le=yield Q.client.fetch(I);return yield Q.storage.deleteThrottleMetadata(),le}catch(le){if(!function cp(T){if(!(T instanceof oe.ZR&&T.customData))return!1;const I=Number(T.customData.httpStatus);return 429===I||500===I||503===I||504===I}(le))throw le;const Se={throttleEndTimeMillis:Date.now()+(0,oe.$s)(F),backoffCount:F+1};return yield Q.storage.setThrottleMetadata(Se),Q.attemptFetch(I,Se)}})()}}class dp{constructor(I,O,F,Q,le){this.app=I,this._client=O,this._storageCache=F,this._storage=Q,this._logger=le,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function _a(T,I){const O=T.target.error||void 0;return Ln.create(I,{originalErrorMessage:O&&O.message})}const Ao="app_namespace_store";class bl{constructor(I,O,F,Q=function fp(){return new Promise((T,I)=>{try{const O=indexedDB.open("firebase_remote_config",1);O.onerror=F=>{I(_a(F,"storage-open"))},O.onsuccess=F=>{T(F.target.result)},O.onupgradeneeded=F=>{0===F.oldVersion&&F.target.result.createObjectStore(Ao,{keyPath:"compositeKey"})}}catch(O){I(Ln.create("storage-open",{originalErrorMessage:O}))}})}()){this.appId=I,this.appName=O,this.namespace=F,this.openDbPromise=Q}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(I){return this.set("last_fetch_status",I)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(I){return this.set("last_successful_fetch_timestamp_millis",I)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(I){return this.set("last_successful_fetch_response",I)}getActiveConfig(){return this.get("active_config")}setActiveConfig(I){return this.set("active_config",I)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(I){return this.set("active_config_etag",I)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(I){return this.set("throttle_metadata",I)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(I){var O=this;return(0,R.Z)(function*(){const F=yield O.openDbPromise;return new Promise((Q,le)=>{const tt=F.transaction([Ao],"readonly").objectStore(Ao),Dt=O.createCompositeKey(I);try{const Ct=tt.get(Dt);Ct.onerror=Lt=>{le(_a(Lt,"storage-get"))},Ct.onsuccess=Lt=>{const St=Lt.target.result;Q(St?St.value:void 0)}}catch(Ct){le(Ln.create("storage-get",{originalErrorMessage:Ct&&Ct.message}))}})})()}set(I,O){var F=this;return(0,R.Z)(function*(){const Q=yield F.openDbPromise;return new Promise((le,Se)=>{const Dt=Q.transaction([Ao],"readwrite").objectStore(Ao),Ct=F.createCompositeKey(I);try{const Lt=Dt.put({compositeKey:Ct,value:O});Lt.onerror=St=>{Se(_a(St,"storage-set"))},Lt.onsuccess=()=>{le()}}catch(Lt){Se(Ln.create("storage-set",{originalErrorMessage:Lt&&Lt.message}))}})})()}delete(I){var O=this;return(0,R.Z)(function*(){const F=yield O.openDbPromise;return new Promise((Q,le)=>{const tt=F.transaction([Ao],"readwrite").objectStore(Ao),Dt=O.createCompositeKey(I);try{const Ct=tt.delete(Dt);Ct.onerror=Lt=>{le(_a(Lt,"storage-delete"))},Ct.onsuccess=()=>{Q()}}catch(Ct){le(Ln.create("storage-delete",{originalErrorMessage:Ct&&Ct.message}))}})})()}createCompositeKey(I){return[this.appId,this.appName,this.namespace,I].join()}}class So{constructor(I){this.storage=I}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var I=this;return(0,R.Z)(function*(){const O=I.storage.getLastFetchStatus(),F=I.storage.getLastSuccessfulFetchTimestampMillis(),Q=I.storage.getActiveConfig(),le=yield O;le&&(I.lastFetchStatus=le);const Se=yield F;Se&&(I.lastSuccessfulFetchTimestampMillis=Se);const tt=yield Q;tt&&(I.activeConfig=tt)})()}setLastFetchStatus(I){return this.lastFetchStatus=I,this.storage.setLastFetchStatus(I)}setLastSuccessfulFetchTimestampMillis(I){return this.lastSuccessfulFetchTimestampMillis=I,this.storage.setLastSuccessfulFetchTimestampMillis(I)}setActiveConfig(I){return this.activeConfig=I,this.storage.setActiveConfig(I)}}function Jm(){return va.apply(this,arguments)}function va(){return(va=(0,R.Z)(function*(){if(!(0,oe.hl)())return!1;try{return yield(0,oe.eu)()}catch(T){return!1}})).apply(this,arguments)}!function pp(){(0,se._registerComponent)(new me.wA("remote-config",function T(I,{instanceIdentifier:O}){const F=I.getProvider("app").getImmediate(),Q=I.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Ln.create("registration-window");if(!(0,oe.hl)())throw Ln.create("indexed-db-unavailable");const{projectId:le,apiKey:Se,appId:tt}=F.options;if(!le)throw Ln.create("registration-project-id");if(!Se)throw Ln.create("registration-api-key");if(!tt)throw Ln.create("registration-app-id");const Dt=new bl(tt,F.name,O=O||"firebase"),Ct=new So(Dt),Lt=new de.Yd(Qi);Lt.logLevel=de.in.ERROR;const St=new Yn(Q,se.SDK_VERSION,O,le,Se,tt),Mr=new Xi(St,Dt),zn=new _l(Mr,Dt,Ct,Lt),ji=new dp(F,zn,Ct,Dt,Lt);return function pn(T){const I=(0,oe.m9)(T);I._initializePromise||(I._initializePromise=I._storageCache.loadFromStorage().then(()=>{I._isInitializationComplete=!0}))}(ji),ji},"PUBLIC").setMultipleInstances(!0)),(0,se.registerVersion)(Qi,"0.3.8"),(0,se.registerVersion)(Qi,"0.3.8","esm2017")}();const Ns="/firebase-messaging-sw.js",li="/firebase-cloud-messaging-push-scope",xo="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",wa="google.c.a.c_id",Gd="google.c.a.c_l",gp="google.c.a.ts",ts="google.c.a.e";var ns=(()=>{return(T=ns||(ns={})).PUSH_RECEIVED="push-received",T.NOTIFICATION_CLICKED="notification-clicked",ns;var T})();function wi(T){const I=new Uint8Array(T);return btoa(String.fromCharCode(...I)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function El(T){const O=(T+"=".repeat((4-T.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),F=atob(O),Q=new Uint8Array(F.length);for(let le=0;le<F.length;++le)Q[le]=F.charCodeAt(le);return Q}const Ar="fcm_token_details_db",Cl="fcm_token_object_Store";function Tl(T){return du.apply(this,arguments)}function du(){return du=(0,R.Z)(function*(T){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(le=>le.name).includes(Ar))return null;let I=null;return(yield(0,ae.X3)(Ar,5,{upgrade:(F=(0,R.Z)(function*(Q,le,Se,tt){var Dt;if(le<2||!Q.objectStoreNames.contains(Cl))return;const Ct=tt.objectStore(Cl),Lt=yield Ct.index("fcmSenderId").get(T);if(yield Ct.clear(),Lt)if(2===le){const St=Lt;if(!St.auth||!St.p256dh||!St.endpoint)return;I={token:St.fcmToken,createTime:null!==(Dt=St.createTime)&&void 0!==Dt?Dt:Date.now(),subscriptionOptions:{auth:St.auth,p256dh:St.p256dh,endpoint:St.endpoint,swScope:St.swScope,vapidKey:"string"==typeof St.vapidKey?St.vapidKey:wi(St.vapidKey)}}}else if(3===le){const St=Lt;I={token:St.fcmToken,createTime:St.createTime,subscriptionOptions:{auth:wi(St.auth),p256dh:wi(St.p256dh),endpoint:St.endpoint,swScope:St.swScope,vapidKey:wi(St.vapidKey)}}}else if(4===le){const St=Lt;I={token:St.fcmToken,createTime:St.createTime,subscriptionOptions:{auth:wi(St.auth),p256dh:wi(St.p256dh),endpoint:St.endpoint,swScope:St.swScope,vapidKey:wi(St.vapidKey)}}}}),function(le,Se,tt,Dt){return F.apply(this,arguments)})})).close(),yield(0,ae.Lj)(Ar),yield(0,ae.Lj)("fcm_vapid_details_db"),yield(0,ae.Lj)("undefined"),hu(I)?I:null;var F}),du.apply(this,arguments)}function hu(T){if(!T||!T.subscriptionOptions)return!1;const{subscriptionOptions:I}=T;return"number"==typeof T.createTime&&T.createTime>0&&"string"==typeof T.token&&T.token.length>0&&"string"==typeof I.auth&&I.auth.length>0&&"string"==typeof I.p256dh&&I.p256dh.length>0&&"string"==typeof I.endpoint&&I.endpoint.length>0&&"string"==typeof I.swScope&&I.swScope.length>0&&"string"==typeof I.vapidKey&&I.vapidKey.length>0}const rs="firebase-messaging-store";let pc=null;function vn(){return pc||(pc=(0,ae.X3)("firebase-messaging-database",1,{upgrade:(T,I)=>{0===I&&T.createObjectStore(rs)}})),pc}function Ea(T){return ks.apply(this,arguments)}function ks(){return(ks=(0,R.Z)(function*(T){const I=lr(T),F=yield(yield vn()).transaction(rs).objectStore(rs).get(I);if(F)return F;{const Q=yield Tl(T.appConfig.senderId);if(Q)return yield gn(T,Q),Q}})).apply(this,arguments)}function gn(T,I){return pu.apply(this,arguments)}function pu(){return(pu=(0,R.Z)(function*(T,I){const O=lr(T),Q=(yield vn()).transaction(rs,"readwrite");return yield Q.objectStore(rs).put(I,O),yield Q.done,I})).apply(this,arguments)}function Ca(T){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,R.Z)(function*(T){const I=lr(T),F=(yield vn()).transaction(rs,"readwrite");yield F.objectStore(rs).delete(I),yield F.done})).apply(this,arguments)}function lr({appConfig:T}){return T.appId}const Un=new oe.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function is(T,I){return dr.apply(this,arguments)}function dr(){return(dr=(0,R.Z)(function*(T,I){const O=yield Ls(T),F=Ta(I),Q={method:"POST",headers:O,body:JSON.stringify(F)};let le;try{le=yield(yield fetch(Fs(T.appConfig),Q)).json()}catch(Se){throw Un.create("token-subscribe-failed",{errorInfo:Se})}if(le.error)throw Un.create("token-subscribe-failed",{errorInfo:le.error.message});if(!le.token)throw Un.create("token-subscribe-no-token");return le.token})).apply(this,arguments)}function Mo(T,I){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,R.Z)(function*(T,I){const O=yield Ls(T),F=Ta(I.subscriptionOptions),Q={method:"PATCH",headers:O,body:JSON.stringify(F)};let le;try{le=yield(yield fetch(`${Fs(T.appConfig)}/${I.token}`,Q)).json()}catch(Se){throw Un.create("token-update-failed",{errorInfo:Se})}if(le.error)throw Un.create("token-update-failed",{errorInfo:le.error.message});if(!le.token)throw Un.create("token-update-no-token");return le.token})).apply(this,arguments)}function gc(T,I){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,R.Z)(function*(T,I){const F={method:"DELETE",headers:yield Ls(T)};try{const le=yield(yield fetch(`${Fs(T.appConfig)}/${I}`,F)).json();if(le.error)throw Un.create("token-unsubscribe-failed",{errorInfo:le.error.message})}catch(Q){throw Un.create("token-unsubscribe-failed",{errorInfo:Q})}})).apply(this,arguments)}function Fs({projectId:T}){return`https://fcmregistrations.googleapis.com/v1/projects/${T}/registrations`}function Ls(T){return mt.apply(this,arguments)}function mt(){return(mt=(0,R.Z)(function*({appConfig:T,installations:I}){const O=yield I.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":T.apiKey,"x-goog-firebase-installations-auth":`FIS ${O}`})})).apply(this,arguments)}function Ta({p256dh:T,auth:I,endpoint:O,vapidKey:F}){const Q={web:{endpoint:O,auth:I,p256dh:T}};return F!==xo&&(Q.web.applicationPubKey=F),Q}const Ia=6048e5;function Il(T){return Da.apply(this,arguments)}function Da(){return(Da=(0,R.Z)(function*(T){const I=yield On(T.swRegistration,T.vapidKey),O={vapidKey:T.vapidKey,swScope:T.swRegistration.scope,endpoint:I.endpoint,auth:wi(I.getKey("auth")),p256dh:wi(I.getKey("p256dh"))},F=yield Ea(T.firebaseDependencies);if(F){if(xa(F.subscriptionOptions,O))return Date.now()>=F.createTime+Ia?zd(T,{token:F.token,createTime:Date.now(),subscriptionOptions:O}):F.token;try{yield gc(T.firebaseDependencies,F.token)}catch(Q){console.warn(Q)}return zt(T.firebaseDependencies,O)}return zt(T.firebaseDependencies,O)})).apply(this,arguments)}function mc(T){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,R.Z)(function*(T){const I=yield Ea(T.firebaseDependencies);I&&(yield gc(T.firebaseDependencies,I.token),yield Ca(T.firebaseDependencies));const O=yield T.swRegistration.pushManager.getSubscription();return!O||O.unsubscribe()})).apply(this,arguments)}function zd(T,I){return xe.apply(this,arguments)}function xe(){return(xe=(0,R.Z)(function*(T,I){try{const O=yield Mo(T.firebaseDependencies,I),F=Object.assign(Object.assign({},I),{token:O,createTime:Date.now()});return yield gn(T.firebaseDependencies,F),O}catch(O){throw yield mc(T),O}})).apply(this,arguments)}function zt(T,I){return Sa.apply(this,arguments)}function Sa(){return(Sa=(0,R.Z)(function*(T,I){const F={token:yield is(T,I),createTime:Date.now(),subscriptionOptions:I};return yield gn(T,F),F.token})).apply(this,arguments)}function On(T,I){return Us.apply(this,arguments)}function Us(){return(Us=(0,R.Z)(function*(T,I){return(yield T.pushManager.getSubscription())||T.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:El(I)})})).apply(this,arguments)}function xa(T,I){return I.vapidKey===T.vapidKey&&I.endpoint===T.endpoint&&I.auth===T.auth&&I.p256dh===T.p256dh}function Br(T){const I={from:T.from,collapseKey:T.collapse_key,messageId:T.fcmMessageId};return function yc(T,I){if(!I.notification)return;T.notification={};const O=I.notification.title;O&&(T.notification.title=O);const F=I.notification.body;F&&(T.notification.body=F);const Q=I.notification.image;Q&&(T.notification.image=Q)}(I,T),function _c(T,I){!I.data||(T.data=I.data)}(I,T),function Dl(T,I){if(!I.fcmOptions)return;T.fcmOptions={};const O=I.fcmOptions.link;O&&(T.fcmOptions.link=O);const F=I.fcmOptions.analytics_label;F&&(T.fcmOptions.analyticsLabel=F)}(I,T),I}function Al(T){return"object"==typeof T&&!!T&&wa in T}function Ma(T,I){const O=[];for(let F=0;F<T.length;F++)O.push(T.charAt(F)),F<I.length&&O.push(I.charAt(F));return O.join("")}function er(T){return Un.create("missing-app-config-values",{valueName:T})}Ma("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Ma("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Ei{constructor(I,O,F){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Q=function Oo(T){if(!T||!T.options)throw er("App Configuration Object");if(!T.name)throw er("App Name");const I=["projectId","apiKey","appId","messagingSenderId"],{options:O}=T;for(const F of I)if(!O[F])throw er(F);return{appName:T.name,projectId:O.projectId,apiKey:O.apiKey,appId:O.appId,senderId:O.messagingSenderId}}(I);this.firebaseDependencies={app:I,appConfig:Q,installations:O,analyticsProvider:F}}_delete(){return Promise.resolve()}}function vc(T){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,R.Z)(function*(T){try{T.swRegistration=yield navigator.serviceWorker.register(Ns,{scope:li}),T.swRegistration.update().catch(()=>{})}catch(I){throw Un.create("failed-service-worker-registration",{browserErrorMessage:I.message})}})).apply(this,arguments)}function ss(T,I){return Oa.apply(this,arguments)}function Oa(){return(Oa=(0,R.Z)(function*(T,I){if(!I&&!T.swRegistration&&(yield vc(T)),I||!T.swRegistration){if(!(I instanceof ServiceWorkerRegistration))throw Un.create("invalid-sw-registration");T.swRegistration=I}})).apply(this,arguments)}function Sl(T,I){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,R.Z)(function*(T,I){I?T.vapidKey=I:T.vapidKey||(T.vapidKey=xo)})).apply(this,arguments)}function Js(){return(Js=(0,R.Z)(function*(T,I){if(!navigator)throw Un.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Un.create("permission-blocked");return yield Sl(T,null==I?void 0:I.vapidKey),yield ss(T,null==I?void 0:I.serviceWorkerRegistration),Il(T)})).apply(this,arguments)}function mu(T,I,O){return Pa.apply(this,arguments)}function Pa(){return(Pa=(0,R.Z)(function*(T,I,O){const F=bc(I);(yield T.firebaseDependencies.analyticsProvider.get()).logEvent(F,{message_id:O[wa],message_name:O[Gd],message_time:O[gp],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function bc(T){switch(T){case ns.NOTIFICATION_CLICKED:return"notification_open";case ns.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function yu(){return(yu=(0,R.Z)(function*(T,I){const O=I.data;if(!O.isFirebaseMessaging)return;T.onMessageHandler&&O.messageType===ns.PUSH_RECEIVED&&("function"==typeof T.onMessageHandler?T.onMessageHandler(Br(O)):T.onMessageHandler.next(Br(O)));const F=O.data;Al(F)&&"1"===F[ts]&&(yield mu(T,O.messageType,F))})).apply(this,arguments)}const Xs="@firebase/messaging",eo=T=>{const I=new Ei(T.getProvider("app").getImmediate(),T.getProvider("installations-internal").getImmediate(),T.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",O=>function mp(T,I){return yu.apply(this,arguments)}(I,O)),I},Ml=T=>{const I=T.getProvider("messaging").getImmediate();return{getToken:F=>function xl(T,I){return Js.apply(this,arguments)}(I,F)}};function Ro(){return ki.apply(this,arguments)}function ki(){return(ki=(0,R.Z)(function*(){try{yield(0,oe.eu)()}catch(T){return!1}return"undefined"!=typeof window&&(0,oe.hl)()&&(0,oe.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Wd(){(0,se._registerComponent)(new me.wA("messaging",eo,"PUBLIC")),(0,se._registerComponent)(new me.wA("messaging-internal",Ml,"PRIVATE")),(0,se.registerVersion)(Xs,"0.9.13"),(0,se.registerVersion)(Xs,"0.9.13","esm2017")}();const Rl="analytics",yp="firebase_id",ka="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",_u="https://www.googletagmanager.com/gtag/js",fr=new de.Yd("@firebase/analytics");function Yd(T){return Promise.all(T.map(I=>I.catch(O=>O)))}function to(T,I){const O=document.createElement("script");O.src=`${_u}?l=${T}&id=${I}`,O.async=!0,document.head.appendChild(O)}function Pl(T,I,O,F,Q,le){return Nl.apply(this,arguments)}function Nl(){return(Nl=(0,R.Z)(function*(T,I,O,F,Q,le){const Se=F[Q];try{if(Se)yield I[Se];else{const Dt=(yield Yd(O)).find(Ct=>Ct.measurementId===Q);Dt&&(yield I[Dt.appId])}}catch(tt){fr.error(tt)}T("config",Q,le)})).apply(this,arguments)}function us(T,I,O,F,Q){return No.apply(this,arguments)}function No(){return(No=(0,R.Z)(function*(T,I,O,F,Q){try{let le=[];if(Q&&Q.send_to){let Se=Q.send_to;Array.isArray(Se)||(Se=[Se]);const tt=yield Yd(O);for(const Dt of Se){const Ct=tt.find(St=>St.measurementId===Dt),Lt=Ct&&I[Ct.appId];if(!Lt){le=[];break}le.push(Lt)}}0===le.length&&(le=Object.values(I)),yield Promise.all(le),T("event",F,Q||{})}catch(le){fr.error(le)}})).apply(this,arguments)}function mn(){const T=window.document.getElementsByTagName("script");for(const I of Object.values(T))if(I.src&&I.src.includes(_u))return I;return null}const Bn=new oe.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),La=new class bu{constructor(I={},O=1e3){this.throttleMetadata=I,this.intervalMillis=O}getThrottleMetadata(I){return this.throttleMetadata[I]}setThrottleMetadata(I,O){this.throttleMetadata[I]=O}deleteThrottleMetadata(I){delete this.throttleMetadata[I]}};function ko(T){return new Headers({Accept:"application/json","x-goog-api-key":T})}function Fo(T){return jn.apply(this,arguments)}function jn(){return(jn=(0,R.Z)(function*(T){var I;const{appId:O,apiKey:F}=T,Q={method:"GET",headers:ko(F)},le=ka.replace("{app-id}",O),Se=yield fetch(le,Q);if(200!==Se.status&&304!==Se.status){let tt="";try{const Dt=yield Se.json();(null===(I=Dt.error)||void 0===I?void 0:I.message)&&(tt=Dt.error.message)}catch(Dt){}throw Bn.create("config-fetch-failed",{httpStatus:Se.status,responseMessage:tt})}return Se.json()})).apply(this,arguments)}function Lo(T){return no.apply(this,arguments)}function no(){return(no=(0,R.Z)(function*(T,I=La,O){const{appId:F,apiKey:Q,measurementId:le}=T.options;if(!F)throw Bn.create("no-app-id");if(!Q){if(le)return{measurementId:le,appId:F};throw Bn.create("no-api-key")}const Se=I.getThrottleMetadata(F)||{backoffCount:0,throttleEndTimeMillis:Date.now()},tt=new Jd;return setTimeout((0,R.Z)(function*(){tt.abort()}),void 0!==O?O:6e4),wu({appId:F,apiKey:Q,measurementId:le},Se,tt,I)})).apply(this,arguments)}function wu(T,I,O){return Ec.apply(this,arguments)}function Ec(){return(Ec=(0,R.Z)(function*(T,{throttleEndTimeMillis:I,backoffCount:O},F,Q=La){const{appId:le,measurementId:Se}=T;try{yield Qd(F,I)}catch(tt){if(Se)return fr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Se} provided in the "measurementId" field in the local Firebase config. [${tt.message}]`),{appId:le,measurementId:Se};throw tt}try{const tt=yield Fo(T);return Q.deleteThrottleMetadata(le),tt}catch(tt){if(!Ll(tt)){if(Q.deleteThrottleMetadata(le),Se)return fr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Se} provided in the "measurementId" field in the local Firebase config. [${tt.message}]`),{appId:le,measurementId:Se};throw tt}const Dt=503===Number(tt.customData.httpStatus)?(0,oe.$s)(O,Q.intervalMillis,30):(0,oe.$s)(O,Q.intervalMillis),Ct={throttleEndTimeMillis:Date.now()+Dt,backoffCount:O+1};return Q.setThrottleMetadata(le,Ct),fr.debug(`Calling attemptFetch again in ${Dt} millis`),wu(T,Ct,F,Q)}})).apply(this,arguments)}function Qd(T,I){return new Promise((O,F)=>{const Q=Math.max(I-Date.now(),0),le=setTimeout(O,Q);T.addEventListener(()=>{clearTimeout(le),F(Bn.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}function Ll(T){if(!(T instanceof oe.ZR&&T.customData))return!1;const I=Number(T.customData.httpStatus);return 429===I||500===I||503===I||504===I}class Jd{constructor(){this.listeners=[]}addEventListener(I){this.listeners.push(I)}abort(){this.listeners.forEach(I=>I())}}function vp(){return cs.apply(this,arguments)}function cs(){return(cs=(0,R.Z)(function*(){if(!(0,oe.hl)())return fr.warn(Bn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,oe.eu)()}catch(T){return fr.warn(Bn.create("indexeddb-unavailable",{errorInfo:T}).message),!1}return!0})).apply(this,arguments)}function Sr(){return(Sr=(0,R.Z)(function*(T,I,O,F,Q,le,Se){var tt;const Dt=Lo(T);Dt.then(zn=>{O[zn.measurementId]=zn.appId,T.options.measurementId&&zn.measurementId!==T.options.measurementId&&fr.warn(`The measurement ID in the local Firebase config (${T.options.measurementId}) does not match the measurement ID fetched from the server (${zn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(zn=>fr.error(zn)),I.push(Dt);const Ct=vp().then(zn=>{if(zn)return F.getId()}),[Lt,St]=yield Promise.all([Dt,Ct]);mn()||to(le,Lt.measurementId),Q("js",new Date);const Mr=null!==(tt=null==Se?void 0:Se.config)&&void 0!==tt?tt:{};return Mr.origin="firebase",Mr.update=!0,null!=St&&(Mr[yp]=St),Q("config",Lt.measurementId,Mr),Lt.measurementId})).apply(this,arguments)}class Fi{constructor(I){this.app=I}_delete(){return delete vt[this.app.options.appId],Promise.resolve()}}let vt={},Ci=[];const Ua={};let Rn,yr,ro="dataLayer",Uo=!1;function Ul(T,I,O){!function Eu(){const T=[];if((0,oe.ru)()&&T.push("This is a browser extension environment."),(0,oe.zI)()||T.push("Cookies are not available."),T.length>0){const I=T.map((F,Q)=>`(${Q+1}) ${F}`).join(" "),O=Bn.create("invalid-analytics-context",{errorInfo:I});fr.warn(O.message)}}();const F=T.options.appId;if(!F)throw Bn.create("no-app-id");if(!T.options.apiKey){if(!T.options.measurementId)throw Bn.create("no-api-key");fr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${T.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=vt[F])throw Bn.create("already-exists",{id:F});if(!Uo){!function Po(T){let I=[];Array.isArray(window[T])?I=window[T]:window[T]=I}(ro);const{wrappedGtag:le,gtagCore:Se}=function _p(T,I,O,F,Q){let le=function(...Se){window[F].push(arguments)};return window[Q]&&"function"==typeof window[Q]&&(le=window[Q]),window[Q]=function kl(T,I,O,F){function le(){return(le=(0,R.Z)(function*(Se,tt,Dt){try{"event"===Se?yield us(T,I,O,tt,Dt):"config"===Se?yield Pl(T,I,O,F,tt,Dt):T("set",tt)}catch(Ct){fr.error(Ct)}})).apply(this,arguments)}return function Q(Se,tt,Dt){return le.apply(this,arguments)}}(le,T,I,O),{gtagCore:le,wrappedGtag:window[Q]}}(vt,Ci,Ua,ro,"gtag");yr=le,Rn=Se,Uo=!0}return vt[F]=function we(T,I,O,F,Q,le,Se){return Sr.apply(this,arguments)}(T,Ci,Ua,I,Rn,ro,O),new Fi(T)}function Ba(){return(Ba=(0,R.Z)(function*(T,I,O,F,Q){if(Q&&Q.global)T("event",O,F);else{const le=yield I;T("event",O,Object.assign(Object.assign({},F),{send_to:le}))}})).apply(this,arguments)}function Bl(){return oo.apply(this,arguments)}function oo(){return(oo=(0,R.Z)(function*(){if((0,oe.ru)()||!(0,oe.zI)()||!(0,oe.hl)())return!1;try{return yield(0,oe.eu)()}catch(T){return!1}})).apply(this,arguments)}const Ho="@firebase/analytics";!function Ic(){(0,se._registerComponent)(new me.wA(Rl,(I,{options:O})=>Ul(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),O),"PUBLIC")),(0,se._registerComponent)(new me.wA("analytics-internal",function T(I){try{const O=I.getProvider(Rl).getImmediate();return{logEvent:(F,Q,le)=>function wp(T,I,O,F){T=(0,oe.m9)(T),function Vl(T,I,O,F,Q){return Ba.apply(this,arguments)}(yr,vt[T.app.options.appId],I,O,F).catch(Q=>fr.error(Q))}(O,F,Q,le)}}catch(O){throw Bn.create("interop-component-reg-failed",{reason:O})}},"PRIVATE")),(0,se.registerVersion)(Ho,"0.7.9"),(0,se.registerVersion)(Ho,"0.7.9","esm2017")}();var $o=P(4408),Qn=P(7565);const Ha=new class ja extends Qn.v{}(class Hl extends $o.o{constructor(I,O){super(I,O),this.scheduler=I,this.work=O}schedule(I,O=0){return O>0?super.schedule(I,O):(this.delay=O,this.state=I,this.scheduler.flush(this),this)}execute(I,O){return O>0||this.closed?super.execute(I,O):this._execute(I,O)}requestAsyncId(I,O,F=0){return null!=F&&F>0||null==F&&this.delay>0?super.requestAsyncId(I,O,F):I.flush(this)}});var Dc=P(4986),_r=P(8306),xr=P(8505),qo=P(9468),ds=P(5363);const ao=new a.GfV("7.3.0"),Zo="__angularfire_symbol__analyticsIsSupportedValue",Li="__angularfire_symbol__analyticsIsSupported",$a="__angularfire_symbol__remoteConfigIsSupportedValue",Tu="__angularfire_symbol__remoteConfigIsSupported",Ac="__angularfire_symbol__messagingIsSupportedValue",qa="__angularfire_symbol__messagingIsSupported";function uo(T,I,O){if(I){if(1===I.length)return I[0];const le=I.filter(Se=>Se.app===O);if(1===le.length)return le[0]}return O.container.getProvider(T).getImmediate({optional:!0})}globalThis[Li]||(globalThis[Li]=Bl().then(T=>globalThis[Zo]=T).catch(()=>globalThis[Zo]=!1)),globalThis[qa]||(globalThis[qa]=Ro().then(T=>globalThis[Ac]=T).catch(()=>globalThis[Ac]=!1)),globalThis[Tu]||(globalThis[Tu]=Jm().then(T=>globalThis[$a]=T).catch(()=>globalThis[$a]=!1));const xc=(T,I)=>{const O=I?[I]:(0,U.C6)(),F=[];return O.forEach(Q=>{Q.container.getProvider(T).instances.forEach(Se=>{F.includes(Se)||F.push(Se)})}),F};function Ui(){}class Iu{constructor(I,O=Ha){this.zone=I,this.delegate=O}now(){return this.delegate.now()}schedule(I,O,F){const Q=this.zone;return this.delegate.schedule(function(Se){Q.runGuarded(()=>{I.apply(this,[Se])})},O,F)}}class Du{constructor(I){this.zone=I,this.task=null}call(I,O){const F=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ui,{},Ui,Ui)),O.pipe((0,xr.b)({next:F,complete:F,error:F})).subscribe(I).add(F)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Mc=(()=>{class T{constructor(O){this.ngZone=O,this.outsideAngular=O.runOutsideAngular(()=>new Iu(Zone.current)),this.insideAngular=O.run(()=>new Iu(Zone.current,Dc.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return T.\u0275fac=function(O){return new(O||T)(a.LFG(a.R0b))},T.\u0275prov=a.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})();function hs(){const T=globalThis.\u0275AngularFireScheduler;if(!T)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return T}function Vi(T){return hs().ngZone.runOutsideAngular(()=>T())}function Bi(T){return hs().ngZone.run(()=>T())}function zo(T){return hs(),function Wo(T){return function(O){return(O=O.lift(new Du(T.ngZone))).pipe((0,qo.R)(T.outsideAngular),(0,ds.Q)(T.insideAngular))}}(hs())(T)}const Xd=(T,I)=>function(){const F=arguments;return I&&setTimeout(()=>{"scheduled"===I.state&&I.invoke()},10),Bi(()=>T.apply(void 0,F))},ql=(T,I)=>function(){let O;const F=arguments;for(let le=0;le<arguments.length;le++)"function"==typeof F[le]&&(I&&(O||(O=Bi(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ui,{},Ui,Ui)))),F[le]=Xd(F[le],O));const Q=Vi(()=>T.apply(this,F));if(!I){if(Q instanceof _r.y){const le=hs();return Q.pipe((0,qo.R)(le.outsideAngular),(0,ds.Q)(le.insideAngular))}return Bi(()=>Q)}return Q instanceof _r.y?Q.pipe(zo):Q instanceof Promise?Bi(()=>new Promise((le,Se)=>Q.then(tt=>Bi(()=>le(tt)),tt=>Bi(()=>Se(tt))))):"function"==typeof Q&&O?function(){return setTimeout(()=>{O&&"scheduled"===O.state&&O.invoke()},10),Q.apply(this,arguments)}:Bi(()=>Q)}},198:(et,Ie,P)=>{P.d(Ie,{$:()=>Fs,A:()=>j,B:()=>Me,G:()=>En,H:()=>ln,J:()=>Xi,L:()=>cn,M:()=>va,N:()=>ba,P:()=>Zo,Q:()=>wa,R:()=>Ic,T:()=>Gd,U:()=>xo,V:()=>ns,W:()=>wi,X:()=>Tl,Y:()=>gu,Z:()=>is,_:()=>Mo,a:()=>vu,a0:()=>Il,a1:()=>mc,a2:()=>zd,a3:()=>zt,a4:()=>On,a5:()=>xa,a6:()=>yc,a7:()=>_c,a8:()=>Al,a9:()=>Ma,aA:()=>Ko,aB:()=>zn,aC:()=>ql,aD:()=>Xd,aE:()=>je,aI:()=>ko,aL:()=>ts,aa:()=>vc,ab:()=>ss,ac:()=>Sl,af:()=>mu,ag:()=>bc,ah:()=>mp,ak:()=>rs,al:()=>hr,an:()=>_u,ao:()=>Nl,ap:()=>qn,aq:()=>Ce,ar:()=>Bt,as:()=>at,at:()=>qe,au:()=>fs,av:()=>Gl,aw:()=>Oe,ax:()=>ee,ay:()=>te,az:()=>wt,b:()=>Bn,c:()=>iy,d:()=>Iu,e:()=>xc,f:()=>O,g:()=>Dt,h:()=>le,i:()=>Ul,j:()=>St,k:()=>Sp,l:()=>Ha,m:()=>k0,n:()=>V0,o:()=>ae,r:()=>Dc,s:()=>Qn,u:()=>ds,v:()=>Ol});var a=P(5861),U=P(2090),R=P(9681),se=P(655),oe=P(1877),me=P(4859);const ae={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},j={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Me=function re(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Le=function Ge(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},$e=new U.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),De=new oe.Yd("@firebase/auth");function Ze(v,...g){De.logLevel<=oe.in.ERROR&&De.error(`Auth (${R.SDK_VERSION}): ${v}`,...g)}function qe(v,...g){throw We(v,...g)}function Oe(v,...g){return We(v,...g)}function Re(v,g,m){const w=Object.assign(Object.assign({},Le()),{[g]:m});return new U.LL("auth","Firebase",w).create(g,{appName:v.name})}function Ee(v,g,m){if(!(g instanceof m))throw m.name!==g.constructor.name&&qe(v,"argument-error"),Re(v,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function We(v,...g){if("string"!=typeof v){const m=g[0],w=[...g.slice(1)];return w[0]&&(w[0].appName=v.name),v._errorFactory.create(m,...w)}return $e.create(v,...g)}function ee(v,g,...m){if(!v)throw We(g,...m)}function he(v){const g="INTERNAL ASSERTION FAILED: "+v;throw Ze(g),new Error(g)}function Ce(v,g){v||he(g)}const Y=new Map;function te(v){Ce(v instanceof Function,"Expected a class definition");let g=Y.get(v);return g?(Ce(g instanceof v,"Instance stored in cache mismatched with class"),g):(g=new v,Y.set(v,g),g)}function ce(){var v;return"undefined"!=typeof self&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function Ue(){return"http:"===ht()||"https:"===ht()}function ht(){var v;return"undefined"!=typeof self&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class Qe{constructor(g,m){this.shortDelay=g,this.longDelay=m,Ce(m>g,"Short delay should be less than long delay!"),this.isMobile=(0,U.uI)()||(0,U.b$)()}get(){return function Xt(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Ue()||(0,U.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function hn(v,g){Ce(v.emulator,"Emulator should always be set here");const{url:m}=v.emulator;return g?`${m}${g.startsWith("/")?g.slice(1):g}`:m}class kn{static initialize(g,m,w){this.fetchImpl=g,m&&(this.headersImpl=m),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void he("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void he("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void he("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const _n={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},an=new Qe(3e4,6e4);function Zt(v,g){return v.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:v.tenantId}):g}function tn(v,g,m,w){return In.apply(this,arguments)}function In(){return(In=(0,a.Z)(function*(v,g,m,w,x={}){return Si(v,x,(0,a.Z)(function*(){let N={},ne={};w&&("GET"===g?ne=w:N={body:JSON.stringify(w)});const ke=(0,U.xO)(Object.assign({key:v.config.apiKey},ne)).slice(1),st=yield v._getAdditionalHeaders();return st["Content-Type"]="application/json",v.languageCode&&(st["X-Firebase-Locale"]=v.languageCode),kn.fetch()(si(v,v.config.apiHost,m,ke),Object.assign({method:g,headers:st,referrerPolicy:"no-referrer"},N))}))})).apply(this,arguments)}function Si(v,g,m){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,a.Z)(function*(v,g,m){v._canInitEmulator=!1;const w=Object.assign(Object.assign({},_n),g);try{const x=new bi(v),N=yield Promise.race([m(),x.promise]);x.clearNetworkTimeout();const ne=yield N.json();if("needConfirmation"in ne)throw Wn(v,"account-exists-with-different-credential",ne);if(N.ok&&!("errorMessage"in ne))return ne;{const ke=N.ok?ne.errorMessage:ne.error.message,[st,yt]=ke.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===st)throw Wn(v,"credential-already-in-use",ne);if("EMAIL_EXISTS"===st)throw Wn(v,"email-already-in-use",ne);const Yt=w[st]||st.toLowerCase().replace(/[_\s]+/g,"-");if(yt)throw Re(v,Yt,yt);qe(v,Yt)}}catch(x){if(x instanceof U.ZR)throw x;qe(v,"network-request-failed")}})).apply(this,arguments)}function Sn(v,g,m,w){return xi.apply(this,arguments)}function xi(){return(xi=(0,a.Z)(function*(v,g,m,w,x={}){const N=yield tn(v,g,m,w,x);return"mfaPendingCredential"in N&&qe(v,"multi-factor-auth-required",{_serverResponse:N}),N})).apply(this,arguments)}function si(v,g,m,w){const x=`${g}${m}?${w}`;return v.config.emulator?hn(v.config,x):`${v.config.apiScheme}://${x}`}class bi{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((m,w)=>{this.timer=setTimeout(()=>w(Oe(this.auth,"network-request-failed")),an.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Wn(v,g,m){const w={appName:v.name};m.email&&(w.email=m.email),m.phoneNumber&&(w.phoneNumber=m.phoneNumber);const x=Oe(v,g,w);return x.customData._tokenResponse=m,x}function gt(){return(gt=(0,a.Z)(function*(v,g){return tn(v,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function Lr(v,g){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,a.Z)(function*(v,g){return tn(v,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function nn(v,g){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,a.Z)(function*(v,g){return tn(v,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function ar(v){if(v)try{const g=new Date(Number(v));if(!isNaN(g.getTime()))return g.toUTCString()}catch(g){}}function ur(){return(ur=(0,a.Z)(function*(v,g=!1){const m=(0,U.m9)(v),w=yield m.getIdToken(g),x=Wt(w);ee(x&&x.exp&&x.auth_time&&x.iat,m.auth,"internal-error");const N="object"==typeof x.firebase?x.firebase:void 0,ne=null==N?void 0:N.sign_in_provider;return{claims:x,token:w,authTime:ar(Os(x.auth_time)),issuedAtTime:ar(Os(x.iat)),expirationTime:ar(Os(x.exp)),signInProvider:ne||null,signInSecondFactor:(null==N?void 0:N.sign_in_second_factor)||null}})).apply(this,arguments)}function Os(v){return 1e3*Number(v)}function Wt(v){const[g,m,w]=v.split(".");if(void 0===g||void 0===m||void 0===w)return Ze("JWT malformed, contained fewer than 3 sections"),null;try{const x=(0,U.tV)(m);return x?JSON.parse(x):(Ze("Failed to decode base64 JWT payload"),null)}catch(x){return Ze("Caught error parsing JWT payload as JSON",x),null}}function it(v,g){return oi.apply(this,arguments)}function oi(){return(oi=(0,a.Z)(function*(v,g,m=!1){if(m)return g;try{return yield g}catch(w){throw w instanceof U.ZR&&ai(w)&&v.auth.currentUser===v&&(yield v.auth.signOut()),w}})).apply(this,arguments)}function ai({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}class Gt{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var m;if(g){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const x=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,x)}}schedule(g=!1){var m=this;if(!this.isRunning)return;const w=this.getInterval(g);this.timerId=setTimeout((0,a.Z)(function*(){yield m.iteration()}),w)}iteration(){var g=this;return(0,a.Z)(function*(){try{yield g.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m.code&&g.schedule(!0))}g.schedule()})()}}class Oi{constructor(g,m){this.createdAt=g,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=ar(this.lastLoginAt),this.creationTime=ar(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Fn(v){return fn.apply(this,arguments)}function fn(){return(fn=(0,a.Z)(function*(v){var g;const m=v.auth,w=yield v.getIdToken(),x=yield it(v,nn(m,{idToken:w}));ee(null==x?void 0:x.users.length,m,"internal-error");const N=x.users[0];v._notifyReloadListener(N);const ne=(null===(g=N.providerUserInfo)||void 0===g?void 0:g.length)?be(N.providerUserInfo):[],ke=W(v.providerData,ne),Yt=!!v.isAnonymous&&!(v.email&&N.passwordHash||(null==ke?void 0:ke.length)),xn={uid:N.localId,displayName:N.displayName||null,photoURL:N.photoUrl||null,email:N.email||null,emailVerified:N.emailVerified||!1,phoneNumber:N.phoneNumber||null,tenantId:N.tenantId||null,providerData:ke,metadata:new Oi(N.createdAt,N.lastLoginAt),isAnonymous:Yt};Object.assign(v,xn)})).apply(this,arguments)}function Z(){return(Z=(0,a.Z)(function*(v){const g=(0,U.m9)(v);yield Fn(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function W(v,g){return[...v.filter(w=>!g.some(x=>x.providerId===w.providerId)),...g]}function be(v){return v.map(g=>{var{providerId:m}=g,w=(0,se._T)(g,["providerId"]);return{providerId:m,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}function J(){return(J=(0,a.Z)(function*(v,g){const m=yield Si(v,{},(0,a.Z)(function*(){const w=(0,U.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:x,apiKey:N}=v.config,ne=si(v,x,"/v1/token",`key=${N}`),ke=yield v._getAdditionalHeaders();return ke["Content-Type"]="application/x-www-form-urlencoded",kn.fetch()(ne,{method:"POST",headers:ke,body:w})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class Ne{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){ee(g.idToken,"internal-error"),ee(void 0!==g.idToken,"internal-error"),ee(void 0!==g.refreshToken,"internal-error");const m="expiresIn"in g&&void 0!==g.expiresIn?Number(g.expiresIn):function ct(v){const g=Wt(v);return ee(g,"internal-error"),ee(void 0!==g.exp,"internal-error"),ee(void 0!==g.iat,"internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,m)}getToken(g,m=!1){var w=this;return(0,a.Z)(function*(){return ee(!w.accessToken||w.refreshToken,g,"user-token-expired"),m||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(g,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,m){var w=this;return(0,a.Z)(function*(){const{accessToken:x,refreshToken:N,expiresIn:ne}=yield function H(v,g){return J.apply(this,arguments)}(g,m);w.updateTokensAndExpiration(x,N,Number(ne))})()}updateTokensAndExpiration(g,m,w){this.refreshToken=m||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(g,m){const{refreshToken:w,accessToken:x,expirationTime:N}=m,ne=new Ne;return w&&(ee("string"==typeof w,"internal-error",{appName:g}),ne.refreshToken=w),x&&(ee("string"==typeof x,"internal-error",{appName:g}),ne.accessToken=x),N&&(ee("number"==typeof N,"internal-error",{appName:g}),ne.expirationTime=N),ne}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new Ne,this.toJSON())}_performRefresh(){return he("not implemented")}}function Xe(v,g){ee("string"==typeof v||void 0===v,"internal-error",{appName:g})}class ft{constructor(g){var{uid:m,auth:w,stsTokenManager:x}=g,N=(0,se._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Gt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=w,this.stsTokenManager=x,this.accessToken=x.accessToken,this.displayName=N.displayName||null,this.email=N.email||null,this.emailVerified=N.emailVerified||!1,this.phoneNumber=N.phoneNumber||null,this.photoURL=N.photoURL||null,this.isAnonymous=N.isAnonymous||!1,this.tenantId=N.tenantId||null,this.providerData=N.providerData?[...N.providerData]:[],this.metadata=new Oi(N.createdAt||void 0,N.lastLoginAt||void 0)}getIdToken(g){var m=this;return(0,a.Z)(function*(){const w=yield it(m,m.stsTokenManager.getToken(m.auth,g));return ee(w,m.auth,"internal-error"),m.accessToken!==w&&(m.accessToken=w,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),w})()}getIdTokenResult(g){return function Dn(v){return ur.apply(this,arguments)}(this,g)}reload(){return function V(v){return Z.apply(this,arguments)}(this)}_assign(g){this!==g&&(ee(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(m=>Object.assign({},m)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){return new ft(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(g){ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,m=!1){var w=this;return(0,a.Z)(function*(){let x=!1;g.idToken&&g.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(g),x=!0),m&&(yield Fn(w)),yield w.auth._persistUserIfCurrent(w),x&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var g=this;return(0,a.Z)(function*(){const m=yield g.getIdToken();return yield it(g,function Mi(v,g){return gt.apply(this,arguments)}(g.auth,{idToken:m})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,m){var w,x,N,ne,ke,st,yt,Yt;const xn=null!==(w=m.displayName)&&void 0!==w?w:void 0,ps=null!==(x=m.email)&&void 0!==x?x:void 0,lo=null!==(N=m.phoneNumber)&&void 0!==N?N:void 0,Mp=null!==(ne=m.photoURL)&&void 0!==ne?ne:void 0,B0=null!==(ke=m.tenantId)&&void 0!==ke?ke:void 0,ah=null!==(st=m._redirectEventId)&&void 0!==st?st:void 0,hy=null!==(yt=m.createdAt)&&void 0!==yt?yt:void 0,fy=null!==(Yt=m.lastLoginAt)&&void 0!==Yt?Yt:void 0,{uid:Op,emailVerified:py,isAnonymous:Rp,providerData:Pc,stsTokenManager:Pp}=m;ee(Op&&Pp,g,"internal-error");const Np=Ne.fromJSON(this.name,Pp);ee("string"==typeof Op,g,"internal-error"),Xe(xn,g.name),Xe(ps,g.name),ee("boolean"==typeof py,g,"internal-error"),ee("boolean"==typeof Rp,g,"internal-error"),Xe(lo,g.name),Xe(Mp,g.name),Xe(B0,g.name),Xe(ah,g.name),Xe(hy,g.name),Xe(fy,g.name);const kp=new ft({uid:Op,auth:g,email:ps,emailVerified:py,displayName:xn,isAnonymous:Rp,photoURL:Mp,phoneNumber:lo,tenantId:B0,stsTokenManager:Np,createdAt:hy,lastLoginAt:fy});return Pc&&Array.isArray(Pc)&&(kp.providerData=Pc.map(tr=>Object.assign({},tr))),ah&&(kp._redirectEventId=ah),kp}static _fromIdTokenResponse(g,m,w=!1){return(0,a.Z)(function*(){const x=new Ne;x.updateFromServerResponse(m);const N=new ft({uid:m.localId,auth:g,stsTokenManager:x,isAnonymous:w});return yield Fn(N),N})()}}const cn=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,a.Z)(function*(){return!0})()}_set(m,w){var x=this;return(0,a.Z)(function*(){x.storage[m]=w})()}_get(m){var w=this;return(0,a.Z)(function*(){const x=w.storage[m];return void 0===x?null:x})()}_remove(m){var w=this;return(0,a.Z)(function*(){delete w.storage[m]})()}_addListener(m,w){}_removeListener(m,w){}}return v.type="NONE",v})();function wt(v,g,m){return`firebase:${v}:${g}:${m}`}class Kn{constructor(g,m,w){this.persistence=g,this.auth=m,this.userKey=w;const{config:x,name:N}=this.auth;this.fullUserKey=wt(this.userKey,x.apiKey,N),this.fullPersistenceKey=wt("persistence",x.apiKey,N),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,a.Z)(function*(){const m=yield g.persistence._get(g.fullUserKey);return m?ft._fromJSON(g.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var m=this;return(0,a.Z)(function*(){if(m.persistence===g)return;const w=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=g,w?m.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,m,w="authUser"){return(0,a.Z)(function*(){if(!m.length)return new Kn(te(cn),g,w);const x=(yield Promise.all(m.map(function(){var yt=(0,a.Z)(function*(Yt){if(yield Yt._isAvailable())return Yt});return function(Yt){return yt.apply(this,arguments)}}()))).filter(yt=>yt);let N=x[0]||te(cn);const ne=wt(w,g.config.apiKey,g.name);let ke=null;for(const yt of m)try{const Yt=yield yt._get(ne);if(Yt){const xn=ft._fromJSON(g,Yt);yt!==N&&(ke=xn),N=yt;break}}catch(Yt){}const st=x.filter(yt=>yt._shouldAllowMigration);return N._shouldAllowMigration&&st.length?(N=st[0],ke&&(yield N._set(ne,ke.toJSON())),yield Promise.all(m.map(function(){var yt=(0,a.Z)(function*(Yt){if(Yt!==N)try{yield Yt._remove(ne)}catch(xn){}});return function(Yt){return yt.apply(this,arguments)}}())),new Kn(N,g,w)):new Kn(N,g,w)})()}}function ue(v){const g=v.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(Ke(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(K(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(Mt(g))return"Blackberry";if(Kt(g))return"Webos";if(z(g))return"Safari";if((g.includes("chrome/")||Ae(g))&&!g.includes("edge/"))return"Chrome";if(at(g))return"Android";{const w=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==w?void 0:w.length))return w[1]}return"Other"}function K(v=(0,U.z$)()){return/firefox\//i.test(v)}function z(v=(0,U.z$)()){const g=v.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function Ae(v=(0,U.z$)()){return/crios\//i.test(v)}function Ke(v=(0,U.z$)()){return/iemobile/i.test(v)}function at(v=(0,U.z$)()){return/android/i.test(v)}function Mt(v=(0,U.z$)()){return/blackberry/i.test(v)}function Kt(v=(0,U.z$)()){return/webos/i.test(v)}function Bt(v=(0,U.z$)()){return/iphone|ipad|ipod/i.test(v)}function qn(v=(0,U.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}function Dr(v=(0,U.z$)()){return Bt(v)||at(v)||Kt(v)||Mt(v)||/windows phone/i.test(v)||Ke(v)}function cr(v,g=[]){let m;switch(v){case"Browser":m=ue((0,U.z$)());break;case"Worker":m=`${ue((0,U.z$)())}-${v}`;break;default:m=v}const w=g.length?g.join(","):"FirebaseCore-web";return`${m}/JsCore/${R.SDK_VERSION}/${w}`}class ya{constructor(g){this.auth=g,this.queue=[]}pushCallback(g,m){const w=N=>new Promise((ne,ke)=>{try{ne(g(N))}catch(st){ke(st)}});w.onAbort=m,this.queue.push(w);const x=this.queue.length-1;return()=>{this.queue[x]=()=>Promise.resolve()}}runMiddleware(g){var m=this;return(0,a.Z)(function*(){if(m.auth.currentUser===g)return;const w=[];try{for(const x of m.queue)yield x(g),x.onAbort&&w.push(x.onAbort)}catch(x){w.reverse();for(const N of w)try{N()}catch(ne){}throw m.auth._errorFactory.create("login-blocked",{originalMessage:x.message})}})()}}class Yr{constructor(g,m,w){this.app=g,this.heartbeatServiceProvider=m,this.config=w,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ft(this),this.idTokenSubscription=new Ft(this),this.beforeStateQueue=new ya(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=$e,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=w.sdkClientVersion}_initializeWithPersistence(g,m){var w=this;return m&&(this._popupRedirectResolver=te(m)),this._initializationPromise=this.queue((0,a.Z)(function*(){var x,N;if(!w._deleted&&(w.persistenceManager=yield Kn.create(w,g),!w._deleted)){if(null===(x=w._popupRedirectResolver)||void 0===x?void 0:x._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch(ne){}yield w.initializeCurrentUser(m),w.lastNotifiedUid=(null===(N=w.currentUser)||void 0===N?void 0:N.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,a.Z)(function*(){if(g._deleted)return;const m=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||m){if(g.currentUser&&m&&g.currentUser.uid===m.uid)return g._currentUser._assign(m),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(m,!0)}})()}initializeCurrentUser(g){var m=this;return(0,a.Z)(function*(){var w;const x=yield m.assertedPersistence.getCurrentUser();let N=x,ne=!1;if(g&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const ke=null===(w=m.redirectUser)||void 0===w?void 0:w._redirectEventId,st=null==N?void 0:N._redirectEventId,yt=yield m.tryRedirectSignIn(g);(!ke||ke===st)&&(null==yt?void 0:yt.user)&&(N=yt.user,ne=!0)}if(!N)return m.directlySetCurrentUser(null);if(!N._redirectEventId){if(ne)try{yield m.beforeStateQueue.runMiddleware(N)}catch(ke){N=x,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(ke))}return N?m.reloadAndSetCurrentUserOrClear(N):m.directlySetCurrentUser(null)}return ee(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===N._redirectEventId?m.directlySetCurrentUser(N):m.reloadAndSetCurrentUserOrClear(N)})()}tryRedirectSignIn(g){var m=this;return(0,a.Z)(function*(){let w=null;try{w=yield m._popupRedirectResolver._completeRedirectFn(m,g,!0)}catch(x){yield m._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(g){var m=this;return(0,a.Z)(function*(){try{yield Fn(g)}catch(w){if("auth/network-request-failed"!==w.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function qt(){if("undefined"==typeof navigator)return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var g=this;return(0,a.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var m=this;return(0,a.Z)(function*(){const w=g?(0,U.m9)(g):null;return w&&ee(w.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(w&&w._clone(m))})()}_updateCurrentUser(g,m=!1){var w=this;return(0,a.Z)(function*(){if(!w._deleted)return g&&ee(w.tenantId===g.tenantId,w,"tenant-id-mismatch"),m||(yield w.beforeStateQueue.runMiddleware(g)),w.queue((0,a.Z)(function*(){yield w.directlySetCurrentUser(g),w.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,a.Z)(function*(){return yield g.beforeStateQueue.runMiddleware(null),(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null,!0)})()}setPersistence(g){var m=this;return this.queue((0,a.Z)(function*(){yield m.assertedPersistence.setPersistence(te(g))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new U.LL("auth","Firebase",g())}onAuthStateChanged(g,m,w){return this.registerStateListener(this.authStateSubscription,g,m,w)}beforeAuthStateChanged(g,m){return this.beforeStateQueue.pushCallback(g,m)}onIdTokenChanged(g,m,w){return this.registerStateListener(this.idTokenSubscription,g,m,w)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,m){var w=this;return(0,a.Z)(function*(){const x=yield w.getOrInitRedirectPersistenceManager(m);return null===g?x.removeCurrentUser():x.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var m=this;return(0,a.Z)(function*(){if(!m.redirectPersistenceManager){const w=g&&te(g)||m._popupRedirectResolver;ee(w,m,"argument-error"),m.redirectPersistenceManager=yield Kn.create(m,[te(w._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(g){var m=this;return(0,a.Z)(function*(){var w,x;return m._isInitialized&&(yield m.queue((0,a.Z)(function*(){}))),(null===(w=m._currentUser)||void 0===w?void 0:w._redirectEventId)===g?m._currentUser:(null===(x=m.redirectUser)||void 0===x?void 0:x._redirectEventId)===g?m.redirectUser:null})()}_persistUserIfCurrent(g){var m=this;return(0,a.Z)(function*(){if(g===m.currentUser)return m.queue((0,a.Z)(function*(){return m.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(m=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,m,w,x){if(this._deleted)return()=>{};const N="function"==typeof m?m:m.next.bind(m),ne=this._isInitialized?Promise.resolve():this._initializationPromise;return ee(ne,this,"internal-error"),ne.then(()=>N(this.currentUser)),"function"==typeof m?g.addObserver(m,w,x):g.addObserver(m)}directlySetCurrentUser(g){var m=this;return(0,a.Z)(function*(){m.currentUser&&m.currentUser!==g&&(m._currentUser._stopProactiveRefresh(),g&&m.isProactiveRefreshEnabled&&g._startProactiveRefresh()),m.currentUser=g,g?yield m.assertedPersistence.setCurrentUser(g):yield m.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=cr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,a.Z)(function*(){var m;const w={"X-Client-Version":g.clientVersion};g.app.options.appId&&(w["X-Firebase-gmpid"]=g.app.options.appId);const x=yield null===(m=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();return x&&(w["X-Firebase-Client"]=x),w})()}}function je(v){return(0,U.m9)(v)}class Ft{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,U.ne)(m=>this.observer=m)}get next(){return ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function En(v,g,m){const w=je(v);ee(w._canInitEmulator,w,"emulator-config-failed"),ee(/^https?:\/\//.test(g),w,"invalid-emulator-scheme");const x=!!(null==m?void 0:m.disableWarnings),N=Vr(g),{host:ne,port:ke}=function Qi(v){const g=Vr(v),m=/(\/\/)?([^?#/]+)/.exec(v.substr(g.length));if(!m)return{host:"",port:null};const w=m[2].split("@").pop()||"",x=/^(\[[^\]]+\])(:|$)/.exec(w);if(x){const N=x[1];return{host:N,port:Zn(w.substr(N.length+1))}}{const[N,ne]=w.split(":");return{host:N,port:Zn(ne)}}}(g);w.config.emulator={url:`${N}//${ne}${null===ke?"":`:${ke}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:ne,port:ke,protocol:N.replace(":",""),options:Object.freeze({disableWarnings:x})}),x||function Ji(){function v(){const g=document.createElement("p"),m=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}function Vr(v){const g=v.indexOf(":");return g<0?"":v.substr(0,g+1)}function Zn(v){if(!v)return null;const g=Number(v);return isNaN(g)?null:g}class ln{constructor(g,m){this.providerId=g,this.signInMethod=m}toJSON(){return he("not implemented")}_getIdTokenResponse(g){return he("not implemented")}_linkToIdToken(g,m){return he("not implemented")}_getReauthenticationResolver(g){return he("not implemented")}}function Gs(v,g){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,a.Z)(function*(v,g){return tn(v,"POST","/v1/accounts:resetPassword",Zt(v,g))})).apply(this,arguments)}function Nt(v,g){return zs.apply(this,arguments)}function zs(){return(zs=(0,a.Z)(function*(v,g){return tn(v,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Ws(v,g){return Io.apply(this,arguments)}function Io(){return(Io=(0,a.Z)(function*(v,g){return tn(v,"POST","/v1/accounts:update",Zt(v,g))})).apply(this,arguments)}function en(){return(en=(0,a.Z)(function*(v,g){return Sn(v,"POST","/v1/accounts:signInWithPassword",Zt(v,g))})).apply(this,arguments)}function Rs(v,g){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,a.Z)(function*(v,g){return tn(v,"POST","/v1/accounts:sendOobCode",Zt(v,g))})).apply(this,arguments)}function Gn(v,g){return pn.apply(this,arguments)}function pn(){return(pn=(0,a.Z)(function*(v,g){return Rs(v,g)})).apply(this,arguments)}function ml(v,g){return Ys.apply(this,arguments)}function Ys(){return(Ys=(0,a.Z)(function*(v,g){return Rs(v,g)})).apply(this,arguments)}function ui(v,g){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,a.Z)(function*(v,g){return Rs(v,g)})).apply(this,arguments)}function yl(v,g){return uu.apply(this,arguments)}function uu(){return(uu=(0,a.Z)(function*(v,g){return Rs(v,g)})).apply(this,arguments)}function ci(){return(ci=(0,a.Z)(function*(v,g){return Sn(v,"POST","/v1/accounts:signInWithEmailLink",Zt(v,g))})).apply(this,arguments)}function _l(){return(_l=(0,a.Z)(function*(v,g){return Sn(v,"POST","/v1/accounts:signInWithEmailLink",Zt(v,g))})).apply(this,arguments)}class cu extends ln{constructor(g,m,w,x=null){super("password",w),this._email=g,this._password=m,this._tenantId=x}static _fromEmailAndPassword(g,m){return new cu(g,m,"password")}static _fromEmailAndCode(g,m,w=null){return new cu(g,m,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const m="string"==typeof g?JSON.parse(g):g;if((null==m?void 0:m.email)&&(null==m?void 0:m.password)){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(g){var m=this;return(0,a.Z)(function*(){switch(m.signInMethod){case"password":return function Do(v,g){return en.apply(this,arguments)}(g,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function Ps(v,g){return ci.apply(this,arguments)}(g,{email:m._email,oobCode:m._password});default:qe(g,"internal-error")}})()}_linkToIdToken(g,m){var w=this;return(0,a.Z)(function*(){switch(w.signInMethod){case"password":return Nt(g,{idToken:m,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function dc(v,g){return _l.apply(this,arguments)}(g,{idToken:m,email:w._email,oobCode:w._password});default:qe(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function Yn(v,g){return vl.apply(this,arguments)}function vl(){return(vl=(0,a.Z)(function*(v,g){return Sn(v,"POST","/v1/accounts:signInWithIdp",Zt(v,g))})).apply(this,arguments)}class Xi extends ln{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const m=new Xi(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(m.idToken=g.idToken),g.accessToken&&(m.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(m.nonce=g.nonce),g.pendingToken&&(m.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(m.accessToken=g.oauthToken,m.secret=g.oauthTokenSecret):qe("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const m="string"==typeof g?JSON.parse(g):g,{providerId:w,signInMethod:x}=m,N=(0,se._T)(m,["providerId","signInMethod"]);if(!w||!x)return null;const ne=new Xi(w,x);return ne.idToken=N.idToken||void 0,ne.accessToken=N.accessToken||void 0,ne.secret=N.secret,ne.nonce=N.nonce,ne.pendingToken=N.pendingToken||null,ne}_getIdTokenResponse(g){return Yn(g,this.buildRequest())}_linkToIdToken(g,m){const w=this.buildRequest();return w.idToken=m,Yn(g,w)}_getReauthenticationResolver(g){const m=this.buildRequest();return m.autoCreate=!1,Yn(g,m)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),g.postBody=(0,U.xO)(m)}return g}}function lp(v,g){return lu.apply(this,arguments)}function lu(){return(lu=(0,a.Z)(function*(v,g){return tn(v,"POST","/v1/accounts:sendVerificationCode",Zt(v,g))})).apply(this,arguments)}function _a(){return(_a=(0,a.Z)(function*(v,g){return Sn(v,"POST","/v1/accounts:signInWithPhoneNumber",Zt(v,g))})).apply(this,arguments)}function hc(){return(hc=(0,a.Z)(function*(v,g){const m=yield Sn(v,"POST","/v1/accounts:signInWithPhoneNumber",Zt(v,g));if(m.temporaryProof)throw Wn(v,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const hp={USER_NOT_FOUND:"user-not-found"};function bl(){return(bl=(0,a.Z)(function*(v,g){return Sn(v,"POST","/v1/accounts:signInWithPhoneNumber",Zt(v,Object.assign(Object.assign({},g),{operation:"REAUTH"})),hp)})).apply(this,arguments)}class So extends ln{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,m){return new So({verificationId:g,verificationCode:m})}static _fromTokenResponse(g,m){return new So({phoneNumber:g,temporaryProof:m})}_getIdTokenResponse(g){return function dp(v,g){return _a.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,m){return function Ao(v,g){return hc.apply(this,arguments)}(g,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function fp(v,g){return bl.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:m,verificationId:w,verificationCode:x}=this.params;return g&&m?{temporaryProof:g,phoneNumber:m}:{sessionInfo:w,code:x}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:m,verificationCode:w,phoneNumber:x,temporaryProof:N}=g;return w||m||x||N?new So({verificationId:m,verificationCode:w,phoneNumber:x,temporaryProof:N}):null}}class es{constructor(g){var m,w,x,N,ne,ke;const st=(0,U.zd)((0,U.pd)(g)),yt=null!==(m=st.apiKey)&&void 0!==m?m:null,Yt=null!==(w=st.oobCode)&&void 0!==w?w:null,xn=function pp(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(x=st.mode)&&void 0!==x?x:null);ee(yt&&Yt&&xn,"argument-error"),this.apiKey=yt,this.operation=xn,this.code=Yt,this.continueUrl=null!==(N=st.continueUrl)&&void 0!==N?N:null,this.languageCode=null!==(ne=st.languageCode)&&void 0!==ne?ne:null,this.tenantId=null!==(ke=st.tenantId)&&void 0!==ke?ke:null}static parseLink(g){const m=function Zd(v){const g=(0,U.zd)((0,U.pd)(v)).link,m=g?(0,U.zd)((0,U.pd)(g)).deep_link_id:null,w=(0,U.zd)((0,U.pd)(v)).deep_link_id;return(w?(0,U.zd)((0,U.pd)(w)).link:null)||w||m||g||v}(g);try{return new es(m)}catch(w){return null}}}let va=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(m,w){return cu._fromEmailAndPassword(m,w)}static credentialWithLink(m,w){const x=es.parseLink(w);return ee(x,"argument-error"),cu._fromEmailAndCode(m,x.code,x.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class Ns{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class li extends Ns{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class xo extends li{static credentialFromJSON(g){const m="string"==typeof g?JSON.parse(g):g;return ee("providerId"in m&&"signInMethod"in m,"argument-error"),Xi._fromParams(m)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return ee(g.idToken||g.accessToken,"argument-error"),Xi._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return xo.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return xo.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:m,oauthAccessToken:w,oauthTokenSecret:x,pendingToken:N,nonce:ne,providerId:ke}=g;if(!w&&!x&&!m&&!N||!ke)return null;try{return new xo(ke)._credential({idToken:m,accessToken:w,nonce:ne,pendingToken:N})}catch(st){return null}}}let ba=(()=>{class v extends li{constructor(){super("facebook.com")}static credential(m){return Xi._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return v.credential(m.oauthAccessToken)}catch(w){return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),wa=(()=>{class v extends li{constructor(){super("google.com"),this.addScope("profile")}static credential(m,w){return Xi._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:w})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:w,oauthAccessToken:x}=m;if(!w&&!x)return null;try{return v.credential(w,x)}catch(N){return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),Gd=(()=>{class v extends li{constructor(){super("github.com")}static credential(m){return Xi._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return v.credential(m.oauthAccessToken)}catch(w){return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class ts extends ln{constructor(g,m){super(g,g),this.pendingToken=m}_getIdTokenResponse(g){return Yn(g,this.buildRequest())}_linkToIdToken(g,m){const w=this.buildRequest();return w.idToken=m,Yn(g,w)}_getReauthenticationResolver(g){const m=this.buildRequest();return m.autoCreate=!1,Yn(g,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const m="string"==typeof g?JSON.parse(g):g,{providerId:w,signInMethod:x,pendingToken:N}=m;return w&&x&&N&&w===x?new ts(w,N):null}static _create(g,m){return new ts(g,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ns extends Ns{constructor(g){ee(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return ns.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return ns.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const m=ts.fromJSON(g);return ee(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:m,providerId:w}=g;if(!m||!w)return null;try{return ts._create(w,m)}catch(x){return null}}}let wi=(()=>{class v extends li{constructor(){super("twitter.com")}static credential(m,w){return Xi._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:w})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:w,oauthTokenSecret:x}=m;if(!w||!x)return null;try{return v.credential(w,x)}catch(N){return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function El(v,g){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,a.Z)(function*(v,g){return Sn(v,"POST","/v1/accounts:signUp",Zt(v,g))})).apply(this,arguments)}class mr{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,m,w,x=!1){return(0,a.Z)(function*(){const N=yield ft._fromIdTokenResponse(g,w,x),ne=Cl(w);return new mr({user:N,providerId:ne,_tokenResponse:w,operationType:m})})()}static _forOperation(g,m,w){return(0,a.Z)(function*(){yield g._updateTokensIfNecessary(w,!0);const x=Cl(w);return new mr({user:g,providerId:x,_tokenResponse:w,operationType:m})})()}}function Cl(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function Tl(v){return du.apply(this,arguments)}function du(){return(du=(0,a.Z)(function*(v){var g;const m=je(v);if(yield m._initializationPromise,null===(g=m.currentUser)||void 0===g?void 0:g.isAnonymous)return new mr({user:m.currentUser,providerId:null,operationType:"signIn"});const w=yield El(m,{returnSecureToken:!0}),x=yield mr._fromIdTokenResponse(m,"signIn",w,!0);return yield m._updateCurrentUser(x.user),x})).apply(this,arguments)}class hu extends U.ZR{constructor(g,m,w,x){var N;super(m.code,m.message),this.operationType=w,this.user=x,Object.setPrototypeOf(this,hu.prototype),this.customData={appName:g.name,tenantId:null!==(N=g.tenantId)&&void 0!==N?N:void 0,_serverResponse:m.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(g,m,w,x){return new hu(g,m,w,x)}}function fu(v,g,m,w){return("reauthenticate"===g?m._getReauthenticationResolver(v):m._getIdTokenResponse(v)).catch(N=>{throw"auth/multi-factor-auth-required"===N.code?hu._fromErrorAndOperation(v,N,g,w):N})}function fc(v){return new Set(v.map(({providerId:g})=>g).filter(g=>!!g))}function rs(v,g){return pc.apply(this,arguments)}function pc(){return(pc=(0,a.Z)(function*(v,g){const m=(0,U.m9)(v);yield ks(!0,m,g);const{providerUserInfo:w}=yield Lr(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[g]}),x=fc(w||[]);return m.providerData=m.providerData.filter(N=>x.has(N.providerId)),x.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function vn(v,g){return Ea.apply(this,arguments)}function Ea(){return(Ea=(0,a.Z)(function*(v,g,m=!1){const w=yield it(v,g._linkToIdToken(v.auth,yield v.getIdToken()),m);return mr._forOperation(v,"link",w)})).apply(this,arguments)}function ks(v,g,m){return gn.apply(this,arguments)}function gn(){return(gn=(0,a.Z)(function*(v,g,m){yield Fn(g);const x=!1===v?"provider-already-linked":"no-such-provider";ee(fc(g.providerData).has(m)===v,g.auth,x)})).apply(this,arguments)}function pu(v,g){return Ca.apply(this,arguments)}function Ca(){return(Ca=(0,a.Z)(function*(v,g,m=!1){const{auth:w}=v,x="reauthenticate";try{const N=yield it(v,fu(w,x,g,v),m);ee(N.idToken,w,"internal-error");const ne=Wt(N.idToken);ee(ne,w,"internal-error");const{sub:ke}=ne;return ee(v.uid===ke,w,"user-mismatch"),mr._forOperation(v,x,N)}catch(N){throw"auth/user-not-found"===(null==N?void 0:N.code)&&qe(w,"user-mismatch"),N}})).apply(this,arguments)}function Qs(v,g){return lr.apply(this,arguments)}function lr(){return(lr=(0,a.Z)(function*(v,g,m=!1){const w="signIn",x=yield fu(v,w,g),N=yield mr._fromIdTokenResponse(v,w,x);return m||(yield v._updateCurrentUser(N.user)),N})).apply(this,arguments)}function gu(v,g){return Un.apply(this,arguments)}function Un(){return(Un=(0,a.Z)(function*(v,g){return Qs(je(v),g)})).apply(this,arguments)}function is(v,g){return dr.apply(this,arguments)}function dr(){return(dr=(0,a.Z)(function*(v,g){const m=(0,U.m9)(v);return yield ks(!1,m,g.providerId),vn(m,g)})).apply(this,arguments)}function Mo(v,g){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,a.Z)(function*(v,g){return pu((0,U.m9)(v),g)})).apply(this,arguments)}function gc(v,g){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,a.Z)(function*(v,g){return Sn(v,"POST","/v1/accounts:signInWithCustomToken",Zt(v,g))})).apply(this,arguments)}function Fs(v,g){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,a.Z)(function*(v,g){const m=je(v),w=yield gc(m,{token:g,returnSecureToken:!0}),x=yield mr._fromIdTokenResponse(m,"signIn",w);return yield m._updateCurrentUser(x.user),x})).apply(this,arguments)}class mt{constructor(g,m){this.factorId=g,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(g,m){return"phoneInfo"in m?Ta._fromServerResponse(g,m):qe(g,"internal-error")}}class Ta extends mt{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,m){return new Ta(m)}}function Ia(v,g,m){var w;ee((null===(w=m.url)||void 0===w?void 0:w.length)>0,v,"invalid-continue-uri"),ee(void 0===m.dynamicLinkDomain||m.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),g.continueUrl=m.url,g.dynamicLinkDomain=m.dynamicLinkDomain,g.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(ee(m.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),g.iOSBundleId=m.iOS.bundleId),m.android&&(ee(m.android.packageName.length>0,v,"missing-android-pkg-name"),g.androidInstallApp=m.android.installApp,g.androidMinimumVersionCode=m.android.minimumVersion,g.androidPackageName=m.android.packageName)}function Il(v,g,m){return Da.apply(this,arguments)}function Da(){return(Da=(0,a.Z)(function*(v,g,m){const w=(0,U.m9)(v),x={requestType:"PASSWORD_RESET",email:g};m&&Ia(w,x,m),yield ml(w,x)})).apply(this,arguments)}function mc(v,g,m){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,a.Z)(function*(v,g,m){yield Gs((0,U.m9)(v),{oobCode:g,newPassword:m})})).apply(this,arguments)}function zd(v,g){return xe.apply(this,arguments)}function xe(){return(xe=(0,a.Z)(function*(v,g){yield Ws((0,U.m9)(v),{oobCode:g})})).apply(this,arguments)}function zt(v,g){return Sa.apply(this,arguments)}function Sa(){return(Sa=(0,a.Z)(function*(v,g){const m=(0,U.m9)(v),w=yield Gs(m,{oobCode:g}),x=w.requestType;switch(ee(x,m,"internal-error"),x){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ee(w.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ee(w.mfaInfo,m,"internal-error");default:ee(w.email,m,"internal-error")}let N=null;return w.mfaInfo&&(N=mt._fromServerResponse(je(m),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:N},operation:x}})).apply(this,arguments)}function On(v,g){return Us.apply(this,arguments)}function Us(){return(Us=(0,a.Z)(function*(v,g){const{data:m}=yield zt((0,U.m9)(v),g);return m.email})).apply(this,arguments)}function xa(v,g,m){return Br.apply(this,arguments)}function Br(){return(Br=(0,a.Z)(function*(v,g,m){const w=je(v),x=yield El(w,{returnSecureToken:!0,email:g,password:m}),N=yield mr._fromIdTokenResponse(w,"signIn",x);return yield w._updateCurrentUser(N.user),N})).apply(this,arguments)}function yc(v,g,m){return gu((0,U.m9)(v),va.credential(g,m))}function _c(v,g,m){return Dl.apply(this,arguments)}function Dl(){return(Dl=(0,a.Z)(function*(v,g,m){const w=(0,U.m9)(v),x={requestType:"EMAIL_SIGNIN",email:g};ee(m.handleCodeInApp,w,"argument-error"),m&&Ia(w,x,m),yield ui(w,x)})).apply(this,arguments)}function Al(v,g){const m=es.parseLink(g);return"EMAIL_SIGNIN"===(null==m?void 0:m.operation)}function Ma(v,g,m){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,a.Z)(function*(v,g,m){const w=(0,U.m9)(v),x=va.credentialWithLink(g,m||ce());return ee(x._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),gu(w,x)})).apply(this,arguments)}function er(v,g){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,a.Z)(function*(v,g){return tn(v,"POST","/v1/accounts:createAuthUri",Zt(v,g))})).apply(this,arguments)}function vc(v,g){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,a.Z)(function*(v,g){const w={identifier:g,continueUri:Ue()?ce():"http://localhost"},{signinMethods:x}=yield er((0,U.m9)(v),w);return x||[]})).apply(this,arguments)}function ss(v,g){return Oa.apply(this,arguments)}function Oa(){return(Oa=(0,a.Z)(function*(v,g){const m=(0,U.m9)(v),x={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};g&&Ia(m.auth,x,g);const{email:N}=yield Gn(m.auth,x);N!==v.email&&(yield v.reload())})).apply(this,arguments)}function Sl(v,g,m){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,a.Z)(function*(v,g,m){const w=(0,U.m9)(v),N={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:g};m&&Ia(w.auth,N,m);const{email:ne}=yield yl(w.auth,N);ne!==v.email&&(yield v.reload())})).apply(this,arguments)}function xl(v,g){return Js.apply(this,arguments)}function Js(){return(Js=(0,a.Z)(function*(v,g){return tn(v,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function mu(v,g){return Pa.apply(this,arguments)}function Pa(){return(Pa=(0,a.Z)(function*(v,{displayName:g,photoURL:m}){if(void 0===g&&void 0===m)return;const w=(0,U.m9)(v),N={idToken:yield w.getIdToken(),displayName:g,photoUrl:m,returnSecureToken:!0},ne=yield it(w,xl(w.auth,N));w.displayName=ne.displayName||null,w.photoURL=ne.photoUrl||null;const ke=w.providerData.find(({providerId:st})=>"password"===st);ke&&(ke.displayName=w.displayName,ke.photoURL=w.photoURL),yield w._updateTokensIfNecessary(ne)})).apply(this,arguments)}function bc(v,g){return yu((0,U.m9)(v),g,null)}function mp(v,g){return yu((0,U.m9)(v),null,g)}function yu(v,g,m){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,a.Z)(function*(v,g,m){const{auth:w}=v,N={idToken:yield v.getIdToken(),returnSecureToken:!0};g&&(N.email=g),m&&(N.password=m);const ne=yield it(v,Nt(w,N));yield v._updateTokensIfNecessary(ne,!0)})).apply(this,arguments)}class eo{constructor(g,m,w={}){this.isNewUser=g,this.providerId=m,this.profile=w}}class Ml extends eo{constructor(g,m,w,x){super(g,m,w),this.username=x}}class Wd extends eo{constructor(g,m){super(g,"facebook.com",m)}}class Ro extends Ml{constructor(g,m){super(g,"github.com",m,"string"==typeof(null==m?void 0:m.login)?null==m?void 0:m.login:null)}}class ki extends eo{constructor(g,m){super(g,"google.com",m)}}class Kd extends Ml{constructor(g,m,w){super(g,"twitter.com",m,w)}}function hr(v){const{user:g,_tokenResponse:m}=v;return g.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function wc(v){var g,m;if(!v)return null;const{providerId:w}=v,x=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},N=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!w&&(null==v?void 0:v.idToken)){const ne=null===(m=null===(g=Wt(v.idToken))||void 0===g?void 0:g.firebase)||void 0===m?void 0:m.sign_in_provider;if(ne)return new eo(N,"anonymous"!==ne&&"custom"!==ne?ne:null)}if(!w)return null;switch(w){case"facebook.com":return new Wd(N,x);case"github.com":return new Ro(N,x);case"google.com":return new ki(N,x);case"twitter.com":return new Kd(N,x,v.screenName||null);case"custom":case"anonymous":return new eo(N,null);default:return new eo(N,w,x)}}(m)}function Ol(v,g,m,w){return(0,U.m9)(v).onAuthStateChanged(g,m,w)}class as{constructor(g,m){this.type=g,this.credential=m}static _fromIdtoken(g){return new as("enroll",g)}static _fromMfaPendingCredential(g){return new as("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var m,w;if(null==g?void 0:g.multiFactorSession){if(null===(m=g.multiFactorSession)||void 0===m?void 0:m.pendingCredential)return as._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null===(w=g.multiFactorSession)||void 0===w?void 0:w.idToken)return as._fromIdtoken(g.multiFactorSession.idToken)}return null}}class ka{constructor(g,m,w){this.session=g,this.hints=m,this.signInResolver=w}static _fromError(g,m){const w=je(g),x=m.customData._serverResponse,N=(x.mfaInfo||[]).map(ke=>mt._fromServerResponse(w,ke));ee(x.mfaPendingCredential,w,"internal-error");const ne=as._fromMfaPendingCredential(x.mfaPendingCredential);return new ka(ne,N,function(){var ke=(0,a.Z)(function*(st){const yt=yield st._process(w,ne);delete x.mfaInfo,delete x.mfaPendingCredential;const Yt=Object.assign(Object.assign({},x),{idToken:yt.idToken,refreshToken:yt.refreshToken});switch(m.operationType){case"signIn":const xn=yield mr._fromIdTokenResponse(w,m.operationType,Yt);return yield w._updateCurrentUser(xn.user),xn;case"reauthenticate":return ee(m.user,w,"internal-error"),mr._forOperation(m.user,m.operationType,Yt);default:qe(w,"internal-error")}});return function(st){return ke.apply(this,arguments)}}())}resolveSignIn(g){var m=this;return(0,a.Z)(function*(){return m.signInResolver(g)})()}}function _u(v,g){var m;const w=(0,U.m9)(v),x=g;return ee(g.customData.operationType,w,"argument-error"),ee(null===(m=x.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,w,"argument-error"),ka._fromError(w,x)}function fr(v,g){return tn(v,"POST","/v2/accounts/mfaEnrollment:start",Zt(v,g))}class Po{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(w=>mt._fromServerResponse(g.auth,w)))})}static _fromUser(g){return new Po(g)}getSession(){var g=this;return(0,a.Z)(function*(){return as._fromIdtoken(yield g.user.getIdToken())})()}enroll(g,m){var w=this;return(0,a.Z)(function*(){const x=g,N=yield w.getSession(),ne=yield it(w.user,x._process(w.user.auth,N,m));return yield w.user._updateTokensIfNecessary(ne),w.user.reload()})()}unenroll(g){var m=this;return(0,a.Z)(function*(){const w="string"==typeof g?g:g.uid,x=yield m.user.getIdToken(),N=yield it(m.user,function to(v,g){return tn(v,"POST","/v2/accounts/mfaEnrollment:withdraw",Zt(v,g))}(m.user.auth,{idToken:x,mfaEnrollmentId:w}));m.enrolledFactors=m.enrolledFactors.filter(({uid:ne})=>ne!==w),yield m.user._updateTokensIfNecessary(N);try{yield m.user.reload()}catch(ne){if("auth/user-token-expired"!==ne.code)throw ne}})()}}const Pl=new WeakMap;function Nl(v){const g=(0,U.m9)(v);return Pl.has(g)||Pl.set(g,Po._fromUser(g)),Pl.get(g)}const us="__sak";class No{constructor(g,m){this.storageRetriever=g,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(us,"1"),this.storage.removeItem(us),Promise.resolve(!0)):Promise.resolve(!1)}catch(g){return Promise.resolve(!1)}}_set(g,m){return this.storage.setItem(g,JSON.stringify(m)),Promise.resolve()}_get(g){const m=this.storage.getItem(g);return Promise.resolve(m?JSON.parse(m):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const Bn=(()=>{class v extends No{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,w)=>this.onStorageEvent(m,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function kl(){const v=(0,U.z$)();return z(v)||Bt(v)}()&&function Ri(){try{return!(!window||window===window.top)}catch(v){return!1}}(),this.fallbackToPolling=Dr(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const w of Object.keys(this.listeners)){const x=this.storage.getItem(w),N=this.localCache[w];x!==N&&m(w,N,x)}}onStorageEvent(m,w=!1){if(!m.key)return void this.forAllChangedKeys((ke,st,yt)=>{this.notifyListeners(ke,yt)});const x=m.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ke=this.storage.getItem(x);if(m.newValue!==ke)null!==m.newValue?this.storage.setItem(x,m.newValue):this.storage.removeItem(x);else if(this.localCache[x]===m.newValue&&!w)return}const N=()=>{const ke=this.storage.getItem(x);!w&&this.localCache[x]===ke||this.notifyListeners(x,ke)},ne=this.storage.getItem(x);!function jt(){return(0,U.w1)()&&10===document.documentMode}()||ne===m.newValue||m.newValue===m.oldValue?N():setTimeout(N,10)}notifyListeners(m,w){this.localCache[m]=w;const x=this.listeners[m];if(x)for(const N of Array.from(x))N(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,w,x)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:w,newValue:x}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(w)}_removeListener(m,w){this.listeners[m]&&(this.listeners[m].delete(w),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,w){var x=()=>super._set,N=this;return(0,a.Z)(function*(){yield x().call(N,m,w),N.localCache[m]=JSON.stringify(w)})()}_get(m){var w=()=>super._get,x=this;return(0,a.Z)(function*(){const N=yield w().call(x,m);return x.localCache[m]=JSON.stringify(N),N})()}_remove(m){var w=()=>super._remove,x=this;return(0,a.Z)(function*(){yield w().call(x,m),delete x.localCache[m]})()}}return v.type="LOCAL",v})(),vu=(()=>{class v extends No{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,w){}_removeListener(m,w){}}return v.type="SESSION",v})();let La=(()=>{class v{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const w=this.receivers.find(N=>N.isListeningto(m));if(w)return w;const x=new v(m);return this.receivers.push(x),x}isListeningto(m){return this.eventTarget===m}handleEvent(m){var w=this;return(0,a.Z)(function*(){const x=m,{eventId:N,eventType:ne,data:ke}=x.data,st=w.handlersMap[ne];if(!(null==st?void 0:st.size))return;x.ports[0].postMessage({status:"ack",eventId:N,eventType:ne});const yt=Array.from(st).map(function(){var xn=(0,a.Z)(function*(ps){return ps(x.origin,ke)});return function(ps){return xn.apply(this,arguments)}}()),Yt=yield function bu(v){return Promise.all(v.map(function(){var g=(0,a.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(w){return{fulfilled:!1,reason:w}}});return function(m){return g.apply(this,arguments)}}()))}(yt);x.ports[0].postMessage({status:"done",eventId:N,eventType:ne,response:Yt})})()}_subscribe(m,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(w)}_unsubscribe(m,w){this.handlersMap[m]&&w&&this.handlersMap[m].delete(w),(!w||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function ko(v="",g=10){let m="";for(let w=0;w<g;w++)m+=Math.floor(10*Math.random());return v+m}class Fo{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,m,w=50){var x=this;return(0,a.Z)(function*(){const N="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!N)throw new Error("connection_unavailable");let ne,ke;return new Promise((st,yt)=>{const Yt=ko("",20);N.port1.start();const xn=setTimeout(()=>{yt(new Error("unsupported_event"))},w);ke={messageChannel:N,onMessage(ps){const lo=ps;if(lo.data.eventId===Yt)switch(lo.data.status){case"ack":clearTimeout(xn),ne=setTimeout(()=>{yt(new Error("timeout"))},3e3);break;case"done":clearTimeout(ne),st(lo.data.response);break;default:clearTimeout(xn),clearTimeout(ne),yt(new Error("invalid_response"))}}},x.handlers.add(ke),N.port1.addEventListener("message",ke.onMessage),x.target.postMessage({eventType:g,eventId:Yt,data:m},[N.port2])}).finally(()=>{ke&&x.removeMessageHandler(ke)})})()}}function jn(){return window}function no(){return void 0!==jn().WorkerGlobalScope&&"function"==typeof jn().importScripts}function Ec(){return(Ec=(0,a.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(v){return null}})).apply(this,arguments)}const Jd="firebaseLocalStorageDb",cs="firebaseLocalStorage",we="fbase_key";class Sr{constructor(g){this.request=g}toPromise(){return new Promise((g,m)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function Fi(v,g){return v.transaction([cs],g?"readwrite":"readonly").objectStore(cs)}function Ci(){const v=indexedDB.open(Jd,1);return new Promise((g,m)=>{v.addEventListener("error",()=>{m(v.error)}),v.addEventListener("upgradeneeded",()=>{const w=v.result;try{w.createObjectStore(cs,{keyPath:we})}catch(x){m(x)}}),v.addEventListener("success",(0,a.Z)(function*(){const w=v.result;w.objectStoreNames.contains(cs)?g(w):(w.close(),yield function vt(){const v=indexedDB.deleteDatabase(Jd);return new Sr(v).toPromise()}(),g(yield Ci()))}))})}function Ua(v,g,m){return ro.apply(this,arguments)}function ro(){return(ro=(0,a.Z)(function*(v,g,m){const w=Fi(v,!0).put({[we]:g,value:m});return new Sr(w).toPromise()})).apply(this,arguments)}function Rn(){return(Rn=(0,a.Z)(function*(v,g){const m=Fi(v,!1).get(g),w=yield new Sr(m).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function yr(v,g){const m=Fi(v,!0).delete(g);return new Sr(m).toPromise()}const Ul=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,a.Z)(function*(){return m.db||(m.db=yield Ci()),m.db})()}_withRetries(m){var w=this;return(0,a.Z)(function*(){let x=0;for(;;)try{const N=yield w._openDb();return yield m(N)}catch(N){if(x++>3)throw N;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,a.Z)(function*(){return no()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,a.Z)(function*(){m.receiver=La._getInstance(function Ll(){return no()?self:null}()),m.receiver._subscribe("keyChanged",function(){var w=(0,a.Z)(function*(x,N){return{keyProcessed:(yield m._poll()).includes(N.key)}});return function(x,N){return w.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var w=(0,a.Z)(function*(x,N){return["keyChanged"]});return function(x,N){return w.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,a.Z)(function*(){var w,x;if(m.activeServiceWorker=yield function wu(){return Ec.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new Fo(m.activeServiceWorker);const N=yield m.sender._send("ping",{},800);!N||(null===(w=N[0])||void 0===w?void 0:w.fulfilled)&&(null===(x=N[0])||void 0===x?void 0:x.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var w=this;return(0,a.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function Qd(){var v;return(null===(v=null==navigator?void 0:navigator.serviceWorker)||void 0===v?void 0:v.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:m},w.serviceWorkerReceiverAvailable?800:50)}catch(x){}})()}_isAvailable(){return(0,a.Z)(function*(){try{if(!indexedDB)return!1;const m=yield Ci();return yield Ua(m,us,"1"),yield yr(m,us),!0}catch(m){}return!1})()}_withPendingWrite(m){var w=this;return(0,a.Z)(function*(){w.pendingWrites++;try{yield m()}finally{w.pendingWrites--}})()}_set(m,w){var x=this;return(0,a.Z)(function*(){return x._withPendingWrite((0,a.Z)(function*(){return yield x._withRetries(N=>Ua(N,m,w)),x.localCache[m]=w,x.notifyServiceWorker(m)}))})()}_get(m){var w=this;return(0,a.Z)(function*(){const x=yield w._withRetries(N=>function Cc(v,g){return Rn.apply(this,arguments)}(N,m));return w.localCache[m]=x,x})()}_remove(m){var w=this;return(0,a.Z)(function*(){return w._withPendingWrite((0,a.Z)(function*(){return yield w._withRetries(x=>yr(x,m)),delete w.localCache[m],w.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,a.Z)(function*(){const w=yield m._withRetries(ne=>{const ke=Fi(ne,!1).getAll();return new Sr(ke).toPromise()});if(!w)return[];if(0!==m.pendingWrites)return[];const x=[],N=new Set;for(const{fbase_key:ne,value:ke}of w)N.add(ne),JSON.stringify(m.localCache[ne])!==JSON.stringify(ke)&&(m.notifyListeners(ne,ke),x.push(ne));for(const ne of Object.keys(m.localCache))m.localCache[ne]&&!N.has(ne)&&(m.notifyListeners(ne,null),x.push(ne));return x})()}notifyListeners(m,w){this.localCache[m]=w;const x=this.listeners[m];if(x)for(const N of Array.from(x))N(w)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,a.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(w)}_removeListener(m,w){this.listeners[m]&&(this.listeners[m].delete(w),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})();function Vl(v,g){return tn(v,"POST","/v2/accounts/mfaSignIn:start",Zt(v,g))}function Bo(){return(Bo=(0,a.Z)(function*(v){return(yield tn(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function jo(v){return new Promise((g,m)=>{const w=document.createElement("script");w.setAttribute("src",v),w.onload=g,w.onerror=x=>{const N=Oe("internal-error");N.customData=x,m(N)},w.type="text/javascript",w.charset="UTF-8",function Tc(){var v,g;return null!==(g=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==g?g:document}().appendChild(w)})}function Hn(v){return`__${v}${Math.floor(1e6*Math.random())}`}const so=1e12;class Cu{constructor(g){this.auth=g,this.counter=so,this._widgets=new Map}render(g,m){const w=this.counter;return this._widgets.set(w,new ls(g,this.auth.name,m||{})),this.counter++,w}reset(g){var m;const w=g||so;null===(m=this._widgets.get(w))||void 0===m||m.delete(),this._widgets.delete(w)}getResponse(g){var m;return(null===(m=this._widgets.get(g||so))||void 0===m?void 0:m.getResponse())||""}execute(g){var m=this;return(0,a.Z)(function*(){var w;return null===(w=m._widgets.get(g||so))||void 0===w||w.execute(),""})()}}class ls{constructor(g,m,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const x="string"==typeof g?document.getElementById(g):g;ee(x,"argument-error",{appName:m}),this.container=x,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Bl(v){const g=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<v;w++)g.push(m.charAt(Math.floor(Math.random()*m.length)));return g.join("")}(50);const{callback:g,"expired-callback":m}=this.params;if(g)try{g(this.responseToken)}catch(w){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch(w){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const oo=Hn("rcb"),$n=new Qe(3e4,6e4);class ny{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!jn().grecaptcha}load(g,m=""){return ee(function ry(v){return v.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v)}(m),g,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(jn().grecaptcha):new Promise((w,x)=>{const N=jn().setTimeout(()=>{x(Oe(g,"network-request-failed"))},$n.get());jn()[oo]=()=>{jn().clearTimeout(N),delete jn()[oo];const ke=jn().grecaptcha;if(!ke)return void x(Oe(g,"internal-error"));const st=ke.render;ke.render=(yt,Yt)=>{const xn=st(yt,Yt);return this.counter++,xn},this.hostLanguage=m,w(ke)},jo(`https://www.google.com/recaptcha/api.js??${(0,U.xO)({onload:oo,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(N),x(Oe(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){return!!jn().grecaptcha&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class wp{load(g){return(0,a.Z)(function*(){return new Cu(g)})()}clearedOneInstance(){}}const Ho="recaptcha",jl={theme:"light",type:"image"};class Ic{constructor(g,m=Object.assign({},jl),w){this.parameters=m,this.type=Ho,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=je(w),this.isInvisible="invisible"===this.parameters.size,ee("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const x="string"==typeof g?document.getElementById(g):g;ee(x,this.auth,"argument-error"),this.container=x,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new wp:new ny,this.validateStartingState()}verify(){var g=this;return(0,a.Z)(function*(){g.assertNotDestroyed();const m=yield g.render(),w=g.getAssertedRecaptcha();return w.getResponse(m)||new Promise(N=>{const ne=ke=>{!ke||(g.tokenChangeListeners.delete(ne),N(ke))};g.tokenChangeListeners.add(ne),g.isInvisible&&w.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){ee(!this.parameters.sitekey,this.auth,"argument-error"),ee(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ee("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return m=>{if(this.tokenChangeListeners.forEach(w=>w(m)),"function"==typeof g)g(m);else if("string"==typeof g){const w=jn()[g];"function"==typeof w&&w(m)}}}assertNotDestroyed(){ee(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,a.Z)(function*(){if(yield g.init(),!g.widgetId){let m=g.container;if(!g.isInvisible){const w=document.createElement("div");m.appendChild(w),m=w}g.widgetId=g.getAssertedRecaptcha().render(m,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,a.Z)(function*(){ee(Ue()&&!no(),g.auth,"internal-error"),yield function $o(){let v=null;return new Promise(g=>{"complete"!==document.readyState?(v=()=>g(),window.addEventListener("load",v)):g()}).catch(g=>{throw v&&window.removeEventListener("load",v),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const m=yield function Vo(v){return Bo.apply(this,arguments)}(g.auth);ee(m,g.auth,"internal-error"),g.parameters.sitekey=m})()}getAssertedRecaptcha(){return ee(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Hl{constructor(g,m){this.verificationId=g,this.onConfirmation=m}confirm(g){const m=So._fromVerification(this.verificationId,g);return this.onConfirmation(m)}}function Qn(v,g,m){return ja.apply(this,arguments)}function ja(){return(ja=(0,a.Z)(function*(v,g,m){const w=je(v),x=yield xr(w,g,(0,U.m9)(m));return new Hl(x,N=>gu(w,N))})).apply(this,arguments)}function Ha(v,g,m){return $l.apply(this,arguments)}function $l(){return($l=(0,a.Z)(function*(v,g,m){const w=(0,U.m9)(v);yield ks(!1,w,"phone");const x=yield xr(w.auth,g,(0,U.m9)(m));return new Hl(x,N=>is(w,N))})).apply(this,arguments)}function Dc(v,g,m){return _r.apply(this,arguments)}function _r(){return(_r=(0,a.Z)(function*(v,g,m){const w=(0,U.m9)(v),x=yield xr(w.auth,g,(0,U.m9)(m));return new Hl(x,N=>Mo(w,N))})).apply(this,arguments)}function xr(v,g,m){return qo.apply(this,arguments)}function qo(){return(qo=(0,a.Z)(function*(v,g,m){var w;const x=yield m.verify();try{let N;if(ee("string"==typeof x,v,"argument-error"),ee(m.type===Ho,v,"argument-error"),N="string"==typeof g?{phoneNumber:g}:g,"session"in N){const ne=N.session;if("phoneNumber"in N)return ee("enroll"===ne.type,v,"internal-error"),(yield fr(v,{idToken:ne.credential,phoneEnrollmentInfo:{phoneNumber:N.phoneNumber,recaptchaToken:x}})).phoneSessionInfo.sessionInfo;{ee("signin"===ne.type,v,"internal-error");const ke=(null===(w=N.multiFactorHint)||void 0===w?void 0:w.uid)||N.multiFactorUid;return ee(ke,v,"missing-multi-factor-info"),(yield Vl(v,{mfaPendingCredential:ne.credential,mfaEnrollmentId:ke,phoneSignInInfo:{recaptchaToken:x}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:ne}=yield lp(v,{phoneNumber:N.phoneNumber,recaptchaToken:x});return ne}}finally{m._reset()}})).apply(this,arguments)}function ds(v,g){return ao.apply(this,arguments)}function ao(){return(ao=(0,a.Z)(function*(v,g){yield vn((0,U.m9)(v),g)})).apply(this,arguments)}let Zo=(()=>{class v{constructor(m){this.providerId=v.PROVIDER_ID,this.auth=je(m)}verifyPhoneNumber(m,w){return xr(this.auth,m,(0,U.m9)(w))}static credential(m,w){return So._fromVerification(m,w)}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:w,temporaryProof:x}=m;return w&&x?So._fromTokenResponse(w,x):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function Li(v,g){return g?te(g):(ee(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class $a extends ln{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return Yn(g,this._buildIdpRequest())}_linkToIdToken(g,m){return Yn(g,this._buildIdpRequest(m))}_getReauthenticationResolver(g){return Yn(g,this._buildIdpRequest())}_buildIdpRequest(g){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(m.idToken=g),m}}function Tu(v){return Qs(v.auth,new $a(v),v.bypassAuthState)}function Ac(v){const{auth:g,user:m}=v;return ee(m,g,"internal-error"),pu(m,new $a(v),v.bypassAuthState)}function qa(v){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,a.Z)(function*(v){const{auth:g,user:m}=v;return ee(m,g,"internal-error"),vn(m,new $a(v),v.bypassAuthState)})).apply(this,arguments)}class Sc{constructor(g,m,w,x,N=!1){this.auth=g,this.resolver=w,this.user=x,this.bypassAuthState=N,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var g=this;return new Promise(function(){var m=(0,a.Z)(function*(w,x){g.pendingPromise={resolve:w,reject:x};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(N){g.reject(N)}});return function(w,x){return m.apply(this,arguments)}}())}onAuthEvent(g){var m=this;return(0,a.Z)(function*(){const{urlResponse:w,sessionId:x,postBody:N,tenantId:ne,error:ke,type:st}=g;if(ke)return void m.reject(ke);const yt={auth:m.auth,requestUri:w,sessionId:x,tenantId:ne||void 0,postBody:N||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(st)(yt))}catch(Yt){m.reject(Yt)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return Tu;case"linkViaPopup":case"linkViaRedirect":return qa;case"reauthViaPopup":case"reauthViaRedirect":return Ac;default:qe(this.auth,"internal-error")}}resolve(g){Ce(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){Ce(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Za=new Qe(2e3,1e4);function iy(v,g,m){return uo.apply(this,arguments)}function uo(){return(uo=(0,a.Z)(function*(v,g,m){const w=je(v);Ee(v,g,Ns);const x=Li(w,m);return new Mc(w,"signInViaPopup",g,x).executeNotNull()})).apply(this,arguments)}function xc(v,g,m){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,a.Z)(function*(v,g,m){const w=(0,U.m9)(v);Ee(w.auth,g,Ns);const x=Li(w.auth,m);return new Mc(w.auth,"reauthViaPopup",g,x,w).executeNotNull()})).apply(this,arguments)}function Iu(v,g,m){return Du.apply(this,arguments)}function Du(){return(Du=(0,a.Z)(function*(v,g,m){const w=(0,U.m9)(v);Ee(w.auth,g,Ns);const x=Li(w.auth,m);return new Mc(w.auth,"linkViaPopup",g,x,w).executeNotNull()})).apply(this,arguments)}let Mc=(()=>{class v extends Sc{constructor(m,w,x,N,ne){super(m,w,N,ne),this.provider=x,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var m=this;return(0,a.Z)(function*(){const w=yield m.execute();return ee(w,m.auth,"internal-error"),w})()}onExecution(){var m=this;return(0,a.Z)(function*(){Ce(1===m.filter.length,"Popup operations only handle one event");const w=ko();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],w),m.authWindow.associatedEvent=w,m.resolver._originValidation(m.auth).catch(x=>{m.reject(x)}),m.resolver._isIframeWebStorageSupported(m.auth,x=>{x||m.reject(Oe(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(Oe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const m=()=>{var w,x;this.pollId=(null===(x=null===(w=this.authWindow)||void 0===w?void 0:w.window)||void 0===x?void 0:x.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Oe(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,Za.get())};m()}}return v.currentPopupAction=null,v})();const Vi=new Map;class Bi extends Sc{constructor(g,m,w=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,w),this.eventId=null}execute(){var g=()=>super.execute,m=this;return(0,a.Z)(function*(){let w=Vi.get(m.auth._key());if(!w){try{const N=(yield function sy(v,g){return Go.apply(this,arguments)}(m.resolver,m.auth))?yield g().call(m):null;w=()=>Promise.resolve(N)}catch(x){w=()=>Promise.reject(x)}Vi.set(m.auth._key(),w)}return m.bypassAuthState||Vi.set(m.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(g){var m=()=>super.onAuthEvent,w=this;return(0,a.Z)(function*(){if("signInViaRedirect"===g.type)return m().call(w,g);if("unknown"!==g.type){if(g.eventId){const x=yield w.auth._redirectUserForId(g.eventId);if(x)return w.user=x,m().call(w,g);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,a.Z)(function*(){})()}cleanUp(){}}function Go(){return(Go=(0,a.Z)(function*(v,g){const m=I(g),w=T(v);if(!(yield w._isAvailable()))return!1;const x="true"===(yield w._get(m));return yield w._remove(m),x})).apply(this,arguments)}function zo(v,g){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,a.Z)(function*(v,g){return T(v)._set(I(g),"true")})).apply(this,arguments)}function Xd(){Vi.clear()}function ql(v,g){Vi.set(v._key(),g)}function T(v){return te(v._redirectPersistence)}function I(v){return wt("pendingRedirect",v.config.apiKey,v.name)}function O(v,g,m){return function F(v,g,m){return Q.apply(this,arguments)}(v,g,m)}function Q(){return(Q=(0,a.Z)(function*(v,g,m){const w=je(v);Ee(v,g,Ns);const x=Li(w,m);return yield zo(x,w),x._openRedirect(w,g,"signInViaRedirect")})).apply(this,arguments)}function le(v,g,m){return function Se(v,g,m){return tt.apply(this,arguments)}(v,g,m)}function tt(){return(tt=(0,a.Z)(function*(v,g,m){const w=(0,U.m9)(v);Ee(w.auth,g,Ns);const x=Li(w.auth,m);yield zo(x,w.auth);const N=yield co(w);return x._openRedirect(w.auth,g,"reauthViaRedirect",N)})).apply(this,arguments)}function Dt(v,g,m){return function Ct(v,g,m){return Lt.apply(this,arguments)}(v,g,m)}function Lt(){return(Lt=(0,a.Z)(function*(v,g,m){const w=(0,U.m9)(v);Ee(w.auth,g,Ns);const x=Li(w.auth,m);yield ks(!1,w,g.providerId),yield zo(x,w.auth);const N=yield co(w);return x._openRedirect(w.auth,g,"linkViaRedirect",N)})).apply(this,arguments)}function St(v,g){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,a.Z)(function*(v,g){return yield je(v)._initializationPromise,zn(v,g,!1)})).apply(this,arguments)}function zn(v,g){return ji.apply(this,arguments)}function ji(){return(ji=(0,a.Z)(function*(v,g,m=!1){const w=je(v),x=Li(w,g),ne=yield new Bi(w,x,m).execute();return ne&&!m&&(delete ne.user._redirectEventId,yield w._persistUserIfCurrent(ne.user),yield w._setRedirectUser(null,g)),ne})).apply(this,arguments)}function co(v){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,a.Z)(function*(v){const g=ko(`${v.uid}:::`);return v._redirectEventId=g,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),g})).apply(this,arguments)}class Ko{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let m=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(g,w)&&(m=!0,this.sendToConsumer(g,w),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function Zl(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return eh(v);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=g,m=!0)),m}sendToConsumer(g,m){var w;if(g.error&&!eh(g)){const x=(null===(w=g.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";m.onError(Oe(this.auth,x))}else m.onAuthEvent(g)}isEventForConsumer(g,m){const w=null===m.eventId||!!g.eventId&&g.eventId===m.eventId;return m.filter.includes(g.type)&&w}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Yo(g))}saveEventToCache(g){this.cachedEventUids.add(Yo(g)),this.lastProcessedEventTime=Date.now()}}function Yo(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(g=>g).join("-")}function eh({type:v,error:g}){return"unknown"===v&&"auth/no-auth-event"===(null==g?void 0:g.code)}function Gl(v){return th.apply(this,arguments)}function th(){return(th=(0,a.Z)(function*(v,g={}){return tn(v,"GET","/v1/projects",g)})).apply(this,arguments)}const Ep=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Qo=/^https?/;function Cp(){return(Cp=(0,a.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:g}=yield Gl(v);for(const m of g)try{if(Tp(m))return}catch(w){}qe(v,"unauthorized-domain")})).apply(this,arguments)}function Tp(v){const g=ce(),{protocol:m,hostname:w}=new URL(g);if(v.startsWith("chrome-extension://")){const ne=new URL(v);return""===ne.hostname&&""===w?"chrome-extension:"===m&&v.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===m&&ne.hostname===w}if(!Qo.test(m))return!1;if(Ep.test(v))return w===v;const x=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+x+"|"+x+")$","i").test(w)}const oy=new Qe(3e4,6e4);function Ip(){const v=jn().___jsl;if(null==v?void 0:v.H)for(const g of Object.keys(v.H))if(v.H[g].r=v.H[g].r||[],v.H[g].L=v.H[g].L||[],v.H[g].r=[...v.H[g].L],v.CP)for(let m=0;m<v.CP.length;m++)v.CP[m]=null}let zl=null;function ay(v){return zl=zl||function pT(v){return new Promise((g,m)=>{var w,x,N;function ne(){Ip(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{Ip(),m(Oe(v,"network-request-failed"))},timeout:oy.get()})}if(null===(x=null===(w=jn().gapi)||void 0===w?void 0:w.iframes)||void 0===x?void 0:x.Iframe)g(gapi.iframes.getContext());else{if(!(null===(N=jn().gapi)||void 0===N?void 0:N.load)){const ke=Hn("iframefcb");return jn()[ke]=()=>{gapi.load?ne():m(Oe(v,"network-request-failed"))},jo(`https://apis.google.com/js/api.js?onload=${ke}`).catch(st=>m(st))}ne()}}).catch(g=>{throw zl=null,g})}(v),zl}const O0=new Qe(5e3,15e3),Oc={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},R0=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function P0(v){const g=v.config;ee(g.authDomain,v,"auth-domain-config-required");const m=g.emulator?hn(g,"emulator/auth/iframe"):`https://${v.config.authDomain}/__/auth/iframe`,w={apiKey:g.apiKey,appName:v.name,v:R.SDK_VERSION},x=R0.get(v.config.apiHost);x&&(w.eid=x);const N=v._getFrameworks();return N.length&&(w.fw=N.join(",")),`${m}?${(0,U.xO)(w).slice(1)}`}function Rc(){return Rc=(0,a.Z)(function*(v){const g=yield ay(v),m=jn().gapi;return ee(m,v,"internal-error"),g.open({where:document.body,url:P0(v),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Oc,dontclear:!0},w=>new Promise(function(){var x=(0,a.Z)(function*(N,ne){yield w.restyle({setHideOnLeave:!1});const ke=Oe(v,"network-request-failed"),st=jn().setTimeout(()=>{ne(ke)},O0.get());function yt(){jn().clearTimeout(st),N(w)}w.ping(yt).then(yt,()=>{ne(ke)})});return function(N,ne){return x.apply(this,arguments)}}()))}),Rc.apply(this,arguments)}const Ga={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ih{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(g){}}}function fs(v,g,m,w,x,N){ee(v.config.authDomain,v,"auth-domain-config-required"),ee(v.config.apiKey,v,"invalid-api-key");const ne={apiKey:v.config.apiKey,appName:v.name,authType:m,redirectUrl:w,v:R.SDK_VERSION,eventId:x};if(g instanceof Ns){g.setDefaultLanguage(v.languageCode),ne.providerId=g.providerId||"",(0,U.xb)(g.getCustomParameters())||(ne.customParameters=JSON.stringify(g.getCustomParameters()));for(const[st,yt]of Object.entries(N||{}))ne[st]=yt}if(g instanceof li){const st=g.getScopes().filter(yt=>""!==yt);st.length>0&&(ne.scopes=st.join(","))}v.tenantId&&(ne.tid=v.tenantId);const ke=ne;for(const st of Object.keys(ke))void 0===ke[st]&&delete ke[st];return`${function Su({config:v}){return v.emulator?hn(v,"emulator/auth/handler"):`https://${v.authDomain}/__/auth/handler`}(v)}?${(0,U.xO)(ke).slice(1)}`}const Kl="webStorageSupport",Sp=class cy{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=vu,this._completeRedirectFn=zn,this._overrideRedirectResult=ql}_openPopup(g,m,w,x){var N=this;return(0,a.Z)(function*(){var ne;Ce(null===(ne=N.eventManagers[g._key()])||void 0===ne?void 0:ne.manager,"_initialize() not called before _openPopup()");const ke=fs(g,m,w,ce(),x);return function Wl(v,g,m,w=500,x=600){const N=Math.max((window.screen.availHeight-x)/2,0).toString(),ne=Math.max((window.screen.availWidth-w)/2,0).toString();let ke="";const st=Object.assign(Object.assign({},Ga),{width:w.toString(),height:x.toString(),top:N,left:ne}),yt=(0,U.z$)().toLowerCase();m&&(ke=Ae(yt)?"_blank":m),K(yt)&&(g=g||"http://localhost",st.scrollbars="yes");const Yt=Object.entries(st).reduce((ps,[lo,Mp])=>`${ps}${lo}=${Mp},`,"");if(function Kr(v=(0,U.z$)()){var g;return Bt(v)&&!!(null===(g=window.navigator)||void 0===g?void 0:g.standalone)}(yt)&&"_self"!==ke)return function uy(v,g){const m=document.createElement("a");m.href=v,m.target=g;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(w)}(g||"",ke),new ih(null);const xn=window.open(g||"",ke,Yt);ee(xn,v,"popup-blocked");try{xn.focus()}catch(ps){}return new ih(xn)}(g,ke,ko())})()}_openRedirect(g,m,w,x){var N=this;return(0,a.Z)(function*(){return yield N._originValidation(g),function Lo(v){jn().location.href=v}(fs(g,m,w,ce(),x)),new Promise(()=>{})})()}_initialize(g){const m=g._key();if(this.eventManagers[m]){const{manager:x,promise:N}=this.eventManagers[m];return x?Promise.resolve(x):(Ce(N,"If manager is not set, promise should be"),N)}const w=this.initAndGetManager(g);return this.eventManagers[m]={promise:w},w.catch(()=>{delete this.eventManagers[m]}),w}initAndGetManager(g){var m=this;return(0,a.Z)(function*(){const w=yield function gT(v){return Rc.apply(this,arguments)}(g),x=new Ko(g);return w.register("authEvent",N=>(ee(null==N?void 0:N.authEvent,g,"invalid-auth-event"),{status:x.onEvent(N.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[g._key()]={manager:x},m.iframes[g._key()]=w,x})()}_isIframeWebStorageSupported(g,m){this.iframes[g._key()].send(Kl,{type:Kl},x=>{var N;const ne=null===(N=null==x?void 0:x[0])||void 0===N?void 0:N[Kl];void 0!==ne&&m(!!ne),qe(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const m=g._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Jo(v){return Cp.apply(this,arguments)}(g)),this.originValidationPromises[m]}get _shouldInitProactively(){return Dr()||z()||Bt()}};class oh extends class ly{constructor(g){this.factorId=g}_process(g,m,w){switch(m.type){case"enroll":return this._finalizeEnroll(g,m.credential,w);case"signin":return this._finalizeSignIn(g,m.credential);default:return he("unexpected MultiFactorSessionType")}}}{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new oh(g)}_finalizeEnroll(g,m,w){return function Yd(v,g){return tn(v,"POST","/v2/accounts/mfaEnrollment:finalize",Zt(v,g))}(g,{idToken:m,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,m){return function Ba(v,g){return tn(v,"POST","/v2/accounts/mfaSignIn:finalize",Zt(v,g))}(g,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let k0=(()=>{class v{constructor(){}static assertion(m){return oh._fromCredential(m)}}return v.FACTOR_ID="phone",v})();var xp="@firebase/auth";class F0{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var m=this;return(0,a.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const m=this.auth.onIdTokenChanged(w=>{var x;g((null===(x=w)||void 0===x?void 0:x.stsTokenManager.accessToken)||null)});this.internalListeners.set(g,m),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const m=this.internalListeners.get(g);!m||(this.internalListeners.delete(g),m(),this.updateProactiveRefresh())}assertAuthConfigured(){ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function V0(v=(0,R.getApp)()){const g=(0,R._getProvider)(v,"auth");return g.isInitialized()?g.getImmediate():function ie(v,g){const m=(0,R._getProvider)(v,"auth");if(m.isInitialized()){const x=m.getImmediate(),N=m.getOptions();if((0,U.vZ)(N,null!=g?g:{}))return x;qe(x,"already-initialized")}return m.initialize({options:g})}(v,{popupRedirectResolver:Sp,persistence:[Ul,Bn,vu]})}!function U0(v){(0,R._registerComponent)(new me.wA("auth",(g,{options:m})=>{const w=g.getProvider("app").getImmediate(),x=g.getProvider("heartbeat"),{apiKey:N,authDomain:ne}=w.options;return((ke,st)=>{ee(N&&!N.includes(":"),"invalid-api-key",{appName:ke.name}),ee(!(null==ne?void 0:ne.includes(":")),"argument-error",{appName:ke.name});const yt={apiKey:N,authDomain:ne,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:cr(v)},Yt=new Yr(ke,st,yt);return function ve(v,g){const m=(null==g?void 0:g.persistence)||[],w=(Array.isArray(m)?m:[m]).map(te);(null==g?void 0:g.errorMap)&&v._updateErrorMap(g.errorMap),v._initializeWithPersistence(w,null==g?void 0:g.popupRedirectResolver)}(Yt,m),Yt})(w,x)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,m,w)=>{g.getProvider("auth-internal").initialize()})),(0,R._registerComponent)(new me.wA("auth-internal",g=>{const m=je(g.getProvider("auth").getImmediate());return new F0(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,R.registerVersion)(xp,"0.20.1",function L0(v){switch(v){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(v)),(0,R.registerVersion)(xp,"0.20.1","esm2017")}("Browser")},2090:(et,Ie,P)=>{P.d(Ie,{$s:()=>Gt,BH:()=>Ge,G6:()=>ee,L:()=>ae,LL:()=>ce,Mn:()=>Ee,Sg:()=>Me,UG:()=>ge,US:()=>me,ZB:()=>j,ZR:()=>ve,b$:()=>qe,d:()=>Oe,eu:()=>Ce,hl:()=>he,jU:()=>De,m9:()=>fn,ne:()=>Mi,pd:()=>bi,r3:()=>Zt,ru:()=>Ze,tV:()=>ye,uI:()=>$e,vZ:()=>Tr,w1:()=>Re,xO:()=>xi,xb:()=>In,z$:()=>Le,zI:()=>Y,zd:()=>si});const se=function(V){const Z=[];let W=0;for(let be=0;be<V.length;be++){let H=V.charCodeAt(be);H<128?Z[W++]=H:H<2048?(Z[W++]=H>>6|192,Z[W++]=63&H|128):55296==(64512&H)&&be+1<V.length&&56320==(64512&V.charCodeAt(be+1))?(H=65536+((1023&H)<<10)+(1023&V.charCodeAt(++be)),Z[W++]=H>>18|240,Z[W++]=H>>12&63|128,Z[W++]=H>>6&63|128,Z[W++]=63&H|128):(Z[W++]=H>>12|224,Z[W++]=H>>6&63|128,Z[W++]=63&H|128)}return Z},me={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(V,Z){if(!Array.isArray(V))throw Error("encodeByteArray takes an array as a parameter");this.init_();const W=Z?this.byteToCharMapWebSafe_:this.byteToCharMap_,be=[];for(let H=0;H<V.length;H+=3){const J=V[H],Ne=H+1<V.length,Xe=Ne?V[H+1]:0,ft=H+2<V.length,Pt=ft?V[H+2]:0;let Kn=(15&Xe)<<2|Pt>>6,ue=63&Pt;ft||(ue=64,Ne||(Kn=64)),be.push(W[J>>2],W[(3&J)<<4|Xe>>4],W[Kn],W[ue])}return be.join("")},encodeString(V,Z){return this.HAS_NATIVE_SUPPORT&&!Z?btoa(V):this.encodeByteArray(se(V),Z)},decodeString(V,Z){return this.HAS_NATIVE_SUPPORT&&!Z?atob(V):function(V){const Z=[];let W=0,be=0;for(;W<V.length;){const H=V[W++];if(H<128)Z[be++]=String.fromCharCode(H);else if(H>191&&H<224){const J=V[W++];Z[be++]=String.fromCharCode((31&H)<<6|63&J)}else if(H>239&&H<365){const ft=((7&H)<<18|(63&V[W++])<<12|(63&V[W++])<<6|63&V[W++])-65536;Z[be++]=String.fromCharCode(55296+(ft>>10)),Z[be++]=String.fromCharCode(56320+(1023&ft))}else{const J=V[W++],Ne=V[W++];Z[be++]=String.fromCharCode((15&H)<<12|(63&J)<<6|63&Ne)}}return Z.join("")}(this.decodeStringToByteArray(V,Z))},decodeStringToByteArray(V,Z){this.init_();const W=Z?this.charToByteMapWebSafe_:this.charToByteMap_,be=[];for(let H=0;H<V.length;){const J=W[V.charAt(H++)],Xe=H<V.length?W[V.charAt(H)]:0;++H;const Pt=H<V.length?W[V.charAt(H)]:64;++H;const wt=H<V.length?W[V.charAt(H)]:64;if(++H,null==J||null==Xe||null==Pt||null==wt)throw Error();be.push(J<<2|Xe>>4),64!==Pt&&(be.push(Xe<<4&240|Pt>>2),64!==wt&&be.push(Pt<<6&192|wt))}return be},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let V=0;V<this.ENCODED_VALS.length;V++)this.byteToCharMap_[V]=this.ENCODED_VALS.charAt(V),this.charToByteMap_[this.byteToCharMap_[V]]=V,this.byteToCharMapWebSafe_[V]=this.ENCODED_VALS_WEBSAFE.charAt(V),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[V]]=V,V>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(V)]=V,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(V)]=V)}}},ae=function(V){return function(V){const Z=se(V);return me.encodeByteArray(Z,!0)}(V).replace(/\./g,"")},ye=function(V){try{return me.decodeString(V,!0)}catch(Z){console.error("base64Decode failed: ",Z)}return null};function j(V,Z){if(!(Z instanceof Object))return Z;switch(Z.constructor){case Date:return new Date(Z.getTime());case Object:void 0===V&&(V={});break;case Array:V=[];break;default:return Z}for(const W in Z)!Z.hasOwnProperty(W)||!re(W)||(V[W]=j(V[W],Z[W]));return V}function re(V){return"__proto__"!==V}class Ge{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Z,W)=>{this.resolve=Z,this.reject=W})}wrapCallback(Z){return(W,be)=>{W?this.reject(W):this.resolve(be),"function"==typeof Z&&(this.promise.catch(()=>{}),1===Z.length?Z(W):Z(W,be))}}}function Me(V,Z){if(V.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const be=Z||"demo-project",H=V.iat||0,J=V.sub||V.user_id;if(!J)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ne=Object.assign({iss:`https://securetoken.google.com/${be}`,aud:be,iat:H,exp:H+3600,auth_time:H,sub:J,user_id:J,firebase:{sign_in_provider:"custom",identities:{}}},V);return[ae(JSON.stringify({alg:"none",type:"JWT"})),ae(JSON.stringify(Ne)),""].join(".")}function Le(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function $e(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Le())}function ge(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(V){return!1}}function De(){return"object"==typeof self&&self.self===self}function Ze(){const V="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof V&&void 0!==V.id}function qe(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Oe(){return Le().indexOf("Electron/")>=0}function Re(){const V=Le();return V.indexOf("MSIE ")>=0||V.indexOf("Trident/")>=0}function Ee(){return Le().indexOf("MSAppHost/")>=0}function ee(){return!ge()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function he(){return"object"==typeof indexedDB}function Ce(){return new Promise((V,Z)=>{try{let W=!0;const be="validate-browser-context-for-indexeddb-analytics-module",H=self.indexedDB.open(be);H.onsuccess=()=>{H.result.close(),W||self.indexedDB.deleteDatabase(be),V(!0)},H.onupgradeneeded=()=>{W=!1},H.onerror=()=>{var J;Z((null===(J=H.error)||void 0===J?void 0:J.message)||"")}}catch(W){Z(W)}})}function Y(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class ve extends Error{constructor(Z,W,be){super(W),this.code=Z,this.customData=be,this.name="FirebaseError",Object.setPrototypeOf(this,ve.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ce.prototype.create)}}class ce{constructor(Z,W,be){this.service=Z,this.serviceName=W,this.errors=be}create(Z,...W){const be=W[0]||{},H=`${this.service}/${Z}`,J=this.errors[Z],Ne=J?function Ue(V,Z){return V.replace(ht,(W,be)=>{const H=Z[be];return null!=H?String(H):`<${be}?>`})}(J,be):"Error";return new ve(H,`${this.serviceName}: ${Ne} (${H}).`,be)}}const ht=/\{\$([^}]+)}/g;function Zt(V,Z){return Object.prototype.hasOwnProperty.call(V,Z)}function In(V){for(const Z in V)if(Object.prototype.hasOwnProperty.call(V,Z))return!1;return!0}function Tr(V,Z){if(V===Z)return!0;const W=Object.keys(V),be=Object.keys(Z);for(const H of W){if(!be.includes(H))return!1;const J=V[H],Ne=Z[H];if(Sn(J)&&Sn(Ne)){if(!Tr(J,Ne))return!1}else if(J!==Ne)return!1}for(const H of be)if(!W.includes(H))return!1;return!0}function Sn(V){return null!==V&&"object"==typeof V}function xi(V){const Z=[];for(const[W,be]of Object.entries(V))Array.isArray(be)?be.forEach(H=>{Z.push(encodeURIComponent(W)+"="+encodeURIComponent(H))}):Z.push(encodeURIComponent(W)+"="+encodeURIComponent(be));return Z.length?"&"+Z.join("&"):""}function si(V){const Z={};return V.replace(/^\?/,"").split("&").forEach(be=>{if(be){const[H,J]=be.split("=");Z[decodeURIComponent(H)]=decodeURIComponent(J)}}),Z}function bi(V){const Z=V.indexOf("?");if(!Z)return"";const W=V.indexOf("#",Z);return V.substring(Z,W>0?W:void 0)}function Mi(V,Z){const W=new gt(V,Z);return W.subscribe.bind(W)}class gt{constructor(Z,W){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=W,this.task.then(()=>{Z(this)}).catch(be=>{this.error(be)})}next(Z){this.forEachObserver(W=>{W.next(Z)})}error(Z){this.forEachObserver(W=>{W.error(Z)}),this.close(Z)}complete(){this.forEachObserver(Z=>{Z.complete()}),this.close()}subscribe(Z,W,be){let H;if(void 0===Z&&void 0===W&&void 0===be)throw new Error("Missing Observer.");H=function Tn(V,Z){if("object"!=typeof V||null===V)return!1;for(const W of Z)if(W in V&&"function"==typeof V[W])return!0;return!1}(Z,["next","error","complete"])?Z:{next:Z,error:W,complete:be},void 0===H.next&&(H.next=nn),void 0===H.error&&(H.error=nn),void 0===H.complete&&(H.complete=nn);const J=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?H.error(this.finalError):H.complete()}catch(Ne){}}),this.observers.push(H),J}unsubscribeOne(Z){void 0===this.observers||void 0===this.observers[Z]||(delete this.observers[Z],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Z){if(!this.finalized)for(let W=0;W<this.observers.length;W++)this.sendOne(W,Z)}sendOne(Z,W){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Z])try{W(this.observers[Z])}catch(be){"undefined"!=typeof console&&console.error&&console.error(be)}})}close(Z){this.finalized||(this.finalized=!0,void 0!==Z&&(this.finalError=Z),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function nn(){}function Gt(V,Z=1e3,W=2){const be=Z*Math.pow(W,V),H=Math.round(.5*be*(Math.random()-.5)*2);return Math.min(144e5,be+H)}function fn(V){return V&&V._delegate?V._delegate:V}},7656:(et,Ie,P)=>{var a=P(5e3);let U=null;function R(){return U}const de=new a.OlP("DocumentToken");let ae=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return function ye(){return(0,a.LFG)(j)}()},providedIn:"platform"}),n})();const q=new a.OlP("Location Initialized");let j=(()=>{class n extends ae{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return R().getBaseHref(this._doc)}onPopState(t){const r=R().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=R().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){re()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){re()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(de))},n.\u0275prov=a.Yz7({token:n,factory:function(){return function Ge(){return new j((0,a.LFG)(de))}()},providedIn:"platform"}),n})();function re(){return!!window.history.pushState}function Me(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Le(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function $e(n){return n&&"?"!==n[0]?"?"+n:n}let ge=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return function De(n){const e=(0,a.LFG)(de).location;return new qe((0,a.LFG)(ae),e&&e.origin||"")}()},providedIn:"root"}),n})();const Ze=new a.OlP("appBaseHref");let qe=(()=>{class n extends ge{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Me(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+$e(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,c){const d=this.prepareExternalUrl(i+$e(c));this._platformLocation.pushState(t,r,d)}replaceState(t,r,i,c){const d=this.prepareExternalUrl(i+$e(c));this._platformLocation.replaceState(t,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(ae),a.LFG(Ze,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),Oe=(()=>{class n extends ge{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Me(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,c){let d=this.prepareExternalUrl(i+$e(c));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.pushState(t,r,d)}replaceState(t,r,i,c){let d=this.prepareExternalUrl(i+$e(c));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(ae),a.LFG(Ze,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),Re=(()=>{class n{constructor(t,r){this._subject=new a.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=Le(ee(i)),this._platformStrategy.onPopState(c=>{this._subject.emit({url:this.path(!0),pop:!0,state:c.state,type:c.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+$e(r))}normalize(t){return n.stripTrailingSlash(function We(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,ee(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._platformStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+$e(r)),i)}replaceState(t,r="",i=null){this._platformStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+$e(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformStrategy).historyGo)||void 0===i||i.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=$e,n.joinWithSlash=Me,n.stripTrailingSlash=Le,n.\u0275fac=function(t){return new(t||n)(a.LFG(ge),a.LFG(ae))},n.\u0275prov=a.Yz7({token:n,factory:function(){return function Ee(){return new Re((0,a.LFG)(ge),(0,a.LFG)(ae))}()},providedIn:"root"}),n})();function ee(n){return n.replace(/\/index.html$/,"")}function zs(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,c]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(c)}return null}let Ws=(()=>{class n{constructor(t,r,i,c){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=c,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,a.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,a.AaK)(r.item)}`);this._toggleClass(r.item,!0)}),t.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!0)):Object.keys(t).forEach(r=>this._toggleClass(r,!!t[r])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!1)):Object.keys(t).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(t,r){(t=t.trim())&&t.split(/\s+/g).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.ZZ4),a.Y36(a.aQg),a.Y36(a.SBq),a.Y36(a.Qsj))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class Do{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let en=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,c,d)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new Do(i.item,this._ngForOf,-1,-1),null===d?void 0:d);else if(null==d)r.remove(null===c?void 0:c);else if(null!==c){const f=r.get(c);r.move(f,d),Rs(f,i)}});for(let i=0,c=r.length;i<c;i++){const f=r.get(i).context;f.index=i,f.count=c,f.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{Rs(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(a.ZZ4))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function Rs(n,e){n.context.$implicit=e.item}let Gn=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new pn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){ml("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){ml("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.s_b),a.Y36(a.Rgc))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class pn{constructor(){this.$implicit=null,this.ngIf=null}}function ml(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,a.AaK)(e)}'.`)}class Ys{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let ui=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const r=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let r=0;r<this._defaultViews.length;r++)this._defaultViews[r].enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=a.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),n})(),Qr=(()=>{class n{constructor(t,r,i){this.ngSwitch=i,i._addCase(),this._view=new Ys(t,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(ui,9))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),n})(),dc=(()=>{class n{constructor(t,r,i){this._ngEl=t,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){const[i,c]=t.split(".");null!=(r=null!=r&&c?`${r}${c}`:r)?this._renderer.setStyle(this._ngEl.nativeElement,i,r):this._renderer.removeStyle(this._ngEl.nativeElement,i)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(a.aQg),a.Y36(a.Qsj))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),n})();function Yn(n,e){return new a.vHH(2100,"")}class vl{createSubscription(e,t){return e.subscribe({next:t,error:r=>{throw r}})}dispose(e){e.unsubscribe()}onDestroy(e){e.unsubscribe()}}class cp{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}onDestroy(e){}}const Xi=new cp,lp=new vl;let lu=(()=>{class n{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if((0,a.QGY)(t))return Xi;if((0,a.F4k)(t))return lp;throw Yn()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.sBO,16))},n.\u0275pipe=a.Yjl({name:"async",type:n,pure:!1}),n})(),hc=(()=>{class n{transform(t){if(null==t)return null;if("string"!=typeof t)throw Yn();return t.toUpperCase()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=a.Yjl({name:"uppercase",type:n,pure:!0}),n})(),ts=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();function mr(n){return"server"===n}let hu=(()=>{class n{}return n.\u0275prov=(0,a.Yz7)({token:n,providedIn:"root",factory:()=>new fu((0,a.LFG)(de),window)}),n})();class fu{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function rs(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const c=i.shadowRoot;if(c){const d=c.getElementById(e)||c.querySelector(`[name="${e}"]`);if(d)return d}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,c=this.offset();this.window.scrollTo(r-c[0],i-c[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=fc(this.window.history)||fc(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function fc(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class vn{}class ks extends class Ea extends class me{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function oe(n){U||(U=n)}(new ks)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function pu(){return gn=gn||document.querySelector("base"),gn?gn.getAttribute("href"):null}();return null==t?null:function Qs(n){Ca=Ca||document.createElement("a"),Ca.setAttribute("href",n);const e=Ca.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){gn=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return zs(document.cookie,e)}}let Ca,gn=null;const lr=new a.OlP("TRANSITION_ID"),Un=[{provide:a.ip1,useFactory:function gu(n,e,t){return()=>{t.get(a.CZH).donePromise.then(()=>{const r=R(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let c=0;c<i.length;c++)r.remove(i[c])})}},deps:[lr,de,a.zs3],multi:!0}];class is{static init(){(0,a.VLi)(new is)}addToWindow(e){a.dqk.getAngularTestability=(r,i=!0)=>{const c=e.findTestabilityInTree(r,i);if(null==c)throw new Error("Could not find testability for element.");return c},a.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),a.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),a.dqk.frameworkStabilizers||(a.dqk.frameworkStabilizers=[]),a.dqk.frameworkStabilizers.push(r=>{const i=a.dqk.getAllAngularTestabilities();let c=i.length,d=!1;const f=function(y){d=d||y,c--,0==c&&r(d)};i.forEach(function(y){y.whenStable(f)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const i=e.getTestability(t);return null!=i?i:r?R().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let dr=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const Mo=new a.OlP("EventManagerPlugins");let Pi=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let c=0;c<i.length;c++){const d=i[c];if(d.supports(t))return this._eventNameToPlugin.set(t,d),d}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Mo),a.LFG(a.R0b))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class gc{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=R().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let Jr=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),Fs=(()=>{class n extends Jr{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(c=>{const d=this._doc.createElement("style");d.textContent=c,i.push(r.appendChild(d))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(Ls),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Ls))}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(de))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();function Ls(n){R().remove(n)}const mt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ta=/%COMP%/g;function xe(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?xe(n,i,t):(i=i.replace(Ta,n),t.push(i))}return t}function zt(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let On=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Us(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case a.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new yc(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case a.ifc.ShadowDom:return new _c(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=xe(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Pi),a.LFG(Fs),a.LFG(a.AFp))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class Us{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(mt[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const c=mt[i];c?e.setAttributeNS(c,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=mt[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(a.JOm.DashCase|a.JOm.Important)?e.style.setProperty(t,r,i&a.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&a.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,zt(r)):this.eventManager.addEventListener(e,t,zt(r))}}class yc extends Us{constructor(e,t,r,i){super(e),this.component=r;const c=xe(i+"-"+r.id,r.styles,[]);t.addStyles(c),this.contentAttr=function Aa(n){return"_ngcontent-%COMP%".replace(Ta,n)}(i+"-"+r.id),this.hostAttr=function zd(n){return"_nghost-%COMP%".replace(Ta,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class _c extends Us{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=xe(i.id,i.styles,[]);for(let d=0;d<c.length;d++){const f=document.createElement("style");f.textContent=c[d],this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Dl=(()=>{class n extends gc{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(de))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const Al=["alt","control","meta","shift"],Oo={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},er={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Ei={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let vc=(()=>{class n extends gc{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const c=n.parseEventName(r),d=n.eventCallback(c.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>R().onAndCancel(t,c.domEventName,d))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const c=n._normalizeKey(r.pop());let d="";if(Al.forEach(y=>{const E=r.indexOf(y);E>-1&&(r.splice(E,1),d+=y+".")}),d+=c,0!=r.length||0===c.length)return null;const f={};return f.domEventName=i,f.fullKey=d,f}static getEventFullKey(t){let r="",i=function Ni(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&er.hasOwnProperty(e)&&(e=er[e]))}return Oo[e]||e}(t);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Al.forEach(c=>{c!=i&&Ei[c](t)&&(r+=c+".")}),r+=i,r}static eventCallback(t,r,i){return c=>{n.getEventFullKey(c)===t&&i.runGuarded(()=>r(c))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(de))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const xl=(0,a.eFA)(a._c5,"browser",[{provide:a.Lbi,useValue:"browser"},{provide:a.g9A,useValue:function ss(){ks.makeCurrent(),is.init()},multi:!0},{provide:de,useFactory:function Sl(){return(0,a.RDi)(document),document},deps:[]}]),Js=[{provide:a.zSh,useValue:"root"},{provide:a.qLn,useFactory:function Oa(){return new a.qLn},deps:[]},{provide:Mo,useClass:Dl,multi:!0,deps:[de,a.R0b,a.Lbi]},{provide:Mo,useClass:vc,multi:!0,deps:[de]},{provide:On,useClass:On,deps:[Pi,Fs,a.AFp]},{provide:a.FYo,useExisting:On},{provide:Jr,useExisting:Fs},{provide:Fs,useClass:Fs,deps:[de]},{provide:a.dDg,useClass:a.dDg,deps:[a.R0b]},{provide:Pi,useClass:Pi,deps:[Mo,a.R0b]},{provide:vn,useClass:dr,deps:[]}];let mu=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:a.AFp,useValue:t.appId},{provide:lr,useExisting:a.AFp},Un]}}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(n,12))},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:Js,imports:[ts,a.hGG]}),n})();"undefined"!=typeof window&&window;let us=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:function(t){let r=null;return r=t?new(t||n):a.LFG(kl),r},providedIn:"root"}),n})(),kl=(()=>{class n extends us{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case a.q3G.NONE:return r;case a.q3G.HTML:return(0,a.qzn)(r,"HTML")?(0,a.z3N)(r):(0,a.EiD)(this._doc,String(r)).toString();case a.q3G.STYLE:return(0,a.qzn)(r,"Style")?(0,a.z3N)(r):r;case a.q3G.SCRIPT:if((0,a.qzn)(r,"Script"))return(0,a.z3N)(r);throw new Error("unsafe value used in a script context");case a.q3G.URL:return(0,a.yhl)(r),(0,a.qzn)(r,"URL")?(0,a.z3N)(r):(0,a.mCW)(String(r));case a.q3G.RESOURCE_URL:if((0,a.qzn)(r,"ResourceURL"))return(0,a.z3N)(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,a.JVY)(t)}bypassSecurityTrustStyle(t){return(0,a.L6k)(t)}bypassSecurityTrustScript(t){return(0,a.eBb)(t)}bypassSecurityTrustUrl(t){return(0,a.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,a.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(de))},n.\u0275prov=a.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function No(n){return new kl(n.get(de))}(a.LFG(a.zs3)),r},providedIn:"root"}),n})();var mn=P(5813),Fa=P(5867);class Bn{constructor(e){return e}}class Fl{constructor(){return(0,Fa.C6)()}}const La=new a.OlP("angularfire2._apps"),ko={provide:Bn,useFactory:function bu(n){return n&&1===n.length?n[0]:new Bn((0,Fa.Mq)())},deps:[[new a.FiY,La]]},Fo={provide:Fl,deps:[[new a.FiY,La]]};function jn(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Bn(r)}}let Lo=(()=>{class n{constructor(t){(0,Fa.KN)("angularfire",mn.q4.full,"core"),(0,Fa.KN)("angularfire",mn.q4.full,"app"),(0,Fa.KN)("angular",a.q4F.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(a.Lbi))},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[ko,Fo]}),n})();function no(n,...e){return{ngModule:Lo,providers:[{provide:La,useFactory:jn(n),multi:!0,deps:[a.R0b,a.zs3,mn.HU,...e]}]}}const Ll=(0,mn.u3)(Fa.ZF,!0);var we=P(5861),Sr=P(9681),Fi=P(4859),vt=P(2090),Ci=P(1877);const Ua=new Map,ro={activated:!1,tokenObservers:[]},Cc={initialized:!1,enabled:!1};function Rn(n){return Ua.get(n)||ro}function yr(n,e){Ua.set(n,e)}function Uo(){return Cc}class Bo{constructor(e,t,r,i,c){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=c,this.pending=null,this.nextErrorWaitInterval=i,i>c)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,we.Z)(function*(){t.stop();try{t.pending=new vt.BH,yield function Tc(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new vt.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Hn=new vt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function io(n){if(!Rn(n).activated)throw Hn.create("use-before-activation",{appName:n.name})}function Bl(n,e){return oo.apply(this,arguments)}function oo(){return(oo=(0,we.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const S=yield i.getHeartbeatsHeader();S&&(r["X-Firebase-Client"]=S)}const c={method:"POST",body:JSON.stringify(e),headers:r};let d,f;try{d=yield fetch(n,c)}catch(S){throw Hn.create("fetch-network-error",{originalErrorMessage:S.message})}if(200!==d.status)throw Hn.create("fetch-status-error",{httpStatus:d.status});try{f=yield d.json()}catch(S){throw Hn.create("fetch-parse-error",{originalErrorMessage:S.message})}const y=f.ttl.match(/^([\d.]+)(s)$/);if(!y||!y[2]||isNaN(Number(y[1])))throw Hn.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${f.ttl}`});const E=1e3*Number(y[1]),A=Date.now();return{token:f.token,expireTimeMillis:A+E,issuedAtTimeMillis:A}})).apply(this,arguments)}function ny(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const Ho="firebase-app-check-store";let Ic=null;function $o(){return Ic||(Ic=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Hn.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Ho,{keyPath:"compositeKey"})}}catch(t){e(Hn.create("storage-open",{originalErrorMessage:t.message}))}}),Ic)}function Dc(){return(Dc=(0,we.Z)(function*(n,e){const r=(yield $o()).transaction(Ho,"readwrite"),c=r.objectStore(Ho).put({compositeKey:n,value:e});return new Promise((d,f)=>{c.onsuccess=y=>{d()},r.onerror=y=>{var E;f(Hn.create("storage-set",{originalErrorMessage:null===(E=y.target.error)||void 0===E?void 0:E.message}))}})})).apply(this,arguments)}const ds=new Ci.Yd("@firebase/app-check");function Li(n,e){return(0,vt.hl)()?function Qn(n,e){return function $l(n,e){return Dc.apply(this,arguments)}(function qo(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{ds.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function Ac(){return Uo().enabled}function qa(){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,we.Z)(function*(){const n=Uo();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Za={error:"UNKNOWN_ERROR"};function iy(n){return vt.US.encodeString(JSON.stringify(n),!1)}function uo(n){return xc.apply(this,arguments)}function xc(){return(xc=(0,we.Z)(function*(n,e=!1){const t=n.app;io(t);const r=Rn(t);let c,i=r.token;if(!i){const y=yield r.cachedTokenPromise;y&&Vi(y)&&(i=y)}if(!e&&i&&Vi(i))return{token:i.token};let f,d=!1;if(Ac()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Bl(ny(t,yield qa()),n.heartbeatServiceProvider).then(E=>(r.exchangeTokenPromise=void 0,E)),d=!0);const y=yield r.exchangeTokenPromise;return yield Li(t,y),yr(t,Object.assign(Object.assign({},r),{token:y})),{token:y.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(y=>(r.exchangeTokenPromise=void 0,y)),d=!0),i=yield r.exchangeTokenPromise}catch(y){"appCheck/throttled"===y.code?ds.warn(y.message):ds.error(y),c=y}return i?(f={token:i.token},yr(t,Object.assign(Object.assign({},r),{token:i})),yield Li(t,i)):f=Bi(c),d&&hs(t,f),f})).apply(this,arguments)}function Iu(n,e){const t=Rn(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),yr(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function Du(n){const{app:e}=n,t=Rn(e);let r=t.tokenRefresher;r||(r=function Mc(n){const{app:e}=n;return new Bo((0,we.Z)(function*(){let r;if(r=Rn(e).token?yield uo(n,!0):yield uo(n),r.error)throw r.error}),()=>!0,()=>{const t=Rn(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),yr(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function hs(n,e){const t=Rn(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(i){}}function Vi(n){return n.expireTimeMillis-Date.now()>0}function Bi(n){return{token:iy(Za),error:n}}class sy{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Rn(this.app);for(const t of e)Iu(this.app,t.next);return Promise.resolve()}}const Gl="app-check-internal";!function th(){(0,Sr._registerComponent)(new Fi.wA("app-check",n=>function Go(n,e){return new sy(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(Gl).initialize()})),(0,Sr._registerComponent)(new Fi.wA(Gl,n=>function zo(n){return{getToken:e=>uo(n,e),addTokenListener:e=>function Ui(n,e,t,r){const{app:i}=n,c=Rn(i),d={next:t,error:r,type:e};if(yr(i,Object.assign(Object.assign({},c),{tokenObservers:[...c.tokenObservers,d]})),c.token&&Vi(c.token)){const f=c.token;Promise.resolve().then(()=>{t({token:f.token}),Du(n)}).catch(()=>{})}c.cachedTokenPromise.then(()=>Du(n))}(n,"INTERNAL",e),removeTokenListener:e=>Iu(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Sr.registerVersion)("@firebase/app-check","0.5.8")}();class Jo{constructor(){return(0,mn.vb)("app-check")}}"undefined"!=typeof window&&window;var Ga=P(198),Ii=P(8306);function Dp(n){return new Ii.y(function(e){return{unsubscribe:(0,Ga.v)(n,e.next.bind(e),e.error.bind(e),e.complete.bind(e))}})}class Wl{constructor(e){return e}}const sh=new a.OlP("angularfire2.auth-instances");function Su(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Wl(r)}}const Kl={provide:class uy{constructor(){return(0,mn.vb)("auth")}},deps:[[new a.FiY,sh]]},cy={provide:Wl,useFactory:function fs(n,e){const t=(0,mn.JM)("auth",n,e);return t&&new Wl(t)},deps:[[new a.FiY,sh],Bn]};let Sp=(()=>{class n{constructor(){(0,Fa.KN)("angularfire",mn.q4.full,"auth")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[cy,Kl]}),n})();function ly(n,...e){return{ngModule:Sp,providers:[{provide:sh,useFactory:Su(n),multi:!0,deps:[a.R0b,a.zs3,mn.HU,Fl,[new a.FiY,Jo],...e]}]}}const oh=(0,mn.u3)(Dp,!0),V0=(0,mn.u3)(Ga.a5,!0),w=(0,mn.u3)(Ga.n,!0),H0=(0,mn.u3)(Ga.a6,!0);var Mn=P(8996),Yl=P(8421),gs=P(4482),di=P(5403);function hi(n,e){return(0,gs.e)((t,r)=>{let i=null,c=0,d=!1;const f=()=>d&&!i&&r.complete();t.subscribe((0,di.x)(r,y=>{null==i||i.unsubscribe();let E=0;const A=c++;(0,Yl.Xf)(n(y,A)).subscribe(i=(0,di.x)(r,S=>r.next(e?e(y,S,A,E++):S),()=>{i=null,f()}))},()=>{d=!0,f()}))})}let Ql=(()=>{class n{constructor(t){this.auth=t,this.currentUser$=oh(this.auth)}login(t,r){return(0,Mn.D)(H0(this.auth,t,r))}signUp(t,r,i){return(0,Mn.D)(V0(this.auth,r,i)).pipe(hi(({user:c})=>(0,Ga.af)(c,{displayName:t})))}logout(){return(0,Mn.D)(this.auth.signOut())}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Wl))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Jl=P(7669);function At(...n){const e=(0,Jl.yG)(n);return(0,Mn.D)(n,e)}var Or=P(7579);class ho extends Or.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const{isArray:gy}=Array,{getPrototypeOf:vT,prototype:bT,keys:my}=Object;function q0(n){if(1===n.length){const e=n[0];if(gy(e))return{args:e,keys:null};if(function wT(n){return n&&"object"==typeof n&&vT(n)===bT}(e)){const t=my(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var xu=P(4671),Ut=P(4004);const{isArray:ET}=Array;function Z0(n){return(0,Ut.U)(e=>function CT(n,e){return ET(e)?n(...e):n(e)}(n,e))}function G0(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var z0=P(9672);function W0(n,e,t){n?(0,z0.f)(t,n,e):e()}var yy=P(576);function Up(n,e){const t=(0,yy.m)(n)?n:()=>n,r=i=>i.error(t());return new Ii.y(e?i=>e.schedule(r,0,i):r)}const Vp=(0,P(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Bp=P(8189);function Bs(...n){return function Xl(){return(0,Bp.J)(1)}()((0,Mn.D)(n,(0,Jl.yG)(n)))}function K0(n){return new Ii.y(e=>{(0,Yl.Xf)(n()).subscribe(e)})}var uh=P(515),_y=P(727);function AT(){return(0,gs.e)((n,e)=>{let t=null;n._refCount++;const r=(0,di.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,c=t;t=null,i&&(!c||i===c)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class Xo extends Ii.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,gs.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new _y.w0;const t=this.getSubject();e.add(this.source.subscribe((0,di.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=_y.w0.EMPTY)}return e}refCount(){return AT()(this)}}var ch=P(5698);function ed(...n){const e=(0,Jl.yG)(n);return(0,gs.e)((t,r)=>{(e?Bs(n,t,e):Bs(n,t)).subscribe(r)})}function ST(n,e,t,r,i){return(c,d)=>{let f=t,y=e,E=0;c.subscribe((0,di.x)(d,A=>{const S=E++;y=f?n(y,A,S):(f=!0,A),r&&d.next(y)},i&&(()=>{f&&d.next(y),d.complete()})))}}function td(n,e){return(0,gs.e)(ST(n,e,arguments.length>=2,!0))}function Ai(n,e){return(0,gs.e)((t,r)=>{let i=0;t.subscribe((0,di.x)(r,c=>n.call(e,c,i++)&&r.next(c)))})}function za(n){return(0,gs.e)((e,t)=>{let c,r=null,i=!1;r=e.subscribe((0,di.x)(t,void 0,void 0,d=>{c=(0,Yl.Xf)(n(d,za(n)(e))),r?(r.unsubscribe(),r=null,c.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,c.subscribe(t))})}var Xr=P(5577);function Mu(n,e){return(0,yy.m)(e)?(0,Xr.z)(n,e,1):(0,Xr.z)(n,1)}function lh(n){return n<=0?()=>uh.E:(0,gs.e)((e,t)=>{let r=[];e.subscribe((0,di.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function vy(n=G1){return(0,gs.e)((e,t)=>{let r=!1;e.subscribe((0,di.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function G1(){return new Vp}function Nc(n){return(0,gs.e)((e,t)=>{let r=!1;e.subscribe((0,di.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Ou(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Ai((i,c)=>n(i,c,r)):xu.y,(0,ch.q)(1),t?Nc(e):vy(()=>new Vp))}var qi=P(8505);class Wa{constructor(e,t){this.id=e,this.url=t}}class Ey extends Wa{constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class dh extends Wa{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Y0 extends Wa{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class xT extends Wa{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class MT extends Wa{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Q0 extends Wa{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Cy extends Wa{constructor(e,t,r,i,c){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=c}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class J0 extends Wa{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ty extends Wa{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class X0{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class eb{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class tb{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class nb{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class kc{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rb{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Iy{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Jt="primary";class jp{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function nd(n){return new jp(n)}const Dy="ngNavigationCancelingError";function Hp(n){const e=Error("NavigationCancelingError: "+n);return e[Dy]=!0,e}function Ay(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let c=0;c<r.length;c++){const d=r[c],f=n[c];if(d.startsWith(":"))i[d.substring(1)]=f;else if(d!==f.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function ms(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let c=0;c<t.length;c++)if(i=t[c],!hh(n[i],e[i]))return!1;return!0}function hh(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,c)=>r[c]===i)}return n===e}function Sy(n){return Array.prototype.concat.apply([],n)}function $p(n){return n.length>0?n[n.length-1]:null}function Rr(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Zi(n){return(0,a.CqO)(n)?n:(0,a.QGY)(n)?(0,Mn.D)(Promise.resolve(n)):At(n)}const ob={exact:function qp(n,e,t){if(!Fc(n.segments,e.segments)||!Zp(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!qp(n.children[r],e.children[r],t))return!1;return!0},subset:PT},ab={exact:function cb(n,e){return ms(n,e)},subset:function lb(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>hh(n[t],e[t]))},ignored:()=>!0};function ub(n,e,t){return ob[t.paths](n.root,e.root,t.matrixParams)&&ab[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function PT(n,e,t){return xy(n,e,e.segments,t)}function xy(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Fc(i,t)||e.hasChildren()||!Zp(i,t,r))}if(n.segments.length===t.length){if(!Fc(n.segments,t)||!Zp(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!PT(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),c=t.slice(n.segments.length);return!!(Fc(n.segments,i)&&Zp(n.segments,i,r)&&n.children[Jt])&&xy(n.children[Jt],e,c,r)}}function Zp(n,e,t){return e.every((r,i)=>ab[t](n[i].parameters,r.parameters))}class Ru{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=nd(this.queryParams)),this._queryParamMap}toString(){return NT.serialize(this)}}class rn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Rr(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Gp(this)}}class fh{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=nd(this.parameters)),this._parameterMap}toString(){return Oy(this)}}function Fc(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class hb{}class fb{parse(e){const t=new Ny(e);return new Ru(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${rd(e.root,!0)}`,r=function po(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${zp(t)}=${zp(i)}`).join("&"):`${zp(t)}=${zp(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function kT(n){return encodeURI(n)}(e.fragment)}`:""}`}}const NT=new fb;function Gp(n){return n.segments.map(e=>Oy(e)).join("/")}function rd(n,e){if(!n.hasChildren())return Gp(n);if(e){const t=n.children[Jt]?rd(n.children[Jt],!1):"",r=[];return Rr(n.children,(i,c)=>{c!==Jt&&r.push(`${c}:${rd(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function db(n,e){let t=[];return Rr(n.children,(r,i)=>{i===Jt&&(t=t.concat(e(r,i)))}),Rr(n.children,(r,i)=>{i!==Jt&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===Jt?[rd(n.children[Jt],!1)]:[`${i}:${rd(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Jt]?`${Gp(n)}/${t[0]}`:`${Gp(n)}/(${t.join("//")})`}}function pb(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function zp(n){return pb(n).replace(/%3B/gi,";")}function Ot(n){return pb(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ph(n){return decodeURIComponent(n)}function My(n){return ph(n.replace(/\+/g,"%20"))}function Oy(n){return`${Ot(n.path)}${function Wp(n){return Object.keys(n).map(e=>`;${Ot(e)}=${Ot(n[e])}`).join("")}(n.parameters)}`}const gb=/^[^\/()?;=#]+/;function Kp(n){const e=n.match(gb);return e?e[0]:""}const Ry=/^[^=?&#]+/,Py=/^[^&#]+/;class Ny{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new rn([],{}):new rn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Jt]=new rn(e,t)),r}parseSegment(){const e=Kp(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new fh(ph(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Kp(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=Kp(this.remaining);i&&(r=i,this.capture(r))}e[ph(t)]=ph(r)}parseQueryParam(e){const t=function Ka(n){const e=n.match(Ry);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const d=function mb(n){const e=n.match(Py);return e?e[0]:""}(this.remaining);d&&(r=d,this.capture(r))}const i=My(t),c=My(r);if(e.hasOwnProperty(i)){let d=e[i];Array.isArray(d)||(d=[d],e[i]=d),d.push(c)}else e[i]=c}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Kp(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let c;r.indexOf(":")>-1?(c=r.substr(0,r.indexOf(":")),this.capture(c),this.capture(":")):e&&(c=Jt);const d=this.parseChildren();t[c]=1===Object.keys(d).length?d[Jt]:new rn([],d),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class FT{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Yp(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Yp(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=yb(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return yb(e,this._root).map(t=>t.value)}}function Yp(n,e){if(n===e.value)return e;for(const t of e.children){const r=Yp(n,t);if(r)return r}return null}function yb(n,e){if(n===e.value)return[e];for(const t of e.children){const r=yb(n,t);if(r.length)return r.unshift(e),r}return[]}class js{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Ya(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Qp extends FT{constructor(e,t){super(e),this.snapshot=t,eg(this,e)}toString(){return this.snapshot.toString()}}function Jp(n,e){const t=function ky(n,e){const d=new Xp([],{},{},"",{},Jt,e,null,n.root,-1,{});return new vb("",new js(d,[]))}(n,e),r=new ho([new fh("",{})]),i=new ho({}),c=new ho({}),d=new ho({}),f=new ho(""),y=new gh(r,i,d,f,c,Jt,e,t.root);return y.snapshot=t.root,new Qp(new js(y,[]),t)}class gh{constructor(e,t,r,i,c,d,f,y){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=c,this.outlet=d,this.component=f,this._futureSnapshot=y}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ut.U)(e=>nd(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ut.U)(e=>nd(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function _b(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],c=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(c.component)break;r--}}return function LT(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Xp{constructor(e,t,r,i,c,d,f,y,E,A,S){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=c,this.outlet=d,this.component=f,this.routeConfig=y,this._urlSegment=E,this._lastPathIndex=A,this._resolve=S}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=nd(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=nd(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class vb extends FT{constructor(e,t){super(t),this.url=e,eg(this,t)}toString(){return UT(this._root)}}function eg(n,e){e.value._routerState=n,e.children.forEach(t=>eg(n,t))}function UT(n){const e=n.children.length>0?` { ${n.children.map(UT).join(", ")} } `:"";return`${n.value}${e}`}function Fy(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,ms(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),ms(e.params,t.params)||n.params.next(t.params),function sb(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!ms(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),ms(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function bb(n,e){const t=ms(n.params,e.params)&&function fo(n,e){return Fc(n,e)&&n.every((t,r)=>ms(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||bb(n.parent,e.parent))}function id(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function VT(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return id(n,r,i);return id(n,r)})}(n,e,t);return new js(r,i)}{if(n.shouldAttach(e.value)){const c=n.retrieve(e.value);if(null!==c){const d=c.route;return d.value._futureSnapshot=e.value,d.children=e.children.map(f=>id(n,f)),d}}const r=function Ly(n){return new gh(new ho(n.url),new ho(n.params),new ho(n.queryParams),new ho(n.fragment),new ho(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(c=>id(n,c));return new js(r,i)}}function Uy(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function tg(n){return"object"==typeof n&&null!=n&&n.outlets}function Eb(n,e,t,r,i){let c={};if(r&&Rr(r,(f,y)=>{c[y]=Array.isArray(f)?f.map(E=>`${E}`):`${f}`}),n===e)return new Ru(t,c,i);const d=BT(n,e,t);return new Ru(d,c,i)}function BT(n,e,t){const r={};return Rr(n.children,(i,c)=>{r[c]=i===e?t:BT(i,e,t)}),new rn(n.segments,r)}class jT{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Uy(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(tg);if(i&&i!==$p(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Cb{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function ng(n,e,t){if(n||(n=new rn([],{})),0===n.segments.length&&n.hasChildren())return rg(n,e,t);const r=function Tb(n,e,t){let r=0,i=e;const c={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return c;const d=n.segments[i],f=t[r];if(tg(f))break;const y=`${f}`,E=r<t.length-1?t[r+1]:null;if(i>0&&void 0===y)break;if(y&&E&&"object"==typeof E&&void 0===E.outlets){if(!Db(y,E,d))return c;r+=2}else{if(!Db(y,{},d))return c;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const c=new rn(n.segments.slice(0,r.pathIndex),{});return c.children[Jt]=new rn(n.segments.slice(r.pathIndex),n.children),rg(c,0,i)}return r.match&&0===i.length?new rn(n.segments,{}):r.match&&!n.hasChildren()?mh(n,e,t):r.match?rg(n,0,i):mh(n,e,t)}function rg(n,e,t){if(0===t.length)return new rn(n.segments,{});{const r=function Pu(n){return tg(n[0])?n[0].outlets:{[Jt]:n}}(t),i={};return Rr(r,(c,d)=>{"string"==typeof c&&(c=[c]),null!==c&&(i[d]=ng(n.children[d],e,c))}),Rr(n.children,(c,d)=>{void 0===r[d]&&(i[d]=c)}),new rn(n.segments,i)}}function mh(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const c=t[i];if(tg(c)){const y=Ib(c.outlets);return new rn(r,y)}if(0===i&&Uy(t[0])){r.push(new fh(n.segments[e].path,ig(t[0]))),i++;continue}const d=tg(c)?c.outlets[Jt]:`${c}`,f=i<t.length-1?t[i+1]:null;d&&f&&Uy(f)?(r.push(new fh(d,ig(f))),i+=2):(r.push(new fh(d,{})),i++)}return new rn(r,{})}function Ib(n){const e={};return Rr(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=mh(new rn([],{}),0,t))}),e}function ig(n){const e={};return Rr(n,(t,r)=>e[r]=`${t}`),e}function Db(n,e,t){return n==t.path&&ms(e,t.parameters)}class Ab{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Fy(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Ya(t);e.children.forEach(c=>{const d=c.value.outlet;this.deactivateRoutes(c,i[d],r),delete i[d]}),Rr(i,(c,d)=>{this.deactivateRouteAndItsChildren(c,r)})}deactivateRoutes(e,t,r){const i=e.value,c=t?t.value:null;if(i===c)if(i.component){const d=r.getContext(i.outlet);d&&this.deactivateChildRoutes(e,t,d.children)}else this.deactivateChildRoutes(e,t,r);else c&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,c=Ya(e);for(const d of Object.keys(c))this.deactivateRouteAndItsChildren(c[d],i);if(r&&r.outlet){const d=r.outlet.detach(),f=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:d,route:e,contexts:f})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,c=Ya(e);for(const d of Object.keys(c))this.deactivateRouteAndItsChildren(c[d],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=Ya(t);e.children.forEach(c=>{this.activateRoutes(c,i[c.value.outlet],r),this.forwardEvent(new rb(c.value.snapshot))}),e.children.length&&this.forwardEvent(new nb(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,c=t?t.value:null;if(Fy(i),i===c)if(i.component){const d=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,d.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const d=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const f=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),d.children.onOutletReAttached(f.contexts),d.attachRef=f.componentRef,d.route=f.route.value,d.outlet&&d.outlet.attach(f.componentRef,f.route.value),Fy(f.route.value),this.activateChildRoutes(e,null,d.children)}else{const f=function HT(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(i.snapshot),y=f?f.module.componentFactoryResolver:null;d.attachRef=null,d.route=i,d.resolver=y,d.outlet&&d.outlet.activateWith(i,y),this.activateChildRoutes(e,null,d.children)}}else this.activateChildRoutes(e,null,r)}}class yh{constructor(e,t){this.routes=e,this.module=t}}function ku(n){return"function"==typeof n}function Lc(n){return n instanceof Ru}const ea=Symbol("INITIAL_VALUE");function Qa(){return hi(n=>function TT(...n){const e=(0,Jl.yG)(n),t=(0,Jl.jO)(n),{args:r,keys:i}=q0(n);if(0===r.length)return(0,Mn.D)([],e);const c=new Ii.y(function IT(n,e,t=xu.y){return r=>{W0(e,()=>{const{length:i}=n,c=new Array(i);let d=i,f=i;for(let y=0;y<i;y++)W0(e,()=>{const E=(0,Mn.D)(n[y],e);let A=!1;E.subscribe((0,di.x)(r,S=>{c[y]=S,A||(A=!0,f--),f||r.next(t(c.slice()))},()=>{--d||r.complete()}))},r)},r)}}(r,e,i?d=>G0(i,d):xu.y));return t?c.pipe(Z0(t)):c}(n.map(e=>e.pipe((0,ch.q)(1),ed(ea)))).pipe(td((e,t)=>{let r=!1;return t.reduce((i,c,d)=>i!==ea?i:(c===ea&&(r=!0),r||!1!==c&&d!==t.length-1&&!Lc(c)?i:c),e)},ea),Ai(e=>e!==ea),(0,Ut.U)(e=>Lc(e)?e:!0===e),(0,ch.q)(1)))}class od{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new vh,this.attachRef=null}}class vh{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new od,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let ta=(()=>{class n{constructor(t,r,i,c,d){this.parentContexts=t,this.location=r,this.resolver=i,this.changeDetector=d,this.activated=null,this._activatedRoute=null,this.activateEvents=new a.vpe,this.deactivateEvents=new a.vpe,this.attachEvents=new a.vpe,this.detachEvents=new a.vpe,this.name=c||Jt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const d=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),f=this.parentContexts.getOrCreateContext(this.name).children,y=new xb(t,f,this.location.injector);this.activated=this.location.createComponent(d,this.location.length,y),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(vh),a.Y36(a.s_b),a.Y36(a._Vd),a.$8M("name"),a.Y36(a.sBO))},n.\u0275dir=a.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class xb{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===gh?this.route:e===vh?this.childContexts:this.parent.get(e,t)}}let sg=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&a._UZ(0,"router-outlet")},directives:[ta],encapsulation:2}),n})();function og(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];Mb(r,ag(e,r))}}function Mb(n,e){n.children&&og(n.children,e)}function ag(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function By(n){const e=n.children&&n.children.map(By),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Jt&&(t.component=sg),t}function ys(n){return n.outlet||Jt}function qT(n,e){const t=n.filter(r=>ys(r)===e);return t.push(...n.filter(r=>ys(r)!==e)),t}const jy={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function bh(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},jy):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const c=(e.matcher||Ay)(t,n,e);if(!c)return Object.assign({},jy);const d={};Rr(c.posParams,(y,E)=>{d[E]=y.path});const f=c.consumed.length>0?Object.assign(Object.assign({},d),c.consumed[c.consumed.length-1].parameters):d;return{matched:!0,consumedSegments:c.consumed,remainingSegments:t.slice(c.consumed.length),parameters:f,positionalParamSegments:null!==(r=c.posParams)&&void 0!==r?r:{}}}function ug(n,e,t,r,i="corrected"){if(t.length>0&&function GT(n,e,t){return t.some(r=>cg(n,e,r)&&ys(r)!==Jt)}(n,t,r)){const d=new rn(e,function ZT(n,e,t,r){const i={};i[Jt]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const c of t)if(""===c.path&&ys(c)!==Jt){const d=new rn([],{});d._sourceSegment=n,d._segmentIndexShift=e.length,i[ys(c)]=d}return i}(n,e,r,new rn(t,n.children)));return d._sourceSegment=n,d._segmentIndexShift=e.length,{segmentGroup:d,slicedSegments:[]}}if(0===t.length&&function _s(n,e,t){return t.some(r=>cg(n,e,r))}(n,t,r)){const d=new rn(n.segments,function Ob(n,e,t,r,i,c){const d={};for(const f of r)if(cg(n,t,f)&&!i[ys(f)]){const y=new rn([],{});y._sourceSegment=n,y._segmentIndexShift="legacy"===c?n.segments.length:e.length,d[ys(f)]=y}return Object.assign(Object.assign({},i),d)}(n,e,t,r,n.children,i));return d._sourceSegment=n,d._segmentIndexShift=e.length,{segmentGroup:d,slicedSegments:t}}const c=new rn(n.segments,n.children);return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:t}}function cg(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function Rb(n,e,t,r){return!!(ys(n)===r||r!==Jt&&cg(e,t,n))&&("**"===n.path||bh(e,n,t).matched)}function zT(n,e,t){return 0===e.length&&!n.children[t]}class Hy{constructor(e){this.segmentGroup=e||null}}class $y{constructor(e){this.urlTree=e}}function lg(n){return Up(new Hy(n))}function Pb(n){return Up(new $y(n))}class KT{constructor(e,t,r,i,c){this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=c,this.allowRedirects=!0,this.ngModule=e.get(a.h0i)}apply(){const e=ug(this.urlTree.root,[],[],this.config).segmentGroup,t=new rn(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,Jt).pipe((0,Ut.U)(c=>this.createUrlTree(dg(c),this.urlTree.queryParams,this.urlTree.fragment))).pipe(za(c=>{if(c instanceof $y)return this.allowRedirects=!1,this.match(c.urlTree);throw c instanceof Hy?this.noMatchError(c):c}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,Jt).pipe((0,Ut.U)(i=>this.createUrlTree(dg(i),e.queryParams,e.fragment))).pipe(za(i=>{throw i instanceof Hy?this.noMatchError(i):i}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const i=e.segments.length>0?new rn([],{[Jt]:e}):e;return new Ru(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,Ut.U)(c=>new rn([],c))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const c of Object.keys(r.children))"primary"===c?i.unshift(c):i.push(c);return(0,Mn.D)(i).pipe(Mu(c=>{const d=r.children[c],f=qT(t,c);return this.expandSegmentGroup(e,f,d,c).pipe((0,Ut.U)(y=>({segment:y,outlet:c})))}),td((c,d)=>(c[d.outlet]=d.segment,c),{}),function by(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Ai((i,c)=>n(i,c,r)):xu.y,lh(1),t?Nc(e):vy(()=>new Vp))}())}expandSegment(e,t,r,i,c,d){return(0,Mn.D)(r).pipe(Mu(f=>this.expandSegmentAgainstRoute(e,t,r,f,i,c,d).pipe(za(E=>{if(E instanceof Hy)return At(null);throw E}))),Ou(f=>!!f),za((f,y)=>{if(f instanceof Vp||"EmptyError"===f.name)return zT(t,i,c)?At(new rn([],{})):lg(t);throw f}))}expandSegmentAgainstRoute(e,t,r,i,c,d,f){return Rb(i,t,c,d)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,c,d):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,c,d):lg(t):lg(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,c,d){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,d):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,c,d)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const c=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Pb(c):this.lineralizeSegments(r,c).pipe((0,Xr.z)(d=>{const f=new rn(d,{});return this.expandSegment(e,f,t,d,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,c,d){const{matched:f,consumedSegments:y,remainingSegments:E,positionalParamSegments:A}=bh(t,i,c);if(!f)return lg(t);const S=this.applyRedirectCommands(y,i.redirectTo,A);return i.redirectTo.startsWith("/")?Pb(S):this.lineralizeSegments(i,S).pipe((0,Xr.z)(L=>this.expandSegment(e,t,r,L.concat(E),d,!1)))}matchSegmentAgainstRoute(e,t,r,i,c){if("**"===r.path)return r.loadChildren?(r._loadedConfig?At(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe((0,Ut.U)(S=>(r._loadedConfig=S,new rn(i,{})))):At(new rn(i,{}));const{matched:d,consumedSegments:f,remainingSegments:y}=bh(t,r,i);return d?this.getChildConfig(e,r,i).pipe((0,Xr.z)(A=>{const S=A.module,L=A.routes,{segmentGroup:B,slicedSegments:G}=ug(t,f,y,L),fe=new rn(B.segments,B.children);if(0===G.length&&fe.hasChildren())return this.expandChildren(S,L,fe).pipe((0,Ut.U)(bt=>new rn(f,bt)));if(0===L.length&&0===G.length)return At(new rn(f,{}));const Ve=ys(r)===c;return this.expandSegment(S,fe,L,G,Ve?Jt:c,!0).pipe((0,Ut.U)(pt=>new rn(f.concat(pt.segments),pt.children)))})):lg(t)}getChildConfig(e,t,r){return t.children?At(new yh(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?At(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe((0,Xr.z)(i=>i?this.configLoader.load(e.injector,t).pipe((0,Ut.U)(c=>(t._loadedConfig=c,c))):function Nb(n){return Up(Hp(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(t))):At(new yh([],e))}runCanLoadGuards(e,t,r){const i=t.canLoad;return i&&0!==i.length?At(i.map(d=>{const f=e.get(d);let y;if(function $T(n){return n&&ku(n.canLoad)}(f))y=f.canLoad(t,r);else{if(!ku(f))throw new Error("Invalid CanLoad guard");y=f(t,r)}return Zi(y)})).pipe(Qa(),(0,qi.b)(d=>{if(!Lc(d))return;const f=Hp(`Redirecting to "${this.urlSerializer.serialize(d)}"`);throw f.url=d,f}),(0,Ut.U)(d=>!0===d)):At(!0)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return At(r);if(i.numberOfChildren>1||!i.children[Jt])return Up(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e.redirectTo}'`));i=i.children[Jt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,i){const c=this.createSegmentGroup(e,t.root,r,i);return new Ru(c,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Rr(e,(i,c)=>{if("string"==typeof i&&i.startsWith(":")){const f=i.substring(1);r[c]=t[f]}else r[c]=i}),r}createSegmentGroup(e,t,r,i){const c=this.createSegments(e,t.segments,r,i);let d={};return Rr(t.children,(f,y)=>{d[y]=this.createSegmentGroup(e,f,r,i)}),new rn(c,d)}createSegments(e,t,r,i){return t.map(c=>c.path.startsWith(":")?this.findPosParam(e,c,i):this.findOrReturn(c,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}function dg(n){const e={};for(const r of Object.keys(n.children)){const c=dg(n.children[r]);(c.segments.length>0||c.hasChildren())&&(e[r]=c)}return function YT(n){if(1===n.numberOfChildren&&n.children[Jt]){const e=n.children[Jt];return new rn(n.segments.concat(e.segments),e.children)}return n}(new rn(n.segments,e))}class Zy{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class hg{constructor(e,t){this.component=e,this.route=t}}function JT(n,e,t){const r=n._root;return Gi(r,e?e._root:null,t,[r.value])}function wh(n,e,t){const r=function XT(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function Gi(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const c=Ya(e);return n.children.forEach(d=>{(function Gy(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const c=n.value,d=e?e.value:null,f=t?t.getContext(n.value.outlet):null;if(d&&c.routeConfig===d.routeConfig){const y=function eI(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Fc(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Fc(n.url,e.url)||!ms(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!bb(n,e)||!ms(n.queryParams,e.queryParams);default:return!bb(n,e)}}(d,c,c.routeConfig.runGuardsAndResolvers);y?i.canActivateChecks.push(new Zy(r)):(c.data=d.data,c._resolvedData=d._resolvedData),Gi(n,e,c.component?f?f.children:null:t,r,i),y&&f&&f.outlet&&f.outlet.isActivated&&i.canDeactivateChecks.push(new hg(f.outlet.component,d))}else d&&Eh(e,f,i),i.canActivateChecks.push(new Zy(r)),Gi(n,null,c.component?f?f.children:null:t,r,i)})(d,c[d.value.outlet],t,r.concat([d.value]),i),delete c[d.value.outlet]}),Rr(c,(d,f)=>Eh(d,t.getContext(f),i)),i}function Eh(n,e,t){const r=Ya(n),i=n.value;Rr(r,(c,d)=>{Eh(c,i.component?e?e.children.getContext(d):null:e,t)}),t.canDeactivateChecks.push(new hg(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class fg{}function pg(n){return new Ii.y(e=>e.error(n))}class Wy{constructor(e,t,r,i,c,d){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=c,this.relativeLinkResolution=d}recognize(){const e=ug(this.urlTree.root,[],[],this.config.filter(d=>void 0===d.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,Jt);if(null===t)return null;const r=new Xp([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Jt,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new js(r,t),c=new vb(this.url,i);return this.inheritParamsAndData(c._root),c}inheritParamsAndData(e){const t=e.value,r=_b(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const c of Object.keys(t.children)){const d=t.children[c],f=qT(e,c),y=this.processSegmentGroup(f,d,c);if(null===y)return null;r.push(...y)}const i=Ub(r);return function Ky(n){n.sort((e,t)=>e.value.outlet===Jt?-1:t.value.outlet===Jt?1:e.value.outlet.localeCompare(t.value.outlet))}(i),i}processSegment(e,t,r,i){for(const c of e){const d=this.processSegmentAgainstRoute(c,t,r,i);if(null!==d)return d}return zT(t,r,i)?[]:null}processSegmentAgainstRoute(e,t,r,i){if(e.redirectTo||!Rb(e,t,r,i))return null;let c,d=[],f=[];if("**"===e.path){const B=r.length>0?$p(r).parameters:{};c=new Xp(r,B,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Yy(e),ys(e),e.component,e,uI(t),Bb(t)+r.length,Qy(e))}else{const B=bh(t,e,r);if(!B.matched)return null;d=B.consumedSegments,f=B.remainingSegments,c=new Xp(d,B.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Yy(e),ys(e),e.component,e,uI(t),Bb(t)+d.length,Qy(e))}const y=function Lb(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:E,slicedSegments:A}=ug(t,d,f,y.filter(B=>void 0===B.redirectTo),this.relativeLinkResolution);if(0===A.length&&E.hasChildren()){const B=this.processChildren(y,E);return null===B?null:[new js(c,B)]}if(0===y.length&&0===A.length)return[new js(c,[])];const S=ys(e)===i,L=this.processSegment(y,E,A,S?Jt:i);return null===L?null:[new js(c,L)]}}function aI(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Ub(n){const e=[],t=new Set;for(const r of n){if(!aI(r)){e.push(r);continue}const i=e.find(c=>r.value.routeConfig===c.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=Ub(r.children);e.push(new js(r.value,i))}return e.filter(r=>!t.has(r))}function uI(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Bb(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function Yy(n){return n.data||{}}function Qy(n){return n.resolve||{}}function Ch(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function Jy(n){return hi(e=>{const t=n(e);return t?(0,Mn.D)(t).pipe((0,Ut.U)(()=>e)):At(e)})}class qb extends class Xy{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Th=new a.OlP("ROUTES");class ad{constructor(e,t,r,i){this.injector=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=i}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const i=this.loadModuleFactory(t.loadChildren).pipe((0,Ut.U)(c=>{this.onLoadEndListener&&this.onLoadEndListener(t);const d=c.create(e);return new yh(Sy(d.injector.get(Th,void 0,a.XFs.Self|a.XFs.Optional)).map(By),d)}),za(c=>{throw t._loader$=void 0,c}));return t._loader$=new Xo(i,()=>new Or.x).pipe(AT()),t._loader$}loadModuleFactory(e){return Zi(e()).pipe((0,Xr.z)(t=>t instanceof a.YKP?At(t):(0,Mn.D)(this.compiler.compileModuleAsync(t))))}}class e_{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function Zb(n){throw n}function Gb(n,e,t){return e.parse("/")}function t_(n,e){return At(null)}const dI={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},n_={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ei=(()=>{class n{constructor(t,r,i,c,d,f,y){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=c,this.config=y,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Or.x,this.errorHandler=Zb,this.malformedUriErrorHandler=Gb,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:t_,afterPreactivation:t_},this.urlHandlingStrategy=new e_,this.routeReuseStrategy=new qb,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=d.get(a.h0i),this.console=d.get(a.c2e);const S=d.get(a.R0b);this.isNgZoneEnabled=S instanceof a.R0b&&a.R0b.isInAngularZone(),this.resetConfig(y),this.currentUrlTree=function RT(){return new Ru(new rn([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new ad(d,f,L=>this.triggerEvent(new X0(L)),L=>this.triggerEvent(new eb(L))),this.routerState=Jp(this.currentUrlTree,this.rootComponentType),this.transitions=new ho({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(Ai(i=>0!==i.id),(0,Ut.U)(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),hi(i=>{let c=!1,d=!1;return At(i).pipe((0,qi.b)(f=>{this.currentNavigation={id:f.id,initialUrl:f.currentRawUrl,extractedUrl:f.extractedUrl,trigger:f.source,extras:f.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),hi(f=>{const y=this.browserUrlTree.toString(),E=!this.navigated||f.extractedUrl.toString()!==y||y!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||E)&&this.urlHandlingStrategy.shouldProcessUrl(f.rawUrl))return r_(f.source)&&(this.browserUrlTree=f.extractedUrl),At(f).pipe(hi(S=>{const L=this.transitions.getValue();return r.next(new Ey(S.id,this.serializeUrl(S.extractedUrl),S.source,S.restoredState)),L!==this.transitions.getValue()?uh.E:Promise.resolve(S)}),function QT(n,e,t,r){return hi(i=>function WT(n,e,t,r,i){return new KT(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,Ut.U)(c=>Object.assign(Object.assign({},i),{urlAfterRedirects:c}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,qi.b)(S=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:S.urlAfterRedirects})}),function jb(n,e,t,r,i){return(0,Xr.z)(c=>function oI(n,e,t,r,i="emptyOnly",c="legacy"){try{const d=new Wy(n,e,t,r,i,c).recognize();return null===d?pg(new fg):At(d)}catch(d){return pg(d)}}(n,e,c.urlAfterRedirects,t(c.urlAfterRedirects),r,i).pipe((0,Ut.U)(d=>Object.assign(Object.assign({},c),{targetSnapshot:d}))))}(this.rootComponentType,this.config,S=>this.serializeUrl(S),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,qi.b)(S=>{if("eager"===this.urlUpdateStrategy){if(!S.extras.skipLocationChange){const B=this.urlHandlingStrategy.merge(S.urlAfterRedirects,S.rawUrl);this.setBrowserUrl(B,S)}this.browserUrlTree=S.urlAfterRedirects}const L=new MT(S.id,this.serializeUrl(S.extractedUrl),this.serializeUrl(S.urlAfterRedirects),S.targetSnapshot);r.next(L)}));if(E&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:L,extractedUrl:B,source:G,restoredState:fe,extras:Ve}=f,nt=new Ey(L,this.serializeUrl(B),G,fe);r.next(nt);const pt=Jp(B,this.rootComponentType).snapshot;return At(Object.assign(Object.assign({},f),{targetSnapshot:pt,urlAfterRedirects:B,extras:Object.assign(Object.assign({},Ve),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=f.rawUrl,f.resolve(null),uh.E}),Jy(f=>{const{targetSnapshot:y,id:E,extractedUrl:A,rawUrl:S,extras:{skipLocationChange:L,replaceUrl:B}}=f;return this.hooks.beforePreactivation(y,{navigationId:E,appliedUrlTree:A,rawUrlTree:S,skipLocationChange:!!L,replaceUrl:!!B})}),(0,qi.b)(f=>{const y=new Q0(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(y)}),(0,Ut.U)(f=>Object.assign(Object.assign({},f),{guards:JT(f.targetSnapshot,f.currentSnapshot,this.rootContexts)})),function Q1(n,e){return(0,Xr.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:c,canDeactivateChecks:d}}=t;return 0===d.length&&0===c.length?At(Object.assign(Object.assign({},t),{guardsResult:!0})):function Fb(n,e,t,r){return(0,Mn.D)(n).pipe((0,Xr.z)(i=>function sI(n,e,t,r,i){const c=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return c&&0!==c.length?At(c.map(f=>{const y=wh(f,e,i);let E;if(function Vy(n){return n&&ku(n.canDeactivate)}(y))E=Zi(y.canDeactivate(n,e,t,r));else{if(!ku(y))throw new Error("Invalid CanDeactivate guard");E=Zi(y(n,e,t,r))}return E.pipe(Ou())})).pipe(Qa()):At(!0)}(i.component,i.route,t,e,r)),Ou(i=>!0!==i,!0))}(d,r,i,n).pipe((0,Xr.z)(f=>f&&function Sb(n){return"boolean"==typeof n}(f)?function tI(n,e,t,r){return(0,Mn.D)(e).pipe(Mu(i=>Bs(function rI(n,e){return null!==n&&e&&e(new tb(n)),At(!0)}(i.route.parent,r),function nI(n,e){return null!==n&&e&&e(new kc(n)),At(!0)}(i.route,r),function iI(n,e,t){const r=e[e.length-1],c=e.slice(0,e.length-1).reverse().map(d=>function kb(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(d)).filter(d=>null!==d).map(d=>K0(()=>At(d.guards.map(y=>{const E=wh(y,d.node,t);let A;if(function sd(n){return n&&ku(n.canActivateChild)}(E))A=Zi(E.canActivateChild(r,n));else{if(!ku(E))throw new Error("Invalid CanActivateChild guard");A=Zi(E(r,n))}return A.pipe(Ou())})).pipe(Qa())));return At(c).pipe(Qa())}(n,i.path,t),function zy(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return At(!0);const i=r.map(c=>K0(()=>{const d=wh(c,e,t);let f;if(function _h(n){return n&&ku(n.canActivate)}(d))f=Zi(d.canActivate(e,n));else{if(!ku(d))throw new Error("Invalid CanActivate guard");f=Zi(d(e,n))}return f.pipe(Ou())}));return At(i).pipe(Qa())}(n,i.route,t))),Ou(i=>!0!==i,!0))}(r,c,n,e):At(f)),(0,Ut.U)(f=>Object.assign(Object.assign({},t),{guardsResult:f})))})}(this.ngModule.injector,f=>this.triggerEvent(f)),(0,qi.b)(f=>{if(Lc(f.guardsResult)){const E=Hp(`Redirecting to "${this.serializeUrl(f.guardsResult)}"`);throw E.url=f.guardsResult,E}const y=new Cy(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot,!!f.guardsResult);this.triggerEvent(y)}),Ai(f=>!!f.guardsResult||(this.restoreHistory(f),this.cancelNavigationTransition(f,""),!1)),Jy(f=>{if(f.guards.canActivateChecks.length)return At(f).pipe((0,qi.b)(y=>{const E=new J0(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);this.triggerEvent(E)}),hi(y=>{let E=!1;return At(y).pipe(function Hb(n,e){return(0,Xr.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return At(t);let c=0;return(0,Mn.D)(i).pipe(Mu(d=>function $b(n,e,t,r){return function Ja(n,e,t,r){const i=Ch(n);if(0===i.length)return At({});const c={};return(0,Mn.D)(i).pipe((0,Xr.z)(d=>function cI(n,e,t,r){const i=wh(n,e,r);return Zi(i.resolve?i.resolve(e,t):i(e,t))}(n[d],e,t,r).pipe((0,qi.b)(f=>{c[d]=f}))),lh(1),(0,Xr.z)(()=>Ch(c).length===i.length?At(c):uh.E))}(n._resolve,n,e,r).pipe((0,Ut.U)(c=>(n._resolvedData=c,n.data=Object.assign(Object.assign({},n.data),_b(n,t).resolve),null)))}(d.route,r,n,e)),(0,qi.b)(()=>c++),lh(1),(0,Xr.z)(d=>c===i.length?At(t):uh.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,qi.b)({next:()=>E=!0,complete:()=>{E||(this.restoreHistory(y),this.cancelNavigationTransition(y,"At least one route resolver didn't emit any value."))}}))}),(0,qi.b)(y=>{const E=new Ty(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);this.triggerEvent(E)}))}),Jy(f=>{const{targetSnapshot:y,id:E,extractedUrl:A,rawUrl:S,extras:{skipLocationChange:L,replaceUrl:B}}=f;return this.hooks.afterPreactivation(y,{navigationId:E,appliedUrlTree:A,rawUrlTree:S,skipLocationChange:!!L,replaceUrl:!!B})}),(0,Ut.U)(f=>{const y=function wb(n,e,t){const r=id(n,e._root,t?t._root:void 0);return new Qp(r,e)}(this.routeReuseStrategy,f.targetSnapshot,f.currentRouterState);return Object.assign(Object.assign({},f),{targetRouterState:y})}),(0,qi.b)(f=>{this.currentUrlTree=f.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(f.urlAfterRedirects,f.rawUrl),this.routerState=f.targetRouterState,"deferred"===this.urlUpdateStrategy&&(f.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,f),this.browserUrlTree=f.urlAfterRedirects)}),((n,e,t)=>(0,Ut.U)(r=>(new Ab(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,f=>this.triggerEvent(f)),(0,qi.b)({next(){c=!0},complete(){c=!0}}),function wy(n){return(0,gs.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}(()=>{var f;c||d||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),(null===(f=this.currentNavigation)||void 0===f?void 0:f.id)===i.id&&(this.currentNavigation=null)}),za(f=>{if(d=!0,function ib(n){return n&&n[Dy]}(f)){const y=Lc(f.url);y||(this.navigated=!0,this.restoreHistory(i,!0));const E=new Y0(i.id,this.serializeUrl(i.extractedUrl),f.message);r.next(E),y?setTimeout(()=>{const A=this.urlHandlingStrategy.merge(f.url,this.rawUrlTree),S={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||r_(i.source)};this.scheduleNavigation(A,"imperative",null,S,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const y=new xT(i.id,this.serializeUrl(i.extractedUrl),f);r.next(y);try{i.resolve(this.errorHandler(f))}catch(E){i.reject(E)}}return uh.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var i;const c={replaceUrl:!0},d=(null===(i=t.state)||void 0===i?void 0:i.navigationId)?t.state:null;if(d){const y=Object.assign({},d);delete y.navigationId,delete y.\u0275routerPageId,0!==Object.keys(y).length&&(c.state=y)}const f=this.parseUrl(t.url);this.scheduleNavigation(f,r,d,c)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){og(t),this.config=t.map(By),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:c,fragment:d,queryParamsHandling:f,preserveFragment:y}=r,E=i||this.routerState.root,A=y?this.currentUrlTree.fragment:d;let S=null;switch(f){case"merge":S=Object.assign(Object.assign({},this.currentUrlTree.queryParams),c);break;case"preserve":S=this.currentUrlTree.queryParams;break;default:S=c||null}return null!==S&&(S=this.removeEmptyProps(S)),function z1(n,e,t,r,i){if(0===t.length)return Eb(e.root,e.root,e.root,r,i);const c=function W1(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new jT(!0,0,n);let e=0,t=!1;const r=n.reduce((i,c,d)=>{if("object"==typeof c&&null!=c){if(c.outlets){const f={};return Rr(c.outlets,(y,E)=>{f[E]="string"==typeof y?y.split("/"):y}),[...i,{outlets:f}]}if(c.segmentPath)return[...i,c.segmentPath]}return"string"!=typeof c?[...i,c]:0===d?(c.split("/").forEach((f,y)=>{0==y&&"."===f||(0==y&&""===f?t=!0:".."===f?e++:""!=f&&i.push(f))}),i):[...i,c]},[]);return new jT(t,e,r)}(t);if(c.toRoot())return Eb(e.root,e.root,new rn([],{}),r,i);const d=function K1(n,e,t){if(n.isAbsolute)return new Cb(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const c=t.snapshot._urlSegment;return new Cb(c,c===e.root,0)}const r=Uy(n.commands[0])?0:1;return function Y1(n,e,t){let r=n,i=e,c=t;for(;c>i;){if(c-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Cb(r,!1,i-c)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(c,e,n),f=d.processChildren?rg(d.segmentGroup,d.index,c.commands):ng(d.segmentGroup,d.index,c.commands);return Eb(e.root,d.segmentGroup,f,r,i)}(E,this.currentUrlTree,t,S,null!=A?A:null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Lc(t)?t:this.parseUrl(t),c=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(c,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function hI(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?Object.assign({},dI):!1===r?Object.assign({},n_):r,Lc(t))return ub(this.currentUrlTree,t,i);const c=this.parseUrl(t);return ub(this.currentUrlTree,c,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const c=t[i];return null!=c&&(r[i]=c),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new dh(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,c,d){var f,y;if(this.disposed)return Promise.resolve(!1);let E,A,S;d?(E=d.resolve,A=d.reject,S=d.promise):S=new Promise((G,fe)=>{E=G,A=fe});const L=++this.navigationId;let B;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),B=i&&i.\u0275routerPageId?i.\u0275routerPageId:c.replaceUrl||c.skipLocationChange?null!==(f=this.browserPageId)&&void 0!==f?f:0:(null!==(y=this.browserPageId)&&void 0!==y?y:0)+1):B=0,this.setTransition({id:L,targetPageId:B,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:c,resolve:E,reject:A,promise:S,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),S.catch(G=>Promise.reject(G))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),c=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",c):this.location.go(i,"",c)}restoreHistory(t,r=!1){var i,c;if("computed"===this.canceledNavigationResolution){const d=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===d?this.currentUrlTree===(null===(c=this.currentNavigation)||void 0===c?void 0:c.finalUrl)&&0===d&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(d)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const i=new Y0(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(i),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){a.$Z()},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();function r_(n){return"imperative"!==n}let go=(()=>{class n{constructor(t,r,i,c,d){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=c,this.el=d,this.commands=null,this.onChanges=new Or.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const r=this.renderer,i=this.el.nativeElement;null!==t?r.setAttribute(i,"tabindex",t):r.removeAttribute(i,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const t={skipLocationChange:ud(this.skipLocationChange),replaceUrl:ud(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:ud(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(ei),a.Y36(gh),a.$8M("tabindex"),a.Y36(a.Qsj),a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,r){1&t&&a.NdJ("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[a.TTD]}),n})(),Fu=(()=>{class n{constructor(t,r,i){this.router=t,this.route=r,this.locationStrategy=i,this.commands=null,this.href=null,this.onChanges=new Or.x,this.subscription=t.events.subscribe(c=>{c instanceof dh&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,i,c,d){if(0!==t||r||i||c||d||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const f={skipLocationChange:ud(this.skipLocationChange),replaceUrl:ud(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,f),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:ud(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(ei),a.Y36(gh),a.Y36(ge))},n.\u0275dir=a.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&a.NdJ("click",function(c){return r.onClick(c.button,c.ctrlKey,c.shiftKey,c.altKey,c.metaKey)}),2&t&&a.uIk("target",r.target)("href",r.href,a.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[a.TTD]}),n})();function ud(n){return""===n||!!n}class zb{}class Wb{preload(e,t){return At(null)}}let Kb=(()=>{class n{constructor(t,r,i,c){this.router=t,this.injector=i,this.preloadingStrategy=c,this.loader=new ad(i,r,y=>t.triggerEvent(new X0(y)),y=>t.triggerEvent(new eb(y)))}setUpPreloading(){this.subscription=this.router.events.pipe(Ai(t=>t instanceof dh),Mu(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(a.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const c of r)if(c.loadChildren&&!c.canLoad&&c._loadedConfig){const d=c._loadedConfig;i.push(this.processRoutes(d.module,d.routes))}else c.loadChildren&&!c.canLoad?i.push(this.preloadConfig(t,c)):c.children&&i.push(this.processRoutes(t,c.children));return(0,Mn.D)(i).pipe((0,Bp.J)(),(0,Ut.U)(c=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?At(r._loadedConfig):this.loader.load(t.injector,r)).pipe((0,Xr.z)(c=>(r._loadedConfig=c,this.processRoutes(c.module,c.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(ei),a.LFG(a.Sil),a.LFG(a.zs3),a.LFG(zb))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),Hs=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Ey?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof dh&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Iy&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new Iy(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){a.$Z()},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const Lu=new a.OlP("ROUTER_CONFIGURATION"),i_=new a.OlP("ROUTER_FORROOT_GUARD"),Qb=[Re,{provide:hb,useClass:fb},{provide:ei,useFactory:function X1(n,e,t,r,i,c,d={},f,y){const E=new ei(null,n,e,t,r,i,Sy(c));return f&&(E.urlHandlingStrategy=f),y&&(E.routeReuseStrategy=y),function Xb(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(d,E),d.enableTracing&&E.events.subscribe(A=>{var S,L;null===(S=console.group)||void 0===S||S.call(console,`Router Event: ${A.constructor.name}`),console.log(A.toString()),console.log(A),null===(L=console.groupEnd)||void 0===L||L.call(console)}),E},deps:[hb,vh,Re,a.zs3,a.Sil,Th,Lu,[class lI{},new a.FiY],[class J1{},new a.FiY]]},vh,{provide:gh,useFactory:function _I(n){return n.routerState.root},deps:[ei]},Kb,Wb,class pI{preload(e,t){return t().pipe(za(()=>At(null)))}},{provide:Lu,useValue:{enableTracing:!1}}];function Jb(){return new a.PXZ("Router",ei)}let s_=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[Qb,o_(t),{provide:i_,useFactory:yI,deps:[[ei,new a.FiY,new a.tp0]]},{provide:Lu,useValue:r||{}},{provide:ge,useFactory:mI,deps:[ae,[new a.tBr(Ze),new a.FiY],Lu]},{provide:Hs,useFactory:gI,deps:[ei,hu,Lu]},{provide:zb,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:Wb},{provide:a.PXZ,multi:!0,useFactory:Jb},[a_,{provide:a.ip1,multi:!0,useFactory:ex,deps:[a_]},{provide:gg,useFactory:tx,deps:[a_]},{provide:a.tb,multi:!0,useExisting:gg}]]}}static forChild(t){return{ngModule:n,providers:[o_(t)]}}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(i_,8),a.LFG(ei,8))},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();function gI(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new Hs(n,e,t)}function mI(n,e,t={}){return t.useHash?new Oe(n,e):new qe(n,e)}function yI(n){return"guarded"}function o_(n){return[{provide:a.deG,multi:!0,useValue:n},{provide:Th,multi:!0,useValue:n}]}let a_=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Or.x}appInitializer(){return this.injector.get(q,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(f=>r=f),c=this.injector.get(ei),d=this.injector.get(Lu);return"disabled"===d.initialNavigation?(c.setUpLocationChangeListener(),r(!0)):"enabled"===d.initialNavigation||"enabledBlocking"===d.initialNavigation?(c.hooks.afterPreactivation=()=>this.initNavigation?At(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),c.initialNavigation()):r(!0),i})}bootstrapListener(t){const r=this.injector.get(Lu),i=this.injector.get(Kb),c=this.injector.get(Hs),d=this.injector.get(ei),f=this.injector.get(a.z2F);t===f.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&d.initialNavigation(),i.setUpPreloading(),c.init(),d.resetRootComponentType(f.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(a.zs3))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();function ex(n){return n.appInitializer.bind(n)}function tx(n){return n.bootstrapListener.bind(n)}const gg=new a.OlP("Router Initializer");function ew(n,e){if(1&n){const t=a.EpF();a.ynx(0),a.TgZ(1,"a",14),a.NdJ("click",function(){return a.CHM(t),a.oxw().logout()}),a._uU(2," Cerrar sesi\xf3n "),a.qZA(),a.BQk()}}function nx(n,e){1&n&&(a.TgZ(0,"a",15),a._uU(1," Iniciar sesi\xf3n "),a.qZA())}let mo=(()=>{class n{constructor(t,r){this.userService=t,this.router=r}logout(){this.userService.logout().subscribe(()=>{this.router.navigate(["/iniciar-sesion"])})}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Ql),a.Y36(ei))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-navbar"]],decls:22,vars:4,consts:[["routerLink"," ",1,"navbar","navbar-expand-lg","navbar-light",2,"background-color","black"],[1,"container-fluid"],[1,"navbar-brand",2,"color","#ffffff"],["src","https://i.pinimg.com/originals/4a/2a/09/4a2a0961ed2f9e0efeaf9c74e0499942.jpg","alt","","width","80","height","60",1,"d-inline-block","align-text-top","img-fluid"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarScroll","aria-controls","navbarScroll","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarScroll",1,"collapse","navbar-collapse"],[1,"d-grid","gap-2","d-md-flex","justify-content-xl-end"],["routerLink","/home",1,"btn","btn-outline-secondary","rounded-pill","me-md-2"],["routerLink","/rutinas",1,"btn","btn-outline-secondary","rounded-pill","me-md-2"],["routerLink","/ejercicios",1,"btn","btn-outline-secondary","rounded-pill","me-md-2"],["routerLink","/blog",1,"btn","btn-outline-secondary","rounded-pill","me-md-2"],[4,"ngIf","ngIfElse"],["loginButton",""],[1,"btn","btn-outline-secondary","rounded-pill","me-md-2",3,"click"],["routerLink","/inicio-sesion",1,"btn","btn-outline-secondary","rounded-pill","me-md-2"]],template:function(t,r){if(1&t&&(a.TgZ(0,"nav",0)(1,"div",1)(2,"a",2),a._UZ(3,"img",3),a._uU(4," GymRoutine "),a.qZA(),a.TgZ(5,"button",4),a._UZ(6,"span",5),a.qZA(),a.TgZ(7,"div",6)(8,"div",7)(9,"a",8),a._uU(10," Home "),a.qZA(),a.TgZ(11,"a",9),a._uU(12," Rutinas "),a.qZA(),a.TgZ(13,"a",10),a._uU(14," Ejercicios "),a.qZA(),a.TgZ(15,"a",11),a._uU(16," Blog "),a.qZA(),a.YNc(17,ew,3,0,"ng-container",12),a.ALo(18,"async"),a.YNc(19,nx,2,0,"ng-template",null,13,a.W1O),a.qZA()()()(),a._UZ(21,"router-outlet")),2&t){const i=a.MAs(20);a.xp6(17),a.Q6J("ngIf",a.lcZ(18,2,r.userService.currentUser$))("ngIfElse",i)}},directives:[go,Fu,Gn,ta],pipes:[lu],styles:["a[_ngcontent-%COMP%]:hover{color:#000!important;background-color:#fd7d3d!important}.btn-outline-secondary[_ngcontent-%COMP%]{color:#fd7d3d!important;border-color:#ff9500;border-radius:5px}.btn-primary[_ngcontent-%COMP%]{background-color:#fd7d3d!important;border-color:#ff9500;color:#000}.mt[_ngcontent-%COMP%]{margin-top:50px!important}"]}),n})(),rx=(()=>{class n{constructor(){this.title="gym-routine",this.ejercicio=null,this.exercise={id_ej:null,categoria:null,nom_ejercicio:null,info:null,instrucciones:null,video:null,anotacion:null,rep:null,peso:null}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-root"]],decls:50,vars:0,consts:[[1,"container-fluid"],[1,"text-center","text-lg-start","text-muted"],[1,"row"],[1,"d-flex","justify-content-center","justify-content-lg-between","p-4","border-bottom"],[1,"me-5","d-none","d-lg-block"],["href","https://es-la.facebook.com/login/device-based/regular/login/",1,"me-4","text-reset"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-facebook"],["d","M16 8.049c0-4.446-3.582-8.05-8-8.05C3.58 0-.002 3.603-.002 8.05c0 4.017 2.926 7.347 6.75 7.951v-5.625h-2.03V8.05H6.75V6.275c0-2.017 1.195-3.131 3.022-3.131.876 0 1.791.157 1.791.157v1.98h-1.009c-.993 0-1.303.621-1.303 1.258v1.51h2.218l-.354 2.326H9.25V16c3.824-.604 6.75-3.934 6.75-7.951z"],["href","https://twitter.com/?lang=es",1,"me-4","text-reset"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-twitter"],["d","M5.026 15c6.038 0 9.341-5.003 9.341-9.334 0-.14 0-.282-.006-.422A6.685 6.685 0 0 0 16 3.542a6.658 6.658 0 0 1-1.889.518 3.301 3.301 0 0 0 1.447-1.817 6.533 6.533 0 0 1-2.087.793A3.286 3.286 0 0 0 7.875 6.03a9.325 9.325 0 0 1-6.767-3.429 3.289 3.289 0 0 0 1.018 4.382A3.323 3.323 0 0 1 .64 6.575v.045a3.288 3.288 0 0 0 2.632 3.218 3.203 3.203 0 0 1-.865.115 3.23 3.23 0 0 1-.614-.057 3.283 3.283 0 0 0 3.067 2.277A6.588 6.588 0 0 1 .78 13.58a6.32 6.32 0 0 1-.78-.045A9.344 9.344 0 0 0 5.026 15z"],["href","https://www.instagram.com/",1,"me-4","text-reset"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-instagram"],["d","M8 0C5.829 0 5.556.01 4.703.048 3.85.088 3.269.222 2.76.42a3.917 3.917 0 0 0-1.417.923A3.927 3.927 0 0 0 .42 2.76C.222 3.268.087 3.85.048 4.7.01 5.555 0 5.827 0 8.001c0 2.172.01 2.444.048 3.297.04.852.174 1.433.372 1.942.205.526.478.972.923 1.417.444.445.89.719 1.416.923.51.198 1.09.333 1.942.372C5.555 15.99 5.827 16 8 16s2.444-.01 3.298-.048c.851-.04 1.434-.174 1.943-.372a3.916 3.916 0 0 0 1.416-.923c.445-.445.718-.891.923-1.417.197-.509.332-1.09.372-1.942C15.99 10.445 16 10.173 16 8s-.01-2.445-.048-3.299c-.04-.851-.175-1.433-.372-1.941a3.926 3.926 0 0 0-.923-1.417A3.911 3.911 0 0 0 13.24.42c-.51-.198-1.092-.333-1.943-.372C10.443.01 10.172 0 7.998 0h.003zm-.717 1.442h.718c2.136 0 2.389.007 3.232.046.78.035 1.204.166 1.486.275.373.145.64.319.92.599.28.28.453.546.598.92.11.281.24.705.275 1.485.039.843.047 1.096.047 3.231s-.008 2.389-.047 3.232c-.035.78-.166 1.203-.275 1.485a2.47 2.47 0 0 1-.599.919c-.28.28-.546.453-.92.598-.28.11-.704.24-1.485.276-.843.038-1.096.047-3.232.047s-2.39-.009-3.233-.047c-.78-.036-1.203-.166-1.485-.276a2.478 2.478 0 0 1-.92-.598 2.48 2.48 0 0 1-.6-.92c-.109-.281-.24-.705-.275-1.485-.038-.843-.046-1.096-.046-3.233 0-2.136.008-2.388.046-3.231.036-.78.166-1.204.276-1.486.145-.373.319-.64.599-.92.28-.28.546-.453.92-.598.282-.11.705-.24 1.485-.276.738-.034 1.024-.044 2.515-.045v.002zm4.988 1.328a.96.96 0 1 0 0 1.92.96.96 0 0 0 0-1.92zm-4.27 1.122a4.109 4.109 0 1 0 0 8.217 4.109 4.109 0 0 0 0-8.217zm0 1.441a2.667 2.667 0 1 1 0 5.334 2.667 2.667 0 0 1 0-5.334z"],[1,""],[1,"container","text-center","text-md-start","mt-5"],[1,"row","mt-3"],[1,"col-md-3","col-lg-4","col-xl-3","mx-auto","mb-4"],[1,"text-uppercase","fw-bold","mb-4"],["src","https://i.pinimg.com/originals/9c/a0/b4/9ca0b412cacec815757fe1575a9cf8c6.jpg","alt","","width","80","height","65",1,"d-inline-block","img-fluid"],[1,"col-md-2","col-lg-2","col-xl-2","mx-auto","mb-4"],[1,"col-md-3","col-lg-2","col-xl-2","mx-auto","mb-0"],[1,"col-md-4","col-lg-3","col-xl-3","mx-auto","mb-md-0","mb-4"],[1,"fas","fa-home","me-3"],[1,"fas","fa-envelope","me-3"],[1,"fas","fa-phone","me-3"],[1,"text-center","p-4",2,"background-color","rgba(0, 0, 0, 0.05)"],["href"," ",1,"text-reset","fw-bold"]],template:function(t,r){1&t&&(a._UZ(0,"app-navbar"),a.TgZ(1,"div",0)(2,"footer",1)(3,"div",2)(4,"section",3)(5,"div",4),a._UZ(6,"br"),a.TgZ(7,"span"),a._uU(8,"Get connected with us on social networks:"),a.qZA()(),a.TgZ(9,"div")(10,"a",5),a.O4$(),a.TgZ(11,"svg",6),a._UZ(12,"path",7),a.qZA()(),a.kcU(),a.TgZ(13,"a",8),a.O4$(),a.TgZ(14,"svg",9),a._UZ(15,"path",10),a.qZA()(),a.kcU(),a.TgZ(16,"a",11),a.O4$(),a.TgZ(17,"svg",12),a._UZ(18,"path",13),a.qZA()()()()(),a.kcU(),a.TgZ(19,"section",14)(20,"div",15)(21,"div",16)(22,"div",17)(23,"h6",18),a._UZ(24,"br")(25,"br")(26,"img",19),a.qZA()(),a.TgZ(27,"div",20)(28,"h4",18),a._uU(29," T\xe9rminos y condiciones "),a.qZA()(),a.TgZ(30,"div",21)(31,"h4",18),a._uU(32," Polit\xedca de privacidad "),a.qZA()(),a.TgZ(33,"div",22)(34,"h4",18),a._uU(35," Contacto "),a.qZA(),a.TgZ(36,"p"),a._UZ(37,"i",23),a._uU(38," Guadalajara, Jal 10012, MX"),a.qZA(),a.TgZ(39,"p"),a._UZ(40,"i",24),a._uU(41," gymroutine@healthy.com "),a.qZA(),a.TgZ(42,"p"),a._UZ(43,"i",25),a._uU(44," + 33 23 89 75 05"),a.qZA()()()()(),a.TgZ(45,"div",26),a._uU(46," \xa9 2022 Copyright: "),a.TgZ(47,"a",27),a._uU(48,"gymroutine.com"),a.qZA()()()(),a._UZ(49,"router-outlet"))},directives:[mo,ta],styles:["body[_ngcontent-%COMP%], .container-fluid[_ngcontent-%COMP%]{background-color:#333}","a[_ngcontent-%COMP%]:hover{\ncolor: rgb(0, 0, 0) !important;\nbackground-color: #fd7d3d !important;\n}\n.btn-outline-secondary[_ngcontent-%COMP%]{\n  color: #fd7d3d!important;\n  border-color: rgb(255, 149, 0);\n  border-radius: 5px;\n}\n.btn-primary[_ngcontent-%COMP%]{\n  background-color: #fd7d3d!important;\n  border-color: rgb(255, 149, 0);\n  color: #000000;\n}\n.mt[_ngcontent-%COMP%] {\n  margin-top: 50px !important;\n}\n\n.card[_ngcontent-%COMP%]{\n  background-color: #333333;\n  border-color: #333333;\n}\n.reg[_ngcontent-%COMP%]{\n  color:#ffffff;\n}\n\n.foot-letter[_ngcontent-%COMP%]{\n  color:#f8f8f8;\n}\n.container-fluid[_ngcontent-%COMP%] {\n    background-color: #333333;\n    height: 80vh;\n    font-family: Arial, sans-serif;\n    font-style: oblique;\n}"]}),n})();class wI{}class u_{}class na{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),c=i.toLowerCase(),d=t.slice(r+1).trim();this.maybeSetNormalizedName(i,c),this.headers.has(c)?this.headers.get(c).push(d):this.headers.set(c,[d])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const i=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(t,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof na?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new na;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof na?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const c=e.value;if(c){let d=this.headers.get(t);if(!d)return;d=d.filter(f=>-1===c.indexOf(f)),0===d.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,d)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class tw{encodeKey(e){return mg(e)}encodeValue(e){return mg(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const ix=/%(\d[a-f0-9])/gi,nw={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function mg(n){return encodeURIComponent(n).replace(ix,(e,t)=>{var r;return null!==(r=nw[t])&&void 0!==r?r:e})}function rw(n){return`${n}`}class ra{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new tw,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function EI(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const c=i.indexOf("="),[d,f]=-1==c?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,c)),e.decodeValue(i.slice(c+1))],y=t.get(d)||[];y.push(f),t.set(d,y)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t];this.map.set(t,Array.isArray(r)?r:[r])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(c=>{t.push({param:r,value:c,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new ra({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(rw(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(rw(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class CI{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function iw(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function sw(n){return"undefined"!=typeof Blob&&n instanceof Blob}function ow(n){return"undefined"!=typeof FormData&&n instanceof FormData}class ia{constructor(e,t,r,i){let c;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function TI(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,c=i):c=r,c&&(this.reportProgress=!!c.reportProgress,this.withCredentials=!!c.withCredentials,c.responseType&&(this.responseType=c.responseType),c.headers&&(this.headers=c.headers),c.context&&(this.context=c.context),c.params&&(this.params=c.params)),this.headers||(this.headers=new na),this.context||(this.context=new CI),this.params){const d=this.params.toString();if(0===d.length)this.urlWithParams=t;else{const f=t.indexOf("?");this.urlWithParams=t+(-1===f?"?":f<t.length-1?"&":"")+d}}else this.params=new ra,this.urlWithParams=t}serializeBody(){return null===this.body?null:iw(this.body)||sw(this.body)||ow(this.body)||function yg(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof ra?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||ow(this.body)?null:sw(this.body)?this.body.type||null:iw(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ra?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var t;const r=e.method||this.method,i=e.url||this.url,c=e.responseType||this.responseType,d=void 0!==e.body?e.body:this.body,f=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,y=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let E=e.headers||this.headers,A=e.params||this.params;const S=null!==(t=e.context)&&void 0!==t?t:this.context;return void 0!==e.setHeaders&&(E=Object.keys(e.setHeaders).reduce((L,B)=>L.set(B,e.setHeaders[B]),E)),e.setParams&&(A=Object.keys(e.setParams).reduce((L,B)=>L.set(B,e.setParams[B]),A)),new ia(r,i,d,{params:A,headers:E,context:S,reportProgress:y,responseType:c,withCredentials:f})}}var vr=(()=>((vr=vr||{})[vr.Sent=0]="Sent",vr[vr.UploadProgress=1]="UploadProgress",vr[vr.ResponseHeader=2]="ResponseHeader",vr[vr.DownloadProgress=3]="DownloadProgress",vr[vr.Response=4]="Response",vr[vr.User=5]="User",vr))();class Uc{constructor(e,t=200,r="OK"){this.headers=e.headers||new na,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class c_ extends Uc{constructor(e={}){super(e),this.type=vr.ResponseHeader}clone(e={}){return new c_({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class _g extends Uc{constructor(e={}){super(e),this.type=vr.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new _g({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class vg extends Uc{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function $s(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let Ih=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let c;if(t instanceof ia)c=t;else{let y,E;y=i.headers instanceof na?i.headers:new na(i.headers),i.params&&(E=i.params instanceof ra?i.params:new ra({fromObject:i.params})),c=new ia(t,r,void 0!==i.body?i.body:null,{headers:y,context:i.context,params:E,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const d=At(c).pipe(Mu(y=>this.handler.handle(y)));if(t instanceof ia||"events"===i.observe)return d;const f=d.pipe(Ai(y=>y instanceof _g));switch(i.observe||"body"){case"body":switch(c.responseType){case"arraybuffer":return f.pipe((0,Ut.U)(y=>{if(null!==y.body&&!(y.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return y.body}));case"blob":return f.pipe((0,Ut.U)(y=>{if(null!==y.body&&!(y.body instanceof Blob))throw new Error("Response is not a Blob.");return y.body}));case"text":return f.pipe((0,Ut.U)(y=>{if(null!==y.body&&"string"!=typeof y.body)throw new Error("Response is not a string.");return y.body}));default:return f.pipe((0,Ut.U)(y=>y.body))}case"response":return f;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new ra).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,$s(i,r))}post(t,r,i={}){return this.request("POST",t,$s(i,r))}put(t,r,i={}){return this.request("PUT",t,$s(i,r))}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(wI))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class ti{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const Uu=new a.OlP("HTTP_INTERCEPTORS");let bg=(()=>{class n{intercept(t,r){return r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const ld=/^\)\]\}',?\n/;let Vc=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Ii.y(r=>{const i=this.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach((B,G)=>i.setRequestHeader(B,G.join(","))),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const B=t.detectContentTypeHeader();null!==B&&i.setRequestHeader("Content-Type",B)}if(t.responseType){const B=t.responseType.toLowerCase();i.responseType="json"!==B?B:"text"}const c=t.serializeBody();let d=null;const f=()=>{if(null!==d)return d;const B=i.statusText||"OK",G=new na(i.getAllResponseHeaders()),fe=function dd(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(i)||t.url;return d=new c_({headers:G,status:i.status,statusText:B,url:fe}),d},y=()=>{let{headers:B,status:G,statusText:fe,url:Ve}=f(),nt=null;204!==G&&(nt=void 0===i.response?i.responseText:i.response),0===G&&(G=nt?200:0);let pt=G>=200&&G<300;if("json"===t.responseType&&"string"==typeof nt){const bt=nt;nt=nt.replace(ld,"");try{nt=""!==nt?JSON.parse(nt):null}catch(lt){nt=bt,pt&&(pt=!1,nt={error:lt,text:nt})}}pt?(r.next(new _g({body:nt,headers:B,status:G,statusText:fe,url:Ve||void 0})),r.complete()):r.error(new vg({error:nt,headers:B,status:G,statusText:fe,url:Ve||void 0}))},E=B=>{const{url:G}=f(),fe=new vg({error:B,status:i.status||0,statusText:i.statusText||"Unknown Error",url:G||void 0});r.error(fe)};let A=!1;const S=B=>{A||(r.next(f()),A=!0);let G={type:vr.DownloadProgress,loaded:B.loaded};B.lengthComputable&&(G.total=B.total),"text"===t.responseType&&!!i.responseText&&(G.partialText=i.responseText),r.next(G)},L=B=>{let G={type:vr.UploadProgress,loaded:B.loaded};B.lengthComputable&&(G.total=B.total),r.next(G)};return i.addEventListener("load",y),i.addEventListener("error",E),i.addEventListener("timeout",E),i.addEventListener("abort",E),t.reportProgress&&(i.addEventListener("progress",S),null!==c&&i.upload&&i.upload.addEventListener("progress",L)),i.send(c),r.next({type:vr.Sent}),()=>{i.removeEventListener("error",E),i.removeEventListener("abort",E),i.removeEventListener("load",y),i.removeEventListener("timeout",E),t.reportProgress&&(i.removeEventListener("progress",S),null!==c&&i.upload&&i.upload.removeEventListener("progress",L)),i.readyState!==i.DONE&&i.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(vn))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const wg=new a.OlP("XSRF_COOKIE_NAME"),Eg=new a.OlP("XSRF_HEADER_NAME");class l_{}let uw=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=zs(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(de),a.LFG(a.Lbi),a.LFG(wg))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),Cg=(()=>{class n{constructor(t,r){this.tokenService=t,this.headerName=r}intercept(t,r){const i=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||i.startsWith("http://")||i.startsWith("https://"))return r.handle(t);const c=this.tokenService.getToken();return null!==c&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,c)})),r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(l_),a.LFG(Eg))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),cw=(()=>{class n{constructor(t,r){this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=this.injector.get(Uu,[]);this.chain=r.reduceRight((i,c)=>new ti(i,c),this.backend)}return this.chain.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(u_),a.LFG(a.zs3))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),lw=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:Cg,useClass:bg}]}}static withOptions(t={}){return{ngModule:n,providers:[t.cookieName?{provide:wg,useValue:t.cookieName}:[],t.headerName?{provide:Eg,useValue:t.headerName}:[]]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[Cg,{provide:Uu,useExisting:Cg,multi:!0},{provide:l_,useClass:uw},{provide:wg,useValue:"XSRF-TOKEN"},{provide:Eg,useValue:"X-XSRF-TOKEN"}]}),n})(),AI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[Ih,{provide:wI,useClass:cw},Vc,{provide:u_,useExisting:Vc}],imports:[[lw.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})(),d_=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.Qsj),a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n}),n})(),Bc=(()=>{class n extends d_{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=a.n5z(n)))(r||n)}}(),n.\u0275dir=a.lG2({type:n,features:[a.qOj]}),n})();const sa=new a.OlP("NgValueAccessor"),pw={provide:sa,useExisting:(0,a.Gpc)(()=>Rh),multi:!0},MI=new a.OlP("CompositionEventMode");let Rh=(()=>{class n extends d_{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function xI(){const n=R()?R().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.Qsj),a.Y36(a.SBq),a.Y36(MI,8))},n.\u0275dir=a.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&a.NdJ("input",function(c){return r._handleInput(c.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(c){return r._compositionEnd(c.target.value)})},features:[a._Bn([pw]),a.qOj]}),n})();function Vu(n){return null==n||0===n.length}function Tg(n){return null!=n&&"number"==typeof n.length}const jr=new a.OlP("NgValidators"),Bu=new a.OlP("NgAsyncValidators"),ax=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class vs{static min(e){return OI(e)}static max(e){return gw(e)}static required(e){return h_(e)}static requiredTrue(e){return function RI(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function mw(n){return Vu(n.value)||ax.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function jc(n){return e=>Vu(e.value)||!Tg(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function yw(n){return e=>Tg(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function f_(n){if(!n)return Ig;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Vu(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return bw(e)}static composeAsync(e){return ww(e)}}function OI(n){return e=>{if(Vu(e.value)||Vu(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function gw(n){return e=>{if(Vu(e.value)||Vu(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function h_(n){return Vu(n.value)?{required:!0}:null}function Ig(n){return null}function p_(n){return null!=n}function Ph(n){const e=(0,a.QGY)(n)?(0,Mn.D)(n):n;return(0,a.CqO)(e),e}function _w(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function g_(n,e){return e.map(t=>t(n))}function vw(n){return n.map(e=>function PI(n){return!n.validate}(e)?e:t=>e.validate(t))}function bw(n){if(!n)return null;const e=n.filter(p_);return 0==e.length?null:function(t){return _w(g_(t,e))}}function m_(n){return null!=n?bw(vw(n)):null}function ww(n){if(!n)return null;const e=n.filter(p_);return 0==e.length?null:function(t){return function dw(...n){const e=(0,Jl.jO)(n),{args:t,keys:r}=q0(n),i=new Ii.y(c=>{const{length:d}=t;if(!d)return void c.complete();const f=new Array(d);let y=d,E=d;for(let A=0;A<d;A++){let S=!1;(0,Yl.Xf)(t[A]).subscribe((0,di.x)(c,L=>{S||(S=!0,E--),f[A]=L},()=>y--,void 0,()=>{(!y||!S)&&(E||c.next(r?G0(r,f):f),c.complete())}))}});return e?i.pipe(Z0(e)):i}(g_(t,e).map(Ph)).pipe((0,Ut.U)(_w))}}function Dg(n){return null!=n?ww(vw(n)):null}function Ew(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function y_(n){return n._rawValidators}function __(n){return n._rawAsyncValidators}function Nh(n){return n?Array.isArray(n)?n:[n]:[]}function v_(n,e){return Array.isArray(n)?n.includes(e):n===e}function Ag(n,e){const t=Nh(e);return Nh(n).forEach(i=>{v_(t,i)||t.push(i)}),t}function Cw(n,e){return Nh(e).filter(t=>!v_(n,t))}class NI{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=m_(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Dg(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class qs extends NI{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class fi extends NI{get formDirective(){return null}get path(){return null}}class Sg{constructor(e){this._cd=e}is(e){var t,r,i;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(i=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===i?void 0:i[e])}}let Hc=(()=>{class n extends Sg{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(qs,2))},n.\u0275dir=a.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&a.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[a.qOj]}),n})(),Xa=(()=>{class n extends Sg{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(fi,10))},n.\u0275dir=a.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&a.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[a.qOj]}),n})();function Lh(n,e){Bh(n,e),e.valueAccessor.writeValue(n.value),function Rw(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&C_(n,e)})}(n,e),function Nw(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function Pw(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&C_(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function E_(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Uh(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),jh(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Vh(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Bh(n,e){const t=y_(n);null!==e.validator?n.setValidators(Ew(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=__(n);null!==e.asyncValidator?n.setAsyncValidators(Ew(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();Vh(e._rawValidators,i),Vh(e._rawAsyncValidators,i)}function jh(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=y_(n);if(Array.isArray(i)&&i.length>0){const c=i.filter(d=>d!==e.validator);c.length!==i.length&&(t=!0,n.setValidators(c))}}if(null!==e.asyncValidator){const i=__(n);if(Array.isArray(i)&&i.length>0){const c=i.filter(d=>d!==e.asyncValidator);c.length!==i.length&&(t=!0,n.setAsyncValidators(c))}}}const r=()=>{};return Vh(e._rawValidators,r),Vh(e._rawAsyncValidators,r),t}function C_(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function T_(n,e){Bh(n,e)}function br(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function I_(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const Hh="VALID",$h="INVALID",$c="PENDING",oa="DISABLED";function D_(n){return(M_(n)?n.validators:n)||null}function A_(n){return Array.isArray(n)?m_(n):n||null}function S_(n,e){return(M_(e)?e.asyncValidators:n)||null}function x_(n){return Array.isArray(n)?Dg(n):n||null}function M_(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const qh=n=>n instanceof Pr,fd=n=>n instanceof qc,_o=n=>n instanceof R_;function Lw(n){return qh(n)?n.value:n.getRawValue()}function O_(n,e){const t=fd(n),r=n.controls;if(!(t?Object.keys(r):r).length)throw new a.vHH(1e3,"");if(!r[e])throw new a.vHH(1001,"")}function vo(n,e){fd(n),n._forEachChild((r,i)=>{if(void 0===e[i])throw new a.vHH(1002,"")})}class bs{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=A_(this._rawValidators),this._composedAsyncValidatorFn=x_(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Hh}get invalid(){return this.status===$h}get pending(){return this.status==$c}get disabled(){return this.status===oa}get enabled(){return this.status!==oa}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=A_(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=x_(e)}addValidators(e){this.setValidators(Ag(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Ag(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Cw(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Cw(e,this._rawAsyncValidators))}hasValidator(e){return v_(this._rawValidators,e)}hasAsyncValidator(e){return v_(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=$c,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=oa,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Hh,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Hh||this.status===$c)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?oa:Hh}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=$c,this._hasOwnPendingAsyncValidator=!0;const t=Ph(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function jI(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(i=>{r=fd(r)?r.controls.hasOwnProperty(i)?r.controls[i]:null:_o(r)&&r.at(i)||null}),r}(this,e,".")}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new a.vpe,this.statusChanges=new a.vpe}_calculateStatus(){return this._allControlsDisabled()?oa:this.errors?$h:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus($c)?$c:this._anyControlsHaveStatus($h)?$h:Hh}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){M_(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Pr extends bs{constructor(e=null,t,r){super(D_(t),S_(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),M_(t)&&t.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){I_(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){I_(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class qc extends bs{constructor(e,t,r){super(D_(t),S_(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){vo(this,e),Object.keys(e).forEach(r=>{O_(this,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=Lw(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,c)=>{r=t(r,i,c)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class R_ extends bs{constructor(e,t,r){super(D_(t),S_(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){vo(this,e),e.forEach((r,i)=>{O_(this,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>Lw(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const HI={provide:fi,useExisting:(0,a.Gpc)(()=>Gh)},Zh=(()=>Promise.resolve(null))();let Gh=(()=>{class n extends fi{constructor(t,r){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new a.vpe,this.form=new qc({},m_(t),Dg(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Zh.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),Lh(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Zh.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Zh.then(()=>{const r=this._findContainer(t.path),i=new qc({});T_(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Zh.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Zh.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,br(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(jr,10),a.Y36(Bu,10))},n.\u0275dir=a.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&a.NdJ("submit",function(c){return r.onSubmit(c)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[a._Bn([HI]),a.qOj]}),n})(),Zc=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=a.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const Hw={provide:sa,useExisting:(0,a.Gpc)(()=>Wh),multi:!0};let Wh=(()=>{class n extends Bc{writeValue(t){this.setProperty("value",null==t?"":t)}registerOnChange(t){this.onChange=r=>{t(""==r?null:parseFloat(r))}}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=a.n5z(n)))(r||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,r){1&t&&a.NdJ("input",function(c){return r.onChange(c.target.value)})("blur",function(){return r.onTouched()})},features:[a._Bn([Hw]),a.qOj]}),n})(),N_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();const kg=new a.OlP("NgModelWithFormControlWarning"),GI={provide:fi,useExisting:(0,a.Gpc)(()=>pd)};let pd=(()=>{class n extends fi{constructor(t,r){super(),this.validators=t,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new a.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(jh(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return Lh(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){Uh(t.control||null,t,!1),I_(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,br(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(Uh(r||null,t),qh(i)&&(Lh(i,t),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);T_(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function kw(n,e){return jh(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Bh(this.form,this),this._oldForm&&jh(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(jr,10),a.Y36(Bu,10))},n.\u0275dir=a.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&a.NdJ("submit",function(c){return r.onSubmit(c)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[a._Bn([GI]),a.qOj,a.TTD]}),n})();const KI={provide:qs,useExisting:(0,a.Gpc)(()=>Kh)};let Kh=(()=>{class n extends qs{constructor(t,r,i,c,d){super(),this._ngModelWarningConfig=d,this._added=!1,this.update=new a.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function Og(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(c=>{c.constructor===Rh?t=c:function BI(n){return Object.getPrototypeOf(n.constructor)===Bc}(c)?r=c:i=c}),i||r||t||null}(0,c)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function Mg(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function Fh(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(a.Y36(fi,13),a.Y36(jr,10),a.Y36(Bu,10),a.Y36(sa,10),a.Y36(kg,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[a._Bn([KI]),a.qOj,a.TTD]}),n})();function j_(n){return"number"==typeof n?n:parseFloat(n)}let ju=(()=>{class n{constructor(){this._validator=Ig}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Ig,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=a.lG2({type:n,features:[a.TTD]}),n})();const Jw={provide:jr,useExisting:(0,a.Gpc)(()=>Lg),multi:!0};let Lg=(()=>{class n extends ju{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=t=>j_(t),this.createValidator=t=>gw(t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=a.n5z(n)))(r||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&a.uIk("max",r._enabled?r.max:null)},inputs:{max:"max"},features:[a._Bn([Jw]),a.qOj]}),n})();const Xw={provide:jr,useExisting:(0,a.Gpc)(()=>Yh),multi:!0};let Yh=(()=>{class n extends ju{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=t=>j_(t),this.createValidator=t=>OI(t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=a.n5z(n)))(r||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&a.uIk("min",r._enabled?r.min:null)},inputs:{min:"min"},features:[a._Bn([Xw]),a.qOj]}),n})();const Gc={provide:jr,useExisting:(0,a.Gpc)(()=>Ug),multi:!0};let Ug=(()=>{class n extends ju{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=t=>function Qw(n){return null!=n&&!1!==n&&"false"!=`${n}`}(t),this.createValidator=t=>h_}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=a.n5z(n)))(r||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){2&t&&a.uIk("required",r._enabled?"":null)},inputs:{required:"required"},features:[a._Bn([Gc]),a.qOj]}),n})(),nE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[N_]]}),n})(),Bg=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[nE]}),n})(),Qh=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:kg,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[nE]}),n})(),yx=(()=>{class n{group(t,r=null){const i=this._reduceControls(t);let f,c=null,d=null;return null!=r&&(function nr(n){return void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn}(r)?(c=null!=r.validators?r.validators:null,d=null!=r.asyncValidators?r.asyncValidators:null,f=null!=r.updateOn?r.updateOn:void 0):(c=null!=r.validator?r.validator:null,d=null!=r.asyncValidator?r.asyncValidator:null)),new qc(i,{asyncValidators:d,updateOn:f,validators:c})}control(t,r,i){return new Pr(t,r,i)}array(t,r,i){const c=t.map(d=>this._createControl(d));return new R_(c,r,i)}_reduceControls(t){const r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){return qh(t)||fd(t)||_o(t)?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:Qh}),n})();var bo=P(2011),sD=P(4986);function jg(){return(0,gs.e)((n,e)=>{let t,r=!1;n.subscribe((0,di.x)(e,i=>{const c=t;t=i,r&&e.next([c,i]),r=!0}))})}function iE(n,e){return n===e}P(5881);var rt,aD=P(3942),uD="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},eu={},q_=q_||{},kt=uD||self;function Hg(){}function gd(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function md(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var $g="closure_uid_"+(1e9*Math.random()>>>0),cD=0;function Jh(n,e,t){return n.call.apply(n.bind,arguments)}function Xh(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function ni(n,e,t){return(ni=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Jh:Xh).apply(null,arguments)}function qg(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function ri(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,i,c){for(var d=Array(arguments.length-2),f=2;f<arguments.length;f++)d[f-2]=arguments[f];return e.prototype[i].apply(r,d)}}function tu(){this.s=this.s,this.o=this.o}var aE={};tu.prototype.s=!1,tu.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function sE(n){return Object.prototype.hasOwnProperty.call(n,$g)&&n[$g]||(n[$g]=++cD)}(this);delete aE[n]}},tu.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const uE=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},Z_=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,i="string"==typeof n?n.split(""):n;for(let c=0;c<r;c++)c in i&&e.call(t,i[c],c,n)};function cE(n){return Array.prototype.concat.apply([],arguments)}function lE(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function G_(n){return/^[\s\xa0]*$/.test(n)}var Hr,dD=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function zi(n,e){return-1!=n.indexOf(e)}function Zg(n,e){return n<e?-1:n>e?1:0}e:{var dE=kt.navigator;if(dE){var hE=dE.userAgent;if(hE){Hr=hE;break e}}Hr=""}function Gg(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function yd(n){const e={};for(const t in n)e[t]=n[t];return e}var fE="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function pE(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let c=0;c<fE.length;c++)t=fE[c],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function z_(n){return z_[" "](n),n}z_[" "]=Hg;var zg,n,fD=zi(Hr,"Opera"),Wc=zi(Hr,"Trident")||zi(Hr,"MSIE"),gE=zi(Hr,"Edge"),W_=gE||Wc,Kc=zi(Hr,"Gecko")&&!(zi(Hr.toLowerCase(),"webkit")&&!zi(Hr,"Edge"))&&!(zi(Hr,"Trident")||zi(Hr,"MSIE"))&&!zi(Hr,"Edge"),pD=zi(Hr.toLowerCase(),"webkit")&&!zi(Hr,"Edge");function K_(){var n=kt.document;return n?n.documentMode:void 0}e:{var Wg="",Y_=(n=Hr,Kc?/rv:([^\);]+)(\)|;)/.exec(n):gE?/Edge\/([\d\.]+)/.exec(n):Wc?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):pD?/WebKit\/(\S+)/.exec(n):fD?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Y_&&(Wg=Y_?Y_[1]:""),Wc){var Kg=K_();if(null!=Kg&&Kg>parseFloat(Wg)){zg=String(Kg);break e}}zg=Wg}var gD={};var mE=kt.document&&Wc&&(K_()||parseInt(zg,10))||void 0,mD=function(){if(!kt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{kt.addEventListener("test",Hg,e),kt.removeEventListener("test",Hg,e)}catch(t){}return n}();function pi(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function ef(n,e){if(pi.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(Kc){e:{try{z_(e.nodeName);var i=!0;break e}catch(c){}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:ev[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&ef.Z.h.call(this)}}pi.prototype.h=function(){this.defaultPrevented=!0},ri(ef,pi);var ev={2:"touch",3:"pen",4:"mouse"};ef.prototype.h=function(){ef.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var tf="closure_listenable_"+(1e6*Math.random()|0),yE=0;function yD(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=i,this.key=++yE,this.ca=this.fa=!1}function Yg(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function Qg(n){this.src=n,this.g={},this.h=0}function tv(n,e){var t=e.type;if(t in n.g){var c,r=n.g[t],i=uE(r,e);(c=0<=i)&&Array.prototype.splice.call(r,i,1),c&&(Yg(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function nv(n,e,t,r){for(var i=0;i<n.length;++i){var c=n[i];if(!c.ca&&c.listener==e&&c.capture==!!t&&c.ia==r)return i}return-1}Qg.prototype.add=function(n,e,t,r,i){var c=n.toString();(n=this.g[c])||(n=this.g[c]=[],this.h++);var d=nv(n,e,r,i);return-1<d?(e=n[d],t||(e.fa=!1)):((e=new yD(e,this.src,c,!!r,i)).fa=t,n.push(e)),e};var rv="closure_lm_"+(1e6*Math.random()|0),iv={};function _E(n,e,t,r,i){if(r&&r.once)return bE(n,e,t,r,i);if(Array.isArray(e)){for(var c=0;c<e.length;c++)_E(n,e[c],t,r,i);return null}return t=rf(t),n&&n[tf]?n.N(e,t,md(r)?!!r.capture:!!r,i):sv(n,e,t,!1,r,i)}function sv(n,e,t,r,i,c){if(!e)throw Error("Invalid event type");var d=md(i)?!!i.capture:!!i,f=ov(n);if(f||(n[rv]=f=new Qg(n)),(t=f.add(e,t,r,d,c)).proxy)return t;if(r=function vE(){var e=_D;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)mD||(i=d),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(EE(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function bE(n,e,t,r,i){if(Array.isArray(e)){for(var c=0;c<e.length;c++)bE(n,e[c],t,r,i);return null}return t=rf(t),n&&n[tf]?n.O(e,t,md(r)?!!r.capture:!!r,i):sv(n,e,t,!0,r,i)}function wE(n,e,t,r,i){if(Array.isArray(e))for(var c=0;c<e.length;c++)wE(n,e[c],t,r,i);else r=md(r)?!!r.capture:!!r,t=rf(t),n&&n[tf]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=nv(c=n.g[e],t,r,i))&&(Yg(c[t]),Array.prototype.splice.call(c,t,1),0==c.length&&(delete n.g[e],n.h--))):n&&(n=ov(n))&&(e=n.g[e.toString()],n=-1,e&&(n=nv(e,t,r,i)),(t=-1<n?e[n]:null)&&Jg(t))}function Jg(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[tf])tv(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(EE(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=ov(e))?(tv(t,n),0==t.h&&(t.src=null,e[rv]=null)):Yg(n)}}}function EE(n){return n in iv?iv[n]:iv[n]="on"+n}function _D(n,e){if(n.ca)n=!0;else{e=new ef(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&Jg(n),n=t.call(r,e)}return n}function ov(n){return(n=n[rv])instanceof Qg?n:null}var nf="__closure_events_fn_"+(1e9*Math.random()>>>0);function rf(n){return"function"==typeof n?n:(n[nf]||(n[nf]=function(e){return n.handleEvent(e)}),n[nf])}function Nr(){tu.call(this),this.i=new Qg(this),this.P=this,this.I=null}function kr(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new pi(e,n);else if(e instanceof pi)e.target=e.target||n;else{var i=e;pE(e=new pi(r,n),i)}if(i=!0,t)for(var c=t.length-1;0<=c;c--){var d=e.g=t[c];i=Xg(d,r,!0,e)&&i}if(i=Xg(d=e.g=n,r,!0,e)&&i,i=Xg(d,r,!1,e)&&i,t)for(c=0;c<t.length;c++)i=Xg(d=e.g=t[c],r,!1,e)&&i}function Xg(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,c=0;c<e.length;++c){var d=e[c];if(d&&!d.ca&&d.capture==t){var f=d.listener,y=d.ia||d.src;d.fa&&tv(n.i,d),i=!1!==f.call(y,r)&&i}}return i&&!r.defaultPrevented}ri(Nr,tu),Nr.prototype[tf]=!0,Nr.prototype.removeEventListener=function(n,e,t,r){wE(this,n,e,t,r)},Nr.prototype.M=function(){if(Nr.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Yg(t[r]);delete n.g[e],n.h--}}this.I=null},Nr.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Nr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var av=kt.JSON.stringify;function uv(){var n=sf;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var em,cv=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new bD,n=>n.reset());class bD{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function CE(n){kt.setTimeout(()=>{throw n},0)}function lv(n,e){em||function _x(){var n=kt.Promise.resolve(void 0);em=function(){n.then(wD)}}(),dv||(em(),dv=!0),sf.add(n,e)}var dv=!1,sf=new class vD{constructor(){this.h=this.g=null}add(e,t){const r=cv.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function wD(){for(var n;n=uv();){try{n.h.call(n.g)}catch(t){CE(t)}var e=cv;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}dv=!1}function nu(n,e){Nr.call(this),this.h=n||1,this.g=e||kt,this.j=ni(this.kb,this),this.l=Date.now()}function Yc(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function hv(n,e,t){if("function"==typeof n)t&&(n=ni(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=ni(n.handleEvent,n)}return 2147483647<Number(e)?-1:kt.setTimeout(n,e||0)}function ED(n){n.g=hv(()=>{n.g=null,n.i&&(n.i=!1,ED(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}ri(nu,Nr),(rt=nu.prototype).da=!1,rt.S=null,rt.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),kr(this,"tick"),this.da&&(Yc(this),this.start()))}},rt.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},rt.M=function(){nu.Z.M.call(this),Yc(this),delete this.g};class TE extends tu{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:ED(this)}M(){super.M(),this.g&&(kt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function af(n){tu.call(this),this.h=n,this.g={}}ri(af,tu);var IE=[];function DE(n,e,t,r){Array.isArray(t)||(t&&(IE[0]=t.toString()),t=IE);for(var i=0;i<t.length;i++){var c=_E(e,t[i],r||n.handleEvent,!1,n.h||n);if(!c)break;n.g[c.key]=c}}function AE(n){Gg(n.g,function(e,t){this.g.hasOwnProperty(t)&&Jg(e)},n),n.g={}}function uf(){this.g=!0}function ru(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function CD(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var c=i[0];if("noop"!=c&&"stop"!=c&&"close"!=c)for(var d=1;d<i.length;d++)i[d]=""}}}return av(t)}catch(f){return e}}(n,t)+(r?" "+r:"")})}af.prototype.M=function(){af.Z.M.call(this),AE(this)},af.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},uf.prototype.Aa=function(){this.g=!1},uf.prototype.info=function(){};var Hu={},pv=null;function tm(){return pv=pv||new Nr}function xE(n){pi.call(this,Hu.Ma,n)}function Qc(n){const e=tm();kr(e,new xE(e,n))}function ME(n,e){pi.call(this,Hu.STAT_EVENT,n),this.stat=e}function Wi(n){const e=tm();kr(e,new ME(e,n))}function OE(n,e){pi.call(this,Hu.Na,n),this.size=e}function lf(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return kt.setTimeout(function(){n()},e)}Hu.Ma="serverreachability",ri(xE,pi),Hu.STAT_EVENT="statevent",ri(ME,pi),Hu.Na="timingevent",ri(OE,pi);var iu={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},gv={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function $u(){}function mv(){}$u.prototype.h=null;var PE,df={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function RE(){pi.call(this,"d")}function nm(){pi.call(this,"c")}function hf(){}function Jc(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new af(this),this.P=ID,this.W=new nu(n=W_?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new NE}function NE(){this.i=null,this.g="",this.h=!1}ri(RE,pi),ri(nm,pi),ri(hf,$u),hf.prototype.g=function(){return new XMLHttpRequest},hf.prototype.i=function(){return{}},PE=new hf;var ID=45e3,rm={},im={};function yv(n,e,t){n.K=1,n.v=Zu(ws(e)),n.s=t,n.U=!0,kE(n,null)}function kE(n,e){n.F=Date.now(),ff(n),n.A=ws(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),lm(t.h,"t",r),n.C=0,t=n.l.H,n.h=new NE,n.g=Nv(n.l,t?e:null,!n.s),0<n.O&&(n.L=new TE(ni(n.Ia,n,n.g),n.O)),DE(n.V,n.g,"readystatechange",n.gb),e=n.H?yd(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),Qc(1),function SE(n,e,t,r,i,c){n.info(function(){if(n.g)if(c)for(var d="",f=c.split("&"),y=0;y<f.length;y++){var E=f[y].split("=");if(1<E.length){var A=E[0];E=E[1];var S=A.split("_");d=2<=S.length&&"type"==S[1]?d+(A+"=")+E+"&":d+(A+"=redacted&")}}else d=null;else d=c;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+d})}(n.j,n.u,n.A,n.m,n.X,n.s)}function FE(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function LE(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=DD(n,t),i==im){4==e&&(n.o=4,Wi(14),r=!1),ru(n.j,n.m,null,"[Incomplete Response]");break}if(i==rm){n.o=4,Wi(15),ru(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}ru(n.j,n.m,i,null),sm(n,i)}FE(n)&&i!=im&&i!=rm&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Wi(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),Ov(e),e.L=!0,Wi(11))):(ru(n.j,n.m,t,"[Invalid Chunked Response]"),qu(n),vd(n))}function DD(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?im:(t=Number(e.substring(t,r)),isNaN(t)?rm:(r+=1)+t>e.length?im:(e=e.substr(r,t),n.C=r+t,e))}function ff(n){n.Y=Date.now()+n.P,_d(n,n.P)}function _d(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=lf(ni(n.eb,n),e)}function pf(n){n.B&&(kt.clearTimeout(n.B),n.B=null)}function vd(n){0==n.l.G||n.I||tC(n.l,n)}function qu(n){pf(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,Yc(n.W),AE(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function sm(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||bv(t.i,n)))if(t.I=n.N,!n.J&&bv(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch(E){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0])e:if(t.u)t.ta=i[1],0<t.ta-t.U&&37500>i[2]&&t.N&&0==t.A&&!t.v&&(t.v=lf(ni(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;bf(t),tl(t)}_m(t),Wi(18)}if(1>=zE(t.i)&&t.ka){try{t.ka()}catch(E){}t.ka=void 0}}else Ku(t,11)}else if((n.J||t.g==n)&&bf(t),!G_(e))for(i=t.Ca.g.parse(e),e=0;e<i.length;e++){let E=i[e];if(t.U=E[0],E=E[1],2==t.G)if("c"==E[0]){t.J=E[1],t.la=E[2];const A=E[3];null!=A&&(t.ma=A,t.h.info("VER="+t.ma));const S=E[4];null!=S&&(t.za=S,t.h.info("SVER="+t.za));const L=E[5];null!=L&&"number"==typeof L&&0<L&&(t.K=r=1.5*L,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const B=n.g;if(B){const G=B.g?B.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(G){var c=r.i;!c.g&&(zi(G,"spdy")||zi(G,"quic")||zi(G,"h2"))&&(c.j=c.l,c.g=new Set,c.h&&(hm(c,c.h),c.h=null))}if(r.D){const fe=B.g?B.g.getResponseHeader("X-HTTP-Session-Id"):null;fe&&(r.sa=fe,Pn(r.F,r.D,fe))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var d=n;if((r=t).oa=Pv(r,r.H?r.la:null,r.W),d.J){fm(r.i,d);var f=d,y=r.K;y&&f.setTimeout(y),f.B&&(pf(f),ff(f)),r.g=d}else Mv(r);0<t.l.length&&Dd(t)}else"stop"!=E[0]&&"close"!=E[0]||Ku(t,7);else 3==t.G&&("stop"==E[0]||"close"==E[0]?"stop"==E[0]?Ku(t,7):ym(t):"noop"!=E[0]&&t.j&&t.j.wa(E),t.A=0)}Qc(4)}catch(E){}}function om(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(gd(n)||"string"==typeof n)Z_(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(gd(n)||"string"==typeof n){t=[];for(var r=n.length,i=0;i<r;i++)t.push(i)}else for(i in t=[],r=0,n)t[r++]=i;r=function UE(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(gd(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length;for(var c=0;c<i;c++)e.call(void 0,r[c],t&&t[c],n)}}function bd(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof bd)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function am(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];Xc(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var i={};for(t=e=0;e<n.g.length;)Xc(i,r=n.g[e])||(n.g[t++]=r,i[r]=1),e++;n.g.length=t}}function Xc(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(rt=Jc.prototype).setTimeout=function(n){this.P=n},rt.gb=function(n){n=n.target;const e=this.L;e&&3==ua(n)?e.l():this.Ia(n)},rt.Ia=function(n){try{if(n==this.g)e:{const A=ua(this.g);var e=this.g.Da();const S=this.g.ba();if(!(3>A)&&(3!=A||W_||this.g&&(this.h.h||this.g.ga()||_f(this.g)))){this.I||4!=A||7==e||Qc(8==e||0>=S?3:2),pf(this);var t=this.g.ba();this.N=t;t:if(FE(this)){var r=_f(this.g);n="";var i=r.length,c=4==ua(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){qu(this),vd(this);var d="";break t}this.h.i=new kt.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:c&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,d=this.h.g}else d=this.g.ga();if(this.i=200==t,function fv(n,e,t,r,i,c,d){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+c+" "+d})}(this.j,this.u,this.A,this.m,this.X,A,t),this.i){if(this.$&&!this.J){t:{if(this.g){var f,y=this.g;if((f=y.g?y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!G_(f)){var E=f;break t}}E=null}if(!(t=E)){this.i=!1,this.o=3,Wi(12),qu(this),vd(this);break e}ru(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,sm(this,t)}this.U?(LE(this,A,d),W_&&this.i&&3==A&&(DE(this.V,this.W,"tick",this.fb),this.W.start())):(ru(this.j,this.m,d,null),sm(this,d)),4==A&&qu(this),this.i&&!this.I&&(4==A?tC(this.l,this):(this.i=!1,ff(this)))}else 400==t&&0<d.indexOf("Unknown SID")?(this.o=3,Wi(12)):(this.o=0,Wi(13)),qu(this),vd(this)}}}catch(A){}},rt.fb=function(){if(this.g){var n=ua(this.g),e=this.g.ga();this.C<e.length&&(pf(this),LE(this,n,e),this.i&&4!=n&&ff(this))}},rt.cancel=function(){this.I=!0,qu(this)},rt.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function cf(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Qc(3),Wi(17)),qu(this),this.o=2,vd(this)):_d(this,this.Y-n)},(rt=bd.prototype).R=function(){am(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},rt.T=function(){return am(this),this.g.concat()},rt.get=function(n,e){return Xc(this.h,n)?this.h[n]:e},rt.set=function(n,e){Xc(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},rt.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var i=t[r],c=this.get(i);n.call(e,c,i,this)}};var VE=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function el(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof el){this.g=void 0!==e?e:n.g,um(this,n.j),this.s=n.s,wd(this,n.i),Es(this,n.m),this.l=n.l,e=n.h;var t=new Ed;t.i=e.i,e.g&&(t.g=new bd(e.g),t.h=e.h),BE(this,t),this.o=n.o}else n&&(t=String(n).match(VE))?(this.g=!!e,um(this,t[1]||"",!0),this.s=gf(t[2]||""),wd(this,t[3]||"",!0),Es(this,t[4]),this.l=gf(t[5]||"",!0),BE(this,t[6]||"",!0),this.o=gf(t[7]||"")):(this.g=!!e,this.h=new Ed(null,this.g))}function ws(n){return new el(n)}function um(n,e,t){n.j=t?gf(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function wd(n,e,t){n.i=t?gf(e,!0):e}function Es(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function BE(n,e,t){e instanceof Ed?(n.h=e,function ZE(n,e){e&&!n.j&&(zu(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(qE(this,r),lm(this,i,t))},n)),n.j=e}(n.h,n.g)):(t||(e=Gu(e,$E)),n.h=new Ed(e,n.g))}function Pn(n,e,t){n.h.set(e,t)}function Zu(n){return Pn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function gf(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Gu(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,cm),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function cm(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}el.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Gu(e,jE,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Gu(e,jE,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(Gu(t,"/"==t.charAt(0)?HE:MD,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Gu(t,_v)),n.join("")};var jE=/[#\/\?@]/g,MD=/[#\?:]/g,HE=/[#\?]/g,$E=/[#\?@]/g,_v=/#/g;function Ed(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function zu(n){n.g||(n.g=new bd,n.h=0,n.i&&function AD(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var c=n[t].substring(0,r);i=n[t].substring(r+1)}else c=n[t];e(c,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function qE(n,e){zu(n),e=Wu(n,e),Xc(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,Xc((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&am(n)))}function OD(n,e){return zu(n),e=Wu(n,e),Xc(n.g.h,e)}function lm(n,e,t){qE(n,e),0<t.length&&(n.i=null,n.g.set(Wu(n,e),lE(t)),n.h+=t.length)}function Wu(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function dm(n){this.l=n||RD,n=kt.PerformanceNavigationTiming?0<(n=kt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(kt.g&&kt.g.Ea&&kt.g.Ea()&&kt.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(rt=Ed.prototype).add=function(n,e){zu(this),this.i=null,n=Wu(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},rt.forEach=function(n,e){zu(this),this.g.forEach(function(t,r){Z_(t,function(i){n.call(e,i,r,this)},this)},this)},rt.T=function(){zu(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var i=n[r],c=0;c<i.length;c++)t.push(e[r]);return t},rt.R=function(n){zu(this);var e=[];if("string"==typeof n)OD(this,n)&&(e=cE(e,this.g.get(Wu(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=cE(e,n[t])}return e},rt.set=function(n,e){return zu(this),this.i=null,OD(this,n=Wu(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},rt.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},rt.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],i=encodeURIComponent(String(r));r=this.R(r);for(var c=0;c<r.length;c++){var d=i;""!==r[c]&&(d+="="+encodeURIComponent(String(r[c]))),n.push(d)}}return this.i=n.join("&")};var RD=10;function GE(n){return!!n.h||!!n.g&&n.g.size>=n.j}function zE(n){return n.h?1:n.g?n.g.size:0}function bv(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function hm(n,e){n.g?n.g.add(e):n.h=e}function fm(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function wv(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return lE(n.i)}function pm(){}function WE(){this.g=new pm}function KE(n,e,t){const r=t||"";try{om(n,function(i,c){let d=i;md(i)&&(d=av(i)),e.push(r+c+"="+encodeURIComponent(d))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function mf(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(c){}}function Cd(n){this.l=n.$b||null,this.j=n.ib||!1}function gm(n,e){Nr.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=mm,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}dm.prototype.cancel=function(){if(this.i=wv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},pm.prototype.stringify=function(n){return kt.JSON.stringify(n,void 0)},pm.prototype.parse=function(n){return kt.JSON.parse(n,void 0)},ri(Cd,$u),Cd.prototype.g=function(){return new gm(this.l,this.j)},Cd.prototype.i=function(n){return function(){return n}}({}),ri(gm,Nr);var mm=0;function Ev(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function Fr(n){n.readyState=4,n.l=null,n.j=null,n.A=null,aa(n)}function aa(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(rt=gm.prototype).open=function(n,e){if(this.readyState!=mm)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,aa(this)},rt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||kt).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},rt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Fr(this)),this.readyState=mm},rt.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,aa(this)),this.g&&(this.readyState=3,aa(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==kt.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Ev(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},rt.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Fr(this):aa(this),3==this.readyState&&Ev(this)}},rt.Ua=function(n){this.g&&(this.response=this.responseText=n,Fr(this))},rt.Ta=function(n){this.g&&(this.response=n,Fr(this))},rt.ha=function(){this.g&&Fr(this)},rt.setRequestHeader=function(n,e){this.v.append(n,e)},rt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},rt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(gm.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var ND=kt.JSON.parse;function wr(n){Nr.call(this),this.headers=new bd,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=kD,this.K=this.L=!1}ri(wr,Nr);var kD="",yf=/^https?$/i,FD=["POST","PUT"];function LD(n){return"content-type"==n.toLowerCase()}function Tv(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,YE(n),Td(n)}function YE(n){n.D||(n.D=!0,kr(n,"complete"),kr(n,"error"))}function QE(n){if(n.h&&void 0!==q_&&(!n.C[1]||4!=ua(n)||2!=n.ba()))if(n.v&&4==ua(n))hv(n.Fa,0,n);else if(kr(n,"readystatechange"),4==ua(n)){n.h=!1;try{const f=n.ba();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===f){var i=String(n.H).match(VE)[1]||null;if(!i&&kt.self&&kt.self.location){var c=kt.self.location.protocol;i=c.substr(0,c.length-1)}r=!yf.test(i?i.toLowerCase():"")}t=r}if(t)kr(n,"complete"),kr(n,"success");else{n.m=6;try{var d=2<ua(n)?n.g.statusText:""}catch(y){d=""}n.j=d+" ["+n.ba()+"]",YE(n)}}finally{Td(n)}}}function Td(n,e){if(n.g){Iv(n);const t=n.g,r=n.C[0]?Hg:null;n.g=null,n.C=null,e||kr(n,"ready");try{t.onreadystatechange=r}catch(i){}}}function Iv(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(kt.clearTimeout(n.A),n.A=null)}function ua(n){return n.g?n.g.readyState:0}function _f(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case kD:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function JE(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function Dv(n){let e="";return Gg(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Pn(n,e,t))}function Id(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function XE(n){this.za=0,this.l=[],this.h=new uf,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Id("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Id("baseRetryDelayMs",5e3,n),this.$a=Id("retryDelaySeedMs",1e4,n),this.Ya=Id("forwardChannelMaxRetries",2,n),this.ra=Id("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new dm(n&&n.concurrentRequestLimit),this.Ca=new WE,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function ym(n){if(Av(n),3==n.G){var e=n.V++,t=ws(n.F);Pn(t,"SID",n.J),Pn(t,"RID",e),Pn(t,"TYPE","terminate"),vf(n,t),(e=new Jc(n,n.h,e,void 0)).K=2,e.v=Zu(ws(t)),t=!1,kt.navigator&&kt.navigator.sendBeacon&&(t=kt.navigator.sendBeacon(e.v.toString(),"")),!t&&kt.Image&&((new Image).src=e.v,t=!0),t||(e.g=Nv(e.l,null),e.g.ea(e.v)),e.F=Date.now(),ff(e)}rC(n)}function tl(n){n.g&&(Ov(n),n.g.cancel(),n.g=null)}function Av(n){tl(n),n.u&&(kt.clearTimeout(n.u),n.u=null),bf(n),n.i.cancel(),n.m&&("number"==typeof n.m&&kt.clearTimeout(n.m),n.m=null)}function Sv(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&Dd(n)}function Dd(n){GE(n.i)||n.m||(n.m=!0,lv(n.Ha,n),n.C=0)}function UD(n,e){var t;t=e?e.m:n.V++;const r=ws(n.F);Pn(r,"SID",n.J),Pn(r,"RID",t),Pn(r,"AID",n.U),vf(n,r),n.o&&n.s&&JE(r,n.o,n.s),t=new Jc(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=eC(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),hm(n.i,t),yv(t,r,e)}function vf(n,e){n.j&&om({},function(t,r){Pn(e,r,t)})}function eC(n,e,t){t=Math.min(n.l.length,t);var r=n.j?ni(n.j.Oa,n.j,n):null;e:{var i=n.l;let c=-1;for(;;){const d=["count="+t];-1==c?0<t?(c=i[0].h,d.push("ofs="+c)):c=0:d.push("ofs="+c);let f=!0;for(let y=0;y<t;y++){let E=i[y].h;const A=i[y].g;if(E-=c,0>E)c=Math.max(0,i[y].h-100),f=!1;else try{KE(A,d,"req"+E+"_")}catch(S){r&&r(A)}}if(f){r=d.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function Mv(n){n.g||n.u||(n.Y=1,lv(n.Ga,n),n.A=0)}function _m(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=lf(ni(n.Ga,n),nC(n,n.A)),n.A++,0))}function Ov(n){null!=n.B&&(kt.clearTimeout(n.B),n.B=null)}function Rv(n){n.g=new Jc(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=ws(n.oa);Pn(e,"RID","rpc"),Pn(e,"SID",n.J),Pn(e,"CI",n.N?"0":"1"),Pn(e,"AID",n.U),vf(n,e),Pn(e,"TYPE","xmlhttp"),n.o&&n.s&&JE(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=Zu(ws(e)),t.s=null,t.U=!0,kE(t,n)}function bf(n){null!=n.v&&(kt.clearTimeout(n.v),n.v=null)}function tC(n,e){var t=null;if(n.g==e){bf(n),Ov(n),n.g=null;var r=2}else{if(!bv(n.i,e))return;t=e.D,fm(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;kr(r=tm(),new OE(r,t,e,i)),Dd(n)}else Mv(n);else if(3==(i=e.o)||0==i&&0<n.I||!(1==r&&function xv(n,e){return!(zE(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=lf(ni(n.Ha,n,e),nC(n,n.C)),n.C++,0)))}(n,e)||2==r&&_m(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:Ku(n,5);break;case 4:Ku(n,10);break;case 3:Ku(n,6);break;default:Ku(n,2)}}function nC(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function Ku(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=ni(n.jb,n);t||(t=new el("//www.google.com/images/cleardot.gif"),kt.location&&"http"==kt.location.protocol||um(t,"https"),Zu(t)),function PD(n,e){const t=new uf;if(kt.Image){const r=new Image;r.onload=qg(mf,t,r,"TestLoadImage: loaded",!0,e),r.onerror=qg(mf,t,r,"TestLoadImage: error",!1,e),r.onabort=qg(mf,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=qg(mf,t,r,"TestLoadImage: timeout",!1,e),kt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Wi(2);n.G=0,n.j&&n.j.va(e),rC(n),Av(n)}function rC(n){n.G=0,n.I=-1,n.j&&((0!=wv(n.i).length||0!=n.l.length)&&(n.i.i.length=0,lE(n.l),n.l.length=0),n.j.ua())}function Pv(n,e,t){let r=function SD(n){return n instanceof el?ws(n):new el(n,void 0)}(t);if(""!=r.i)e&&wd(r,e+"."+r.i),Es(r,r.m);else{const i=kt.location;r=function xD(n,e,t,r){var i=new el(null,void 0);return n&&um(i,n),e&&wd(i,e),t&&Es(i,t),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,t)}return n.aa&&Gg(n.aa,function(i,c){Pn(r,c,i)}),t=n.sa,(e=n.D)&&t&&Pn(r,e,t),Pn(r,"VER",n.ma),vf(n,r),r}function Nv(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new wr(t&&n.Ba&&!n.qa?new Cd({ib:!0}):n.qa)).L=n.H,e}function kv(){}function wf(){if(Wc&&!(10<=Number(mE)))throw Error("Environmental error: no available transport.")}function Cs(n,e){Nr.call(this),this.g=new XE(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!G_(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!G_(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new nl(this)}function iC(n){RE.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function VD(){nm.call(this),this.status=1}function nl(n){this.g=n}(rt=wr.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():PE.g(),this.C=function TD(n){return n.h||(n.h=n.i())}(this.u?this.u:PE),this.g.onreadystatechange=ni(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(c){return void Tv(this,c)}n=t||"";const i=new bd(this.headers);r&&om(r,function(c,d){i.set(d,c)}),r=function lD(n){e:{var e=LD;const t=n.length,r="string"==typeof n?n.split(""):n;for(let i=0;i<t;i++)if(i in r&&e.call(void 0,r[i],i,n)){e=i;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(i.T()),t=kt.FormData&&n instanceof kt.FormData,!(0<=uE(FD,e))||r||t||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(c,d){this.g.setRequestHeader(d,c)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Iv(this),0<this.B&&((this.K=function Cv(n){return Wc&&function Q_(){return function hD(n){var e=gD;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=dD(String(zg)).split("."),t=dD("9").split("."),r=Math.max(e.length,t.length);for(let d=0;0==n&&d<r;d++){var i=e[d]||"",c=t[d]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],c=/(\d*)(\D*)(.*)/.exec(c)||["","","",""],0==i[0].length&&0==c[0].length)break;n=Zg(0==i[1].length?0:parseInt(i[1],10),0==c[1].length?0:parseInt(c[1],10))||Zg(0==i[2].length,0==c[2].length)||Zg(i[2],c[2]),i=i[3],c=c[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ni(this.pa,this)):this.A=hv(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(c){Tv(this,c)}},rt.pa=function(){void 0!==q_&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,kr(this,"timeout"),this.abort(8))},rt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,kr(this,"complete"),kr(this,"abort"),Td(this))},rt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Td(this,!0)),wr.Z.M.call(this)},rt.Fa=function(){this.s||(this.F||this.v||this.l?QE(this):this.cb())},rt.cb=function(){QE(this)},rt.ba=function(){try{return 2<ua(this)?this.g.status:-1}catch(n){return-1}},rt.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},rt.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),ND(e)}},rt.Da=function(){return this.m},rt.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(rt=XE.prototype).ma=8,rt.G=1,rt.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},rt.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const i=new Jc(this,this.h,n,void 0);let c=this.s;if(this.P&&(c?(c=yd(c),pE(c,this.P)):c=this.P),null===this.o&&(i.H=c),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=eC(this,i,e),Pn(t=ws(this.F),"RID",n),Pn(t,"CVER",22),this.D&&Pn(t,"X-HTTP-Session-Id",this.D),vf(this,t),this.o&&c&&JE(t,this.o,c),hm(this.i,i),this.Ra&&Pn(t,"TYPE","init"),this.ja?(Pn(t,"$req",e),Pn(t,"SID","null"),i.$=!0,yv(i,t,null)):yv(i,t,e),this.G=2}}else 3==this.G&&(n?UD(this,n):0==this.l.length||GE(this.i)||UD(this))},rt.Ga=function(){if(this.u=null,Rv(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=lf(ni(this.bb,this),n)}},rt.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Wi(10),tl(this),Rv(this))},rt.ab=function(){null!=this.v&&(this.v=null,tl(this),_m(this),Wi(19))},rt.jb=function(n){n?(this.h.info("Successfully pinged google.com"),Wi(2)):(this.h.info("Failed to ping google.com"),Wi(1))},(rt=kv.prototype).xa=function(){},rt.wa=function(){},rt.va=function(){},rt.ua=function(){},rt.Oa=function(){},wf.prototype.g=function(n,e){return new Cs(n,e)},ri(Cs,Nr),Cs.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),lv(ni(n.hb,n,e))),Wi(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=Pv(n,null,n.W),Dd(n)},Cs.prototype.close=function(){ym(this.g)},Cs.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,Sv(this.g,e)}else this.v?((e={}).__data__=av(n),Sv(this.g,e)):Sv(this.g,n)},Cs.prototype.M=function(){this.g.j=null,delete this.j,ym(this.g),delete this.g,Cs.Z.M.call(this)},ri(iC,RE),ri(VD,nm),ri(nl,kv),nl.prototype.xa=function(){kr(this.g,"a")},nl.prototype.wa=function(n){kr(this.g,new iC(n))},nl.prototype.va=function(n){kr(this.g,new VD(n))},nl.prototype.ua=function(){kr(this.g,"b")},wf.prototype.createWebChannel=wf.prototype.g,Cs.prototype.send=Cs.prototype.u,Cs.prototype.open=Cs.prototype.m,Cs.prototype.close=Cs.prototype.close,iu.NO_ERROR=0,iu.TIMEOUT=8,iu.HTTP_ERROR=6,gv.COMPLETE="complete",mv.EventType=df,df.OPEN="a",df.CLOSE="b",df.ERROR="c",df.MESSAGE="d",Nr.prototype.listen=Nr.prototype.N,wr.prototype.listenOnce=wr.prototype.O,wr.prototype.getLastError=wr.prototype.La,wr.prototype.getLastErrorCode=wr.prototype.Da,wr.prototype.getStatus=wr.prototype.ba,wr.prototype.getResponseJson=wr.prototype.Qa,wr.prototype.getResponseText=wr.prototype.ga,wr.prototype.send=wr.prototype.ea;var vx=eu.createWebChannelTransport=function(){return new wf},bx=eu.getStatEventTarget=function(){return tm()},sC=eu.ErrorCode=iu,wx=eu.EventType=gv,Ex=eu.Event=Hu,BD=eu.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Cx=eu.FetchXmlHttpFactory=Cd,Fv=eu.WebChannel=mv,vm=eu.XhrIo=wr;const jD="@firebase/firestore";class $r{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}$r.UNAUTHENTICATED=new $r(null),$r.GOOGLE_CREDENTIALS=new $r("google-credentials-uid"),$r.FIRST_PARTY=new $r("first-party-uid"),$r.MOCK_USER=new $r("mock-user");let Yu="9.8.0";const su=new Ci.Yd("@firebase/firestore");function bm(){return su.logLevel}function Be(n,...e){if(su.logLevel<=Ci.in.DEBUG){const t=e.map(wm);su.debug(`Firestore (${Yu}): ${n}`,...t)}}function pr(n,...e){if(su.logLevel<=Ci.in.ERROR){const t=e.map(wm);su.error(`Firestore (${Yu}): ${n}`,...t)}}function Ef(n,...e){if(su.logLevel<=Ci.in.WARN){const t=e.map(wm);su.warn(`Firestore (${Yu}): ${n}`,...t)}}function wm(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function ut(n="Unexpected state"){const e=`FIRESTORE (${Yu}) INTERNAL ASSERTION FAILED: `+n;throw pr(e),new Error(e)}function xt(n,e){n||ut()}function Je(n,e){return n}const pe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Fe extends vt.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ii{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class $D{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class qD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t($r.UNAUTHENTICATED))}shutdown(){}}class ZD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class GD{constructor(e){this.t=e,this.currentUser=$r.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const c=E=>this.i!==i?(i=this.i,t(E)):Promise.resolve();let d=new ii;this.o=()=>{this.i++,this.currentUser=this.u(),d.resolve(),d=new ii,e.enqueueRetryable(()=>c(this.currentUser))};const f=()=>{const E=d;e.enqueueRetryable((0,we.Z)(function*(){yield E.promise,yield c(r.currentUser)}))},y=E=>{Be("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=E,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(E=>y(E)),setTimeout(()=>{if(!this.auth){const E=this.t.getImmediate({optional:!0});E?y(E):(Be("FirebaseAuthCredentialsProvider","Auth not yet detected"),d.resolve(),d=new ii)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Be("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(xt("string"==typeof r.accessToken),new $D(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return xt(null===e||"string"==typeof e),new $r(e)}}class Ix{constructor(e,t,r){this.type="FirstParty",this.user=$r.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const i=e.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class zD{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new Ix(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t($r.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Em{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class WD{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const r=c=>{null!=c.error&&Be("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.p;return this.p=c.token,Be("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?t(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>r(c))};const i=c=>{Be("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.appCheck.addTokenListener(this.o)};this.g.onInit(c=>i(c)),setTimeout(()=>{if(!this.appCheck){const c=this.g.getImmediate({optional:!0});c?i(c):Be("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(xt("string"==typeof t.token),this.p=t.token,new Em(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class Ts{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.I(r),this.T=r=>t.writeSequenceNumber(r))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function Lv(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}Ts.A=-1;class oC{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=Lv(40);for(let c=0;c<i.length;++c)r.length<20&&i[c]<t&&(r+=e.charAt(i[c]%e.length))}return r}}function Ht(n,e){return n<e?-1:n>e?1:0}function Qu(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function Uv(n){return n+"\0"}class rr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Fe(pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Fe(pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Fe(pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Fe(pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return rr.fromMillis(Date.now())}static fromDate(e){return rr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new rr(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ht(this.nanoseconds,e.nanoseconds):Ht(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class It{constructor(e){this.timestamp=e}static fromTimestamp(e){return new It(e)}static min(){return new It(new rr(0,0))}static max(){return new It(new rr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function Vv(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function rl(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function aC(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Cf{constructor(e,t,r){void 0===t?t=0:t>e.length&&ut(),void 0===r?r=e.length-t:r>e.length-t&&ut(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Cf.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Cf?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const c=e.get(i),d=t.get(i);if(c<d)return-1;if(c>d)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class sn extends Cf{construct(e,t,r){return new sn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Fe(pe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new sn(t)}static emptyPath(){return new sn([])}}const il=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Er extends Cf{construct(e,t,r){return new Er(e,t,r)}static isValidIdentifier(e){return il.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Er.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Er(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const c=()=>{if(0===r.length)throw new Fe(pe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let d=!1;for(;i<e.length;){const f=e[i];if("\\"===f){if(i+1===e.length)throw new Fe(pe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[i+1];if("\\"!==y&&"."!==y&&"`"!==y)throw new Fe(pe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=y,i+=2}else"`"===f?(d=!d,i++):"."!==f||d?(r+=f,i++):(c(),i++)}if(c(),d)throw new Fe(pe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Er(t)}static emptyPath(){return new Er([])}}class sl{constructor(e){this.fields=e,e.sort(Er.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Qu(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class qr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new qr(t)}static fromUint8Array(e){const t=function(r){let i="";for(let c=0;c<r.length;++c)i+=String.fromCharCode(r[c]);return i}(e);return new qr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ht(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}qr.EMPTY_BYTE_STRING=new qr("");const YD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ju(n){if(xt(!!n),"string"==typeof n){let e=0;const t=YD.exec(n);if(xt(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ir(n.seconds),nanos:ir(n.nanos)}}function ir(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Xu(n){return"string"==typeof n?qr.fromBase64String(n):qr.fromUint8Array(n)}function Bv(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function uC(n){const e=n.mapValue.fields.__previous_value__;return Bv(e)?uC(e):e}function Cm(n){const e=Ju(n.mapValue.fields.__local_write_time__.timestampValue);return new rr(e.seconds,e.nanos)}class jv{constructor(e,t,r,i,c,d,f,y){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=f,this.useFetchStreams=y}}class la{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new la("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof la&&e.projectId===this.projectId&&e.database===this.database}}function Tf(n){return null==n}function If(n){return 0===n&&1/n==-1/0}function Hv(n){return"number"==typeof n&&Number.isInteger(n)&&!If(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class Ye{constructor(e){this.path=e}static fromPath(e){return new Ye(sn.fromString(e))}static fromName(e){return new Ye(sn.fromString(e).popFirst(5))}static empty(){return new Ye(sn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===sn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return sn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ye(new sn(e.slice()))}}const da={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Df={nullValue:"NULL_VALUE"};function ol(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Bv(n)?4:JD(n)?9007199254740991:10:ut()}function wo(n,e){if(n===e)return!0;const t=ol(n);if(t!==ol(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Cm(n).isEqual(Cm(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const c=Ju(r.timestampValue),d=Ju(i.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,Xu(n.bytesValue).isEqual(Xu(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return ir(r.geoPointValue.latitude)===ir(i.geoPointValue.latitude)&&ir(r.geoPointValue.longitude)===ir(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return ir(r.integerValue)===ir(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const c=ir(r.doubleValue),d=ir(i.doubleValue);return c===d?If(c)===If(d):isNaN(c)&&isNaN(d)}return!1}(n,e);case 9:return Qu(n.arrayValue.values||[],e.arrayValue.values||[],wo);case 10:return function(r,i){const c=r.mapValue.fields||{},d=i.mapValue.fields||{};if(Vv(c)!==Vv(d))return!1;for(const f in c)if(c.hasOwnProperty(f)&&(void 0===d[f]||!wo(c[f],d[f])))return!1;return!0}(n,e);default:return ut()}var i}function Ad(n,e){return void 0!==(n.values||[]).find(t=>wo(t,e))}function ec(n,e){if(n===e)return 0;const t=ol(n),r=ol(e);if(t!==r)return Ht(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ht(n.booleanValue,e.booleanValue);case 2:return function(i,c){const d=ir(i.integerValue||i.doubleValue),f=ir(c.integerValue||c.doubleValue);return d<f?-1:d>f?1:d===f?0:isNaN(d)?isNaN(f)?0:-1:1}(n,e);case 3:return cC(n.timestampValue,e.timestampValue);case 4:return cC(Cm(n),Cm(e));case 5:return Ht(n.stringValue,e.stringValue);case 6:return function(i,c){const d=Xu(i),f=Xu(c);return d.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(i,c){const d=i.split("/"),f=c.split("/");for(let y=0;y<d.length&&y<f.length;y++){const E=Ht(d[y],f[y]);if(0!==E)return E}return Ht(d.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,c){const d=Ht(ir(i.latitude),ir(c.latitude));return 0!==d?d:Ht(ir(i.longitude),ir(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,c){const d=i.values||[],f=c.values||[];for(let y=0;y<d.length&&y<f.length;++y){const E=ec(d[y],f[y]);if(E)return E}return Ht(d.length,f.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,c){if(i===da.mapValue&&c===da.mapValue)return 0;if(i===da.mapValue)return 1;if(c===da.mapValue)return-1;const d=i.fields||{},f=Object.keys(d),y=c.fields||{},E=Object.keys(y);f.sort(),E.sort();for(let A=0;A<f.length&&A<E.length;++A){const S=Ht(f[A],E[A]);if(0!==S)return S;const L=ec(d[f[A]],y[E[A]]);if(0!==L)return L}return Ht(f.length,E.length)}(n.mapValue,e.mapValue);default:throw ut()}}function cC(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Ht(n,e);const t=Ju(n),r=Ju(e),i=Ht(t.seconds,r.seconds);return 0!==i?i:Ht(t.nanos,r.nanos)}function Af(n){return lC(n)}function lC(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=Ju(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Xu(n.bytesValue).toBase64():"referenceValue"in n?Ye.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",c=!0;for(const d of r.values||[])c?c=!1:i+=",",i+=lC(d);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let c="{",d=!0;for(const f of i)d?d=!1:c+=",",c+=`${f}:${lC(r.fields[f])}`;return c+"}"}(n.mapValue):ut();var e}function tc(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function $v(n){return!!n&&"integerValue"in n}function Sf(n){return!!n&&"arrayValue"in n}function dC(n){return!!n&&"nullValue"in n}function QD(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function qv(n){return!!n&&"mapValue"in n}function Tm(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return rl(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Tm(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Tm(n.arrayValue.values[t]);return e}return Object.assign({},n)}function JD(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function Dx(n){return"nullValue"in n?Df:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?tc(la.empty(),Ye.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:ut()}function XD(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?tc(la.empty(),Ye.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?da:ut()}function xf(n,e){const t=ec(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function hC(n,e){const t=ec(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class gi{constructor(e){this.value=e}static empty(){return new gi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!qv(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Tm(t)}setAll(e){let t=Er.emptyPath(),r={},i=[];e.forEach((d,f)=>{if(!t.isImmediateParentOf(f)){const y=this.getFieldsMap(t);this.applyChanges(y,r,i),r={},i=[],t=f.popLast()}d?r[f.lastSegment()]=Tm(d):i.push(f.lastSegment())});const c=this.getFieldsMap(t);this.applyChanges(c,r,i)}delete(e){const t=this.field(e.popLast());qv(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return wo(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];qv(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){rl(t,(i,c)=>e[i]=c);for(const i of r)delete e[i]}clone(){return new gi(Tm(this.value))}}function Zv(n){const e=[];return rl(n.fields,(t,r)=>{const i=new Er([t]);if(qv(r)){const c=Zv(r.mapValue).fields;if(0===c.length)e.push(i);else for(const d of c)e.push(i.child(d))}else e.push(i)}),new sl(e)}class bn{constructor(e,t,r,i,c,d){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.data=c,this.documentState=d}static newInvalidDocument(e){return new bn(e,0,It.min(),It.min(),gi.empty(),0)}static newFoundDocument(e,t,r){return new bn(e,1,t,It.min(),r,0)}static newNoDocument(e,t){return new bn(e,2,t,It.min(),gi.empty(),0)}static newUnknownDocument(e,t){return new bn(e,3,t,It.min(),gi.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=gi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=gi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof bn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new bn(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Mf{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function Of(n){return n.fields.find(e=>2===e.kind)}function ou(n){return n.fields.filter(e=>2!==e.kind)}Mf.UNKNOWN_ID=-1;class Im{constructor(e,t){this.fieldPath=e,this.kind=t}}class al{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new al(0,ha.min())}}function Dm(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=It.fromTimestamp(1e9===r?new rr(t+1,0):new rr(t,r));return new ha(i,Ye.empty(),e)}function Am(n){return new ha(n.readTime,n.key,-1)}class ha{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new ha(It.min(),Ye.empty(),-1)}static max(){return new ha(It.max(),Ye.empty(),-1)}}function eA(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Ye.comparator(n.documentKey,e.documentKey),0!==t?t:Ht(n.largestBatchId,e.largestBatchId))}class Cr{constructor(e,t){this.comparator=e,this.root=t||Zr.EMPTY}insert(e,t){return new Cr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Zr.BLACK,null,null))}remove(e){return new Cr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Gv(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Gv(this.root,e,this.comparator,!1)}getReverseIterator(){return new Gv(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Gv(this.root,e,this.comparator,!0)}}class Gv{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=t?r(e.key,t):1,t&&i&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(0===c){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zr{constructor(e,t,r,i,c){this.key=e,this.value=t,this.color=null!=r?r:Zr.RED,this.left=null!=i?i:Zr.EMPTY,this.right=null!=c?c:Zr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,c){return new Zr(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=c?c:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const c=r(e,i.key);return i=c<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===c?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Zr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Zr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ut();const e=this.left.check();if(e!==this.right.check())throw ut();return e+(this.isRed()?0:1)}}Zr.EMPTY=null,Zr.RED=!0,Zr.BLACK=!1,Zr.EMPTY=new class{constructor(){this.size=0}get key(){throw ut()}get value(){throw ut()}get color(){throw ut()}get left(){throw ut()}get right(){throw ut()}copy(n,e,t,r,i){return this}insert(n,e,t){return new Zr(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Nn{constructor(e){this.comparator=e,this.data=new Cr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new fC(this.data.getIterator())}getIteratorFrom(e){return new fC(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Nn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,c=r.getNext().key;if(0!==this.comparator(i,c))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Nn(this.comparator);return t.data=e,t}}class fC{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Sd(n){return n.hasNext()?n.getNext():void 0}class tA{constructor(e,t=null,r=[],i=[],c=null,d=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=c,this.startAt=d,this.endAt=f,this.P=null}}function zv(n,e=null,t=[],r=[],i=null,c=null,d=null){return new tA(n,e,t,r,i,c,d)}function nc(n){const e=Je(n);if(null===e.P){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+Af(i.value);var i}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Tf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Af(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Af(r)).join(",")),e.P=t}return e.P}function Rf(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!xx(n.orderBy[i],e.orderBy[i]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if((t=n.filters[i]).op!==(r=e.filters[i]).op||!t.field.isEqual(r.field)||!wo(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!gC(n.startAt,e.startAt)&&gC(n.endAt,e.endAt)}function Sm(n){return Ye.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function Pf(n,e){return n.filters.filter(t=>t instanceof Gr&&t.field.isEqual(e))}function xm(n,e,t){let r=Df,i=!0;for(const c of Pf(n,e)){let d=Df,f=!0;switch(c.op){case"<":case"<=":d=Dx(c.value);break;case"==":case"in":case">=":d=c.value;break;case">":d=c.value,f=!1;break;case"!=":case"not-in":d=Df}xf({value:r,inclusive:i},{value:d,inclusive:f})<0&&(r=d,i=f)}if(null!==t)for(let c=0;c<n.orderBy.length;++c)if(n.orderBy[c].field.isEqual(e)){const d=t.position[c];xf({value:r,inclusive:i},{value:d,inclusive:t.inclusive})<0&&(r=d,i=t.inclusive);break}return{value:r,inclusive:i}}function nA(n,e,t){let r=da,i=!0;for(const c of Pf(n,e)){let d=da,f=!0;switch(c.op){case">=":case">":d=XD(c.value),f=!1;break;case"==":case"in":case"<=":d=c.value;break;case"<":d=c.value,f=!1;break;case"!=":case"not-in":d=da}hC({value:r,inclusive:i},{value:d,inclusive:f})>0&&(r=d,i=f)}if(null!==t)for(let c=0;c<n.orderBy.length;++c)if(n.orderBy[c].field.isEqual(e)){const d=t.position[c];hC({value:r,inclusive:i},{value:d,inclusive:t.inclusive})>0&&(r=d,i=t.inclusive);break}return{value:r,inclusive:i}}class Gr extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,r):new Wv(e,t,r):"array-contains"===t?new Ax(e,r):"in"===t?new oA(e,r):"not-in"===t?new aA(e,r):"array-contains-any"===t?new Sx(e,r):new Gr(e,t,r)}static V(e,t,r){return"in"===t?new rA(e,r):new iA(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(ec(t,this.value)):null!==t&&ol(this.value)===ol(t)&&this.v(ec(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ut()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Wv extends Gr{constructor(e,t,r){super(e,t,r),this.key=Ye.fromName(r.referenceValue)}matches(e){const t=Ye.comparator(e.key,this.key);return this.v(t)}}class rA extends Gr{constructor(e,t){super(e,"in",t),this.keys=sA(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class iA extends Gr{constructor(e,t){super(e,"not-in",t),this.keys=sA(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function sA(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Ye.fromName(r.referenceValue))}class Ax extends Gr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Sf(t)&&Ad(t.arrayValue,this.value)}}class oA extends Gr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Ad(this.value.arrayValue,t)}}class aA extends Gr{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ad(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Ad(this.value.arrayValue,t)}}class Sx extends Gr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Sf(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Ad(this.value.arrayValue,r))}}class ul{constructor(e,t){this.position=e,this.inclusive=t}}class Nf{constructor(e,t="asc"){this.field=e,this.dir=t}}function xx(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function uA(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const c=e[i],d=n.position[i];if(r=c.field.isKeyField()?Ye.comparator(Ye.fromName(d.referenceValue),t.key):ec(d,t.data.field(c.field)),"desc"===c.dir&&(r*=-1),0!==r)break}return r}function gC(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!wo(n.position[t],e.position[t]))return!1;return!0}class rc{constructor(e,t=null,r=[],i=[],c=null,d="F",f=null,y=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=c,this.limitType=d,this.startAt=f,this.endAt=y,this.D=null,this.C=null}}function cA(n,e,t,r,i,c,d,f){return new rc(n,e,t,r,i,c,d,f)}function kf(n){return new rc(n)}function s(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function o(n){for(const e of n.filters)if(e.S())return e.field;return null}function u(n){return null!==n.collectionGroup}function l(n){const e=Je(n);if(null===e.D){e.D=[];const t=o(e),r=s(e);if(null!==t&&null===r)t.isKeyField()||e.D.push(new Nf(t)),e.D.push(new Nf(Er.keyField(),"asc"));else{let i=!1;for(const c of e.explicitOrderBy)e.D.push(c),c.field.isKeyField()&&(i=!0);if(!i){const c=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new Nf(Er.keyField(),c))}}}return e.D}function h(n){const e=Je(n);if(!e.C)if("F"===e.limitType)e.C=zv(e.path,e.collectionGroup,l(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const c of l(e))t.push(new Nf(c.field,"desc"===c.dir?"asc":"desc"));const r=e.endAt?new ul(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new ul(e.startAt.position,e.startAt.inclusive):null;e.C=zv(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e.C}function p(n,e,t){return new rc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function _(n,e){return Rf(h(n),h(e))&&n.limitType===e.limitType}function b(n){return`${nc(h(n))}|lt:${n.limitType}`}function C(n){return`Query(target=${function pC(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${Af(r.value)}`;var r}).join(", ")}]`),Tf(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>Af(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>Af(t)).join(",")),`Target(${e})`}(h(n))}; limitType=${n.limitType})`}function D(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):Ye.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of t.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,c,d){const f=uA(i,c,d);return i.inclusive?f<=0:f<0}(t.startAt,l(t),r)||t.endAt&&!function(i,c,d){const f=uA(i,c,d);return i.inclusive?f>=0:f>0}(t.endAt,l(t),r)));var t,r}function M(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function k(n){return(e,t)=>{let r=!1;for(const i of l(n)){const c=$(i,e,t);if(0!==c)return c;r=r||i.field.isKeyField()}return 0}}function $(n,e,t){const r=n.field.isKeyField()?Ye.comparator(e.key,t.key):function(i,c,d){const f=c.data.field(i),y=d.data.field(i);return null!==f&&null!==y?ec(f,y):ut()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ut()}}function X(n,e){if(n.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:If(e)?"-0":e}}function Te(n){return{integerValue:""+n}}function He(n,e){return Hv(e)?Te(e):X(n,e)}class ze{constructor(){this._=void 0}}function ot(n,e,t){return n instanceof $t?function(r,i){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(c.fields.__previous_value__=i),{mapValue:c}}(t,e):n instanceof on?Ki(n,e):n instanceof Is?Mm(n,e):function(r,i){const c=_t(r,i),d=Om(c)+Om(r.k);return $v(c)&&$v(r.k)?Te(d):X(r.M,d)}(n,e)}function Pe(n,e,t){return n instanceof on?Ki(n,e):n instanceof Is?Mm(n,e):t}function _t(n,e){return n instanceof ic?$v(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class $t extends ze{}class on extends ze{constructor(e){super(),this.elements=e}}function Ki(n,e){const t=Rm(e);for(const r of n.elements)t.some(i=>wo(i,r))||t.push(r);return{arrayValue:{values:t}}}class Is extends ze{constructor(e){super(),this.elements=e}}function Mm(n,e){let t=Rm(e);for(const r of n.elements)t=t.filter(i=>!wo(i,r));return{arrayValue:{values:t}}}class ic extends ze{constructor(e,t){super(),this.M=e,this.k=t}}function Om(n){return ir(n.integerValue||n.doubleValue)}function Rm(n){return Sf(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class cl{constructor(e,t){this.field=e,this.transform=t}}class Yv{constructor(e,t){this.version=e,this.transformResults=t}}class sr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new sr}static exists(e){return new sr(void 0,e)}static updateTime(e){return new sr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function xd(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class mC{}function FP(n,e,t){n instanceof Qv?function(r,i,c){const d=r.value.clone(),f=Nx(r.fieldTransforms,i,c.transformResults);d.setAll(f),i.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(n,e,t):n instanceof Ff?function(r,i,c){if(!xd(r.precondition,i))return void i.convertToUnknownDocument(c.version);const d=Nx(r.fieldTransforms,i,c.transformResults),f=i.data;f.setAll(Px(r)),f.setAll(d),i.convertToFoundDocument(c.version,f).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function lA(n,e,t){var i;n instanceof Qv?function(r,i,c){if(!xd(r.precondition,i))return;const d=r.value.clone(),f=kx(r.fieldTransforms,c,i);d.setAll(f),i.convertToFoundDocument(Rx(i),d).setHasLocalMutations()}(n,e,t):n instanceof Ff?function(r,i,c){if(!xd(r.precondition,i))return;const d=kx(r.fieldTransforms,c,i),f=i.data;f.setAll(Px(r)),f.setAll(d),i.convertToFoundDocument(Rx(i),f).setHasLocalMutations()}(n,e,t):xd(n.precondition,i=e)&&i.convertToNoDocument(It.min())}function LP(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),c=_t(r.transform,i||null);null!=c&&(null==t&&(t=gi.empty()),t.set(r.field,c))}return t||null}function Ox(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Qu(t,r,(i,c)=>function Kv(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof on&&r instanceof on||t instanceof Is&&r instanceof Is?Qu(t.elements,r.elements,wo):t instanceof ic&&r instanceof ic?wo(t.k,r.k):t instanceof $t&&r instanceof $t);var t,r}(i,c))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}function Rx(n){return n.isFoundDocument()?n.version:It.min()}class Qv extends mC{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}}class Ff extends mC{constructor(e,t,r,i,c=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=c,this.type=1}}function Px(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function Nx(n,e,t){const r=new Map;xt(n.length===t.length);for(let i=0;i<t.length;i++){const c=n[i],d=c.transform,f=e.data.field(c.field);r.set(c.field,Pe(d,f,t[i]))}return r}function kx(n,e,t){const r=new Map;for(const i of n){const c=i.transform,d=t.data.field(i.field);r.set(i.field,ot(c,d,e))}return r}class Jv extends mC{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class dA extends mC{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class UP{constructor(e){this.count=e}}var zr,yn;function Fx(n){switch(n){default:return ut();case pe.CANCELLED:case pe.UNKNOWN:case pe.DEADLINE_EXCEEDED:case pe.RESOURCE_EXHAUSTED:case pe.INTERNAL:case pe.UNAVAILABLE:case pe.UNAUTHENTICATED:return!1;case pe.INVALID_ARGUMENT:case pe.NOT_FOUND:case pe.ALREADY_EXISTS:case pe.PERMISSION_DENIED:case pe.FAILED_PRECONDITION:case pe.ABORTED:case pe.OUT_OF_RANGE:case pe.UNIMPLEMENTED:case pe.DATA_LOSS:return!0}}function Lx(n){if(void 0===n)return pr("GRPC error has no .code"),pe.UNKNOWN;switch(n){case zr.OK:return pe.OK;case zr.CANCELLED:return pe.CANCELLED;case zr.UNKNOWN:return pe.UNKNOWN;case zr.DEADLINE_EXCEEDED:return pe.DEADLINE_EXCEEDED;case zr.RESOURCE_EXHAUSTED:return pe.RESOURCE_EXHAUSTED;case zr.INTERNAL:return pe.INTERNAL;case zr.UNAVAILABLE:return pe.UNAVAILABLE;case zr.UNAUTHENTICATED:return pe.UNAUTHENTICATED;case zr.INVALID_ARGUMENT:return pe.INVALID_ARGUMENT;case zr.NOT_FOUND:return pe.NOT_FOUND;case zr.ALREADY_EXISTS:return pe.ALREADY_EXISTS;case zr.PERMISSION_DENIED:return pe.PERMISSION_DENIED;case zr.FAILED_PRECONDITION:return pe.FAILED_PRECONDITION;case zr.ABORTED:return pe.ABORTED;case zr.OUT_OF_RANGE:return pe.OUT_OF_RANGE;case zr.UNIMPLEMENTED:return pe.UNIMPLEMENTED;case zr.DATA_LOSS:return pe.DATA_LOSS;default:return ut()}}(yn=zr||(zr={}))[yn.OK=0]="OK",yn[yn.CANCELLED=1]="CANCELLED",yn[yn.UNKNOWN=2]="UNKNOWN",yn[yn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",yn[yn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",yn[yn.NOT_FOUND=5]="NOT_FOUND",yn[yn.ALREADY_EXISTS=6]="ALREADY_EXISTS",yn[yn.PERMISSION_DENIED=7]="PERMISSION_DENIED",yn[yn.UNAUTHENTICATED=16]="UNAUTHENTICATED",yn[yn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",yn[yn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",yn[yn.ABORTED=10]="ABORTED",yn[yn.OUT_OF_RANGE=11]="OUT_OF_RANGE",yn[yn.UNIMPLEMENTED=12]="UNIMPLEMENTED",yn[yn.INTERNAL=13]="INTERNAL",yn[yn.UNAVAILABLE=14]="UNAVAILABLE",yn[yn.DATA_LOSS=15]="DATA_LOSS";class Md{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,c]of r)if(this.equalsFn(i,e))return c}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let c=0;c<i.length;c++)if(this.equalsFn(i[c][0],e))return void(i[c]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){rl(this.inner,(t,r)=>{for(const[i,c]of r)e(i,c)})}isEmpty(){return aC(this.inner)}size(){return this.innerSize}}const VP=new Cr(Ye.comparator);function fa(){return VP}const BP=new Cr(Ye.comparator);function hA(...n){let e=BP;for(const t of n)e=e.insert(t.key,t);return e}function Xv(){return new Md(n=>n.toString(),(n,e)=>n.isEqual(e))}const jP=new Cr(Ye.comparator),HP=new Nn(Ye.comparator);function An(...n){let e=HP;for(const t of n)e=e.add(t);return e}const $P=new Nn(Ht);function yC(){return $P}class e0{constructor(e,t,r,i,c){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,t0.createSynthesizedTargetChangeForCurrentChange(e,t)),new e0(It.min(),r,yC(),fa(),An())}}class t0{constructor(e,t,r,i,c){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,t){return new t0(qr.EMPTY_BYTE_STRING,t,An(),An(),An())}}class _C{constructor(e,t,r,i){this.O=e,this.removedTargetIds=t,this.key=r,this.F=i}}class Ux{constructor(e,t){this.targetId=e,this.$=t}}class Vx{constructor(e,t,r=qr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class Bx{constructor(){this.B=0,this.L=Hx(),this.U=qr.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return 0!==this.B}get j(){return this.K}W(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}H(){let e=An(),t=An(),r=An();return this.L.forEach((i,c)=>{switch(c){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:ut()}}),new t0(this.U,this.q,e,t,r)}J(){this.K=!1,this.L=Hx()}Y(e,t){this.K=!0,this.L=this.L.insert(e,t)}X(e){this.K=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class qP{constructor(e){this.nt=e,this.st=new Map,this.it=fa(),this.rt=jx(),this.ot=new Nn(Ht)}ut(e){for(const t of e.O)e.F&&e.F.isFoundDocument()?this.at(t,e.F):this.ct(t,e.key,e.F);for(const t of e.removedTargetIds)this.ct(t,e.key,e.F)}ht(e){this.forEachTarget(e,t=>{const r=this.lt(t);switch(e.state){case 0:this.ft(t)&&r.W(e.resumeToken);break;case 1:r.tt(),r.G||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.G||this.removeTarget(t);break;case 3:this.ft(t)&&(r.et(),r.W(e.resumeToken));break;case 4:this.ft(t)&&(this.dt(t),r.W(e.resumeToken));break;default:ut()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((r,i)=>{this.ft(i)&&t(i)})}_t(e){const t=e.targetId,r=e.$.count,i=this.wt(t);if(i){const c=i.target;if(Sm(c))if(0===r){const d=new Ye(c.path);this.ct(t,d,bn.newNoDocument(d,It.min()))}else xt(1===r);else this.gt(t)!==r&&(this.dt(t),this.ot=this.ot.add(t))}}yt(e){const t=new Map;this.st.forEach((c,d)=>{const f=this.wt(d);if(f){if(c.current&&Sm(f.target)){const y=new Ye(f.target.path);null!==this.it.get(y)||this.It(d,y)||this.ct(d,y,bn.newNoDocument(y,e))}c.j&&(t.set(d,c.H()),c.J())}});let r=An();this.rt.forEach((c,d)=>{let f=!0;d.forEachWhile(y=>{const E=this.wt(y);return!E||2===E.purpose||(f=!1,!1)}),f&&(r=r.add(c))}),this.it.forEach((c,d)=>d.setReadTime(e));const i=new e0(e,t,this.ot,this.it,r);return this.it=fa(),this.rt=jx(),this.ot=new Nn(Ht),i}at(e,t){if(!this.ft(e))return;const r=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,r),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}ct(e,t,r){if(!this.ft(e))return;const i=this.lt(e);this.It(e,t)?i.Y(t,1):i.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),r&&(this.it=this.it.insert(t,r))}removeTarget(e){this.st.delete(e)}gt(e){const t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let t=this.st.get(e);return t||(t=new Bx,this.st.set(e,t)),t}Tt(e){let t=this.rt.get(e);return t||(t=new Nn(Ht),this.rt=this.rt.insert(e,t)),t}ft(e){const t=null!==this.wt(e);return t||Be("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.st.get(e);return t&&t.G?null:this.nt.Et(e)}dt(e){this.st.set(e,new Bx),this.nt.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}It(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}function jx(){return new Cr(Ye.comparator)}function Hx(){return new Cr(Ye.comparator)}const ZP={asc:"ASCENDING",desc:"DESCENDING"},GP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class zP{constructor(e,t){this.databaseId=e,this.N=t}}function n0(n,e){return n.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function $x(n,e){return n.N?e.toBase64():e.toUint8Array()}function WP(n,e){return n0(n,e.toTimestamp())}function mi(n){return xt(!!n),It.fromTimestamp(function(e){const t=Ju(e);return new rr(t.seconds,t.nanos)}(n))}function fA(n,e){return(t=n,new sn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function qx(n){const e=sn.fromString(n);return xt(Xx(e)),e}function r0(n,e){return fA(n.databaseId,e.path)}function sc(n,e){const t=qx(e);if(t.get(1)!==n.databaseId.projectId)throw new Fe(pe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Fe(pe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ye(Gx(t))}function pA(n,e){return fA(n.databaseId,e)}function Zx(n){const e=qx(n);return 4===e.length?sn.emptyPath():Gx(e)}function s0(n){return new sn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Gx(n){return xt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function zx(n,e,t){return{name:r0(n,e),fields:t.value.mapValue.fields}}function Wx(n,e,t){const r=sc(n,e.name),i=mi(e.updateTime),c=new gi({mapValue:{fields:e.fields}}),d=bn.newFoundDocument(r,i,c);return t&&d.setHasCommittedMutations(),t?d.setHasCommittedMutations():d}function o0(n,e){let t;if(e instanceof Qv)t={update:zx(n,e.key,e.value)};else if(e instanceof Jv)t={delete:r0(n,e.key)};else if(e instanceof Ff)t={update:zx(n,e.key,e.data),updateMask:rN(e.fieldMask)};else{if(!(e instanceof dA))return ut();t={verify:r0(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,c){const d=c.transform;if(d instanceof $t)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof on)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Is)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof ic)return{fieldPath:c.field.canonicalString(),increment:d.k};throw ut()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:WP(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:ut()),t;var i}function gA(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?sr.updateTime(mi(i.updateTime)):void 0!==i.exists?sr.exists(i.exists):sr.none():sr.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(c,d){let f=null;"setToServerValue"in d?(xt("REQUEST_TIME"===d.setToServerValue),f=new $t):"appendMissingElements"in d?f=new on(d.appendMissingElements.values||[]):"removeAllFromArray"in d?f=new Is(d.removeAllFromArray.values||[]):"increment"in d?f=new ic(c,d.increment):ut();const y=Er.fromServerFormat(d.fieldPath);return new cl(y,f)}(n,i)):[];var i;if(e.update){const i=sc(n,e.update.name),c=new gi({mapValue:{fields:e.update.fields}});if(e.updateMask){const d=new sl((e.updateMask.fieldPaths||[]).map(E=>Er.fromServerFormat(E)));return new Ff(i,c,d,t,r)}return new Qv(i,c,t,r)}if(e.delete){const i=sc(n,e.delete);return new Jv(i,t)}if(e.verify){const i=sc(n,e.verify);return new dA(i,t)}return ut()}function Kx(n,e){return{documents:[pA(n,e.path)]}}function Yx(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=pA(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=pA(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(y){if(0===y.length)return;const E=y.map(A=>function(S){if("=="===S.op){if(QD(S.value))return{unaryFilter:{field:Pm(S.field),op:"IS_NAN"}};if(dC(S.value))return{unaryFilter:{field:Pm(S.field),op:"IS_NULL"}}}else if("!="===S.op){if(QD(S.value))return{unaryFilter:{field:Pm(S.field),op:"IS_NOT_NAN"}};if(dC(S.value))return{unaryFilter:{field:Pm(S.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Pm(S.field),op:eN(S.op),value:S.value}}}(A));return 1===E.length?E[0]:{compositeFilter:{op:"AND",filters:E}}}(e.filters);i&&(t.structuredQuery.where=i);const c=function(y){if(0!==y.length)return y.map(E=>{return{field:Pm((A=E).field),direction:XP(A.dir)};var A})}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const d=(E=e.limit,n.N||Tf(E)?E:{value:E});var E,f,y;return null!==d&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt={before:(f=e.startAt).inclusive,values:f.position}),e.endAt&&(t.structuredQuery.endAt={before:!(y=e.endAt).inclusive,values:y.position}),t}function Qx(n){let e=Zx(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){xt(1===r);const A=t.from[0];A.allDescendants?i=A.collectionId:e=e.child(A.collectionId)}let c=[];t.where&&(c=Jx(t.where));let d=[];t.orderBy&&(d=t.orderBy.map(A=>{return new Nf(Nm((S=A).field),function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction));var S}));let f=null;t.limit&&(f=function(A){let S;return S="object"==typeof A?A.value:A,Tf(S)?null:S}(t.limit));let y=null;var A;t.startAt&&(y=new ul((A=t.startAt).values||[],!!A.before));let E=null;return t.endAt&&(E=function(A){return new ul(A.values||[],!A.before)}(t.endAt)),cA(e,i,d,c,f,"F",y,E)}function Jx(n){return n?void 0!==n.unaryFilter?[nN(n)]:void 0!==n.fieldFilter?[tN(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>Jx(e)).reduce((e,t)=>e.concat(t)):ut():[]}function XP(n){return ZP[n]}function eN(n){return GP[n]}function Pm(n){return{fieldPath:n.canonicalString()}}function Nm(n){return Er.fromServerFormat(n.fieldPath)}function tN(n){return Gr.create(Nm(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ut()}}(n.fieldFilter.op),n.fieldFilter.value)}function nN(n){switch(n.unaryFilter.op){case"IS_NAN":const e=Nm(n.unaryFilter.field);return Gr.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Nm(n.unaryFilter.field);return Gr.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Nm(n.unaryFilter.field);return Gr.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Nm(n.unaryFilter.field);return Gr.create(i,"!=",{nullValue:"NULL_VALUE"});default:return ut()}}function rN(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Xx(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Ds(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=eM(e)),e=iN(n.get(t),e);return eM(e)}function iN(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const c=n.charAt(i);switch(c){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=c}}return t}function eM(n){return n+"\x01\x01"}function oc(n){const e=n.length;if(xt(e>=2),2===e)return xt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),sn.emptyPath();const t=e-2,r=[];let i="";for(let c=0;c<e;){const d=n.indexOf("\x01",c);switch((d<0||d>t)&&ut(),n.charAt(d+1)){case"\x01":const f=n.substring(c,d);let y;0===i.length?y=f:(i+=f,y=i,i=""),r.push(y);break;case"\x10":i+=n.substring(c,d),i+="\0";break;case"\x11":i+=n.substring(c,d+1);break;default:ut()}c=d+2}return new sn(r)}const tM=["userId","batchId"];function vC(n,e){return[n,Ds(e)]}function nM(n,e,t){return[n,Ds(e),t]}const sN={},oN=["prefixPath","collectionGroup","readTime","documentId"],aN=["prefixPath","collectionGroup","documentId"],uN=["collectionGroup","readTime","prefixPath","documentId"],cN=["canonicalId","targetId"],lN=["targetId","path"],dN=["path","targetId"],hN=["collectionId","parent"],fN=["indexId","uid"],pN=["uid","sequenceNumber"],gN=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],mN=["indexId","uid","orderedDocumentKey"],yN=["userId","collectionPath","documentId"],_N=["userId","collectionPath","largestBatchId"],vN=["userId","collectionGroup","largestBatchId"],rM=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],bN=[...rM,"documentOverlays"],iM=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],wN=[...iM,"indexConfiguration","indexState","indexEntries"],sM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class oM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class _e{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ut(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new _e((r,i)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(r,i)},this.catchCallback=c=>{this.wrapFailure(t,c).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof _e?t:_e.resolve(t)}catch(t){return _e.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):_e.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):_e.reject(t)}static resolve(e){return new _e((t,r)=>{t(e)})}static reject(e){return new _e((t,r)=>{r(e)})}static waitFor(e){return new _e((t,r)=>{let i=0,c=0,d=!1;e.forEach(f=>{++i,f.next(()=>{++c,d&&c===i&&t()},y=>r(y))}),d=!0,c===i&&t()})}static or(e){let t=_e.resolve(!1);for(const r of e)t=t.next(i=>i?_e.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,c)=>{r.push(t.call(this,i,c))}),this.waitFor(r)}}class bC{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.At=new ii,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{t.error?this.At.reject(new a0(e,t.error)):this.At.resolve()},this.transaction.onerror=r=>{const i=mA(r.target.error);this.At.reject(new a0(e,i))}}static open(e,t,r,i){try{return new bC(t,e.transaction(i,r))}catch(c){throw new a0(t,c)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||(Be("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}bt(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new CN(t)}}class au{constructor(e,t,r){this.name=e,this.version=t,this.Pt=r,12.2===au.Vt((0,vt.z$)())&&pr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Be("SimpleDb","Removing database:",e),Uf(window.indexedDB.deleteDatabase(e)).toPromise()}static vt(){if(!(0,vt.hl)())return!1;if(au.St())return!0;const e=(0,vt.z$)(),t=au.Vt(e),r=0<t&&t<10,i=au.Dt(e),c=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||c)}static St(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Ct)}static xt(e,t){return e.store(t)}static Vt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static Dt(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}Nt(e){var t=this;return(0,we.Z)(function*(){return t.db||(Be("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const c=indexedDB.open(t.name,t.version);c.onsuccess=d=>{r(d.target.result)},c.onblocked=()=>{i(new a0(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},c.onerror=d=>{const f=d.target.error;i("VersionError"===f.name?new Fe(pe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===f.name?new Fe(pe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+f):new a0(e,f))},c.onupgradeneeded=d=>{Be("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',d.oldVersion),t.Pt.kt(d.target.result,c.transaction,d.oldVersion,t.version).next(()=>{Be("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Mt&&(t.db.onversionchange=r=>t.Mt(r)),t.db})()}Ot(e){this.Mt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var c=this;return(0,we.Z)(function*(){const d="readonly"===t;let f=0;for(;;){++f;try{c.db=yield c.Nt(e);const y=bC.open(c.db,e,d?"readonly":"readwrite",r),E=i(y).next(A=>(y.bt(),A)).catch(A=>(y.abort(A),_e.reject(A))).toPromise();return E.catch(()=>{}),yield y.Rt,E}catch(y){const E="FirebaseError"!==y.name&&f<3;if(Be("SimpleDb","Transaction failed with error:",y.message,"Retrying:",E),c.close(),!E)return Promise.reject(y)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class EN{constructor(e){this.Ft=e,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(e){this.Ft=e}done(){this.$t=!0}Ut(e){this.Bt=e}delete(){return Uf(this.Ft.delete())}}class a0 extends Fe{constructor(e,t){super(pe.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Lf(n){return"IndexedDbTransactionError"===n.name}class CN{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Be("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Be("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Uf(r)}add(e){return Be("SimpleDb","ADD",this.store.name,e,e),Uf(this.store.add(e))}get(e){return Uf(this.store.get(e)).next(t=>(void 0===t&&(t=null),Be("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Be("SimpleDb","DELETE",this.store.name,e),Uf(this.store.delete(e))}count(){return Be("SimpleDb","COUNT",this.store.name),Uf(this.store.count())}qt(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),c=[];return this.Kt(i,(d,f)=>{c.push(f)}).next(()=>c)}{const i=this.store.getAll(r.range);return new _e((c,d)=>{i.onerror=f=>{d(f.target.error)},i.onsuccess=f=>{c(f.target.result)}})}}Gt(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new _e((i,c)=>{r.onerror=d=>{c(d.target.error)},r.onsuccess=d=>{i(d.target.result)}})}Qt(e,t){Be("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.jt=!1;const i=this.cursor(r);return this.Kt(i,(c,d,f)=>f.delete())}Wt(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.Kt(i,t)}zt(e){const t=this.cursor({});return new _e((r,i)=>{t.onerror=c=>{const d=mA(c.target.error);i(d)},t.onsuccess=c=>{const d=c.target.result;d?e(d.primaryKey,d.value).next(f=>{f?d.continue():r()}):r()}})}Kt(e,t){const r=[];return new _e((i,c)=>{e.onerror=d=>{c(d.target.error)},e.onsuccess=d=>{const f=d.target.result;if(!f)return void i();const y=new EN(f),E=t(f.primaryKey,f.value,y);if(E instanceof _e){const A=E.catch(S=>(y.done(),_e.reject(S)));r.push(A)}y.isDone?i():null===y.Lt?f.continue():f.continue(y.Lt)}}).next(()=>_e.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.jt?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Uf(n){return new _e((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=mA(r.target.error);t(i)}})}let aM=!1;function mA(n){const e=au.Vt((0,vt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Fe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return aM||(aM=!0,setTimeout(()=>{throw r},0)),r}}return n}class uM extends oM{constructor(e,t){super(),this.Ht=e,this.currentSequenceNumber=t}}function yi(n,e){const t=Je(n);return au.xt(t.Ht,e)}class yA{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const c=this.mutations[i];c.key.isEqual(e.key)&&FP(c,e,r[i])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&lA(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&lA(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const r=e.get(t.key),i=r;this.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(It.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),An())}isEqual(e){return this.batchId===e.batchId&&Qu(this.mutations,e.mutations,(t,r)=>Ox(t,r))&&Qu(this.baseMutations,e.baseMutations,(t,r)=>Ox(t,r))}}class _A{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){xt(e.mutations.length===r.length);let i=jP;const c=e.mutations;for(let d=0;d<c.length;d++)i=i.insert(c[d].key,r[d].version);return new _A(e,t,r,i)}}class vA{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Od{constructor(e,t,r,i,c=It.min(),d=It.min(),f=qr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=f}withSequenceNumber(e){return new Od(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Od(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Od(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class cM{constructor(e){this.Jt=e}}function lM(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:wC(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:r0(i=n.Jt,(c=e).key),fields:c.data.value.mapValue.fields,updateTime:n0(i,c.version.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Vf(e.version)};else{if(!e.isUnknownDocument())return ut();r.unknownDocument={path:t.path.toArray(),version:Vf(e.version)}}var i,c;return r}function wC(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Vf(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Bf(n){const e=new rr(n.seconds,n.nanoseconds);return It.fromTimestamp(e)}function km(n,e){const t=(e.baseMutations||[]).map(c=>gA(n.Jt,c));for(let c=0;c<e.mutations.length-1;++c){const d=e.mutations[c];c+1<e.mutations.length&&void 0!==e.mutations[c+1].transform&&(d.updateTransforms=e.mutations[c+1].transform.fieldTransforms,e.mutations.splice(c+1,1),++c)}const r=e.mutations.map(c=>gA(n.Jt,c)),i=rr.fromMillis(e.localWriteTimeMs);return new yA(e.batchId,i,t,r)}function u0(n){const e=Bf(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Bf(n.lastLimboFreeSnapshotVersion):It.min();let r;var i;return void 0!==n.query.documents?(xt(1===(i=n.query).documents.length),r=h(kf(Zx(i.documents[0])))):r=h(Qx(n.query)),new Od(r,n.targetId,0,n.lastListenSequenceNumber,e,t,qr.fromBase64String(n.resumeToken))}function dM(n,e){const t=Vf(e.snapshotVersion),r=Vf(e.lastLimboFreeSnapshotVersion);let i;i=Sm(e.target)?Kx(n.Jt,e.target):Yx(n.Jt,e.target);const c=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:nc(e.target),readTime:t,resumeToken:c,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function bA(n){const e=Qx({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?p(e,e.limit,"L"):e}function wA(n,e){return new vA(e.largestBatchId,gA(n.Jt,e.overlayMutation))}function hM(n,e){const t=e.path.lastSegment();return[n,Ds(e.path.popLast()),t]}class IN{getBundleMetadata(e,t){return fM(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:Bf(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return fM(e).put({bundleId:(r=t).id,createTime:Vf(mi(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return pM(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:bA(i.bundledQuery),readTime:Bf(i.readTime)};var i})}saveNamedQuery(e,t){return pM(e).put({name:(r=t).name,readTime:Vf(mi(r.readTime)),bundledQuery:r.bundledQuery});var r}}function fM(n){return yi(n,"bundles")}function pM(n){return yi(n,"namedQueries")}class EA{constructor(e,t){this.M=e,this.userId=t}static Yt(e,t){return new EA(e,t.uid||"")}getOverlay(e,t){return c0(e).get(hM(this.userId,t)).next(r=>r?wA(this.M,r):null)}saveOverlays(e,t,r){const i=[];return r.forEach((c,d)=>{const f=new vA(t,d);i.push(this.Xt(e,f))}),_e.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(d=>i.add(Ds(d.getCollectionPath())));const c=[];return i.forEach(d=>{const f=IDBKeyRange.bound([this.userId,d,r],[this.userId,d,r+1],!1,!0);c.push(c0(e).Qt("collectionPathOverlayIndex",f))}),_e.waitFor(c)}getOverlaysForCollection(e,t,r){const i=Xv(),c=Ds(t),d=IDBKeyRange.bound([this.userId,c,r],[this.userId,c,Number.POSITIVE_INFINITY],!0);return c0(e).qt("collectionPathOverlayIndex",d).next(f=>{for(const y of f){const E=wA(this.M,y);i.set(E.getKey(),E)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const c=Xv();let d;const f=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return c0(e).Wt({index:"collectionGroupOverlayIndex",range:f},(y,E,A)=>{const S=wA(this.M,E);c.size()<i||S.largestBatchId===d?(c.set(S.getKey(),S),d=S.largestBatchId):A.done()}).next(()=>c)}Xt(e,t){return c0(e).put(function(r,i,c){const[d,f,y]=hM(i,c.mutation.key);return{userId:i,collectionPath:f,documentId:y,collectionGroup:c.mutation.key.getCollectionGroup(),largestBatchId:c.largestBatchId,overlayMutation:o0(r.Jt,c.mutation)}}(this.M,this.userId,t))}}function c0(n){return yi(n,"documentOverlays")}class jf{constructor(){}Zt(e,t){this.te(e,t),t.ee()}te(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(ir(e.integerValue));else if("doubleValue"in e){const r=ir(e.doubleValue);isNaN(r)?this.ne(t,13):(this.ne(t,15),If(r)?t.se(0):t.se(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ne(t,20),"string"==typeof r?t.ie(r):(t.ie(`${r.seconds||""}`),t.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(Xu(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ne(t,45),t.se(r.latitude||0),t.se(r.longitude||0)}else"mapValue"in e?JD(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):ut()}re(e,t){this.ne(t,25),this.le(e,t)}le(e,t){t.ie(e)}ce(e,t){const r=e.fields||{};this.ne(t,55);for(const i of Object.keys(r))this.re(i,t),this.te(r[i],t)}he(e,t){const r=e.values||[];this.ne(t,50);for(const i of r)this.te(i,t)}ae(e,t){this.ne(t,37),Ye.fromName(e).path.forEach(r=>{this.ne(t,60),this.le(r,t)})}ne(e,t){e.se(t)}oe(e){e.se(2)}}function DN(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function gM(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const c=DN(255&t[i]);if(r+=c,8!==c)break}return r}(n);return Math.ceil(e/8)}jf.fe=new jf;class AN{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this._e(r.value),r=t.next();this.we()}me(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.ge(r.value),r=t.next();this.ye()}pe(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this._e(r);else if(r<2048)this._e(960|r>>>6),this._e(128|63&r);else if(t<"\ud800"||"\udbff"<t)this._e(480|r>>>12),this._e(128|63&r>>>6),this._e(128|63&r);else{const i=t.codePointAt(0);this._e(240|i>>>18),this._e(128|63&i>>>12),this._e(128|63&i>>>6),this._e(128|63&i)}}this.we()}Ie(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.ge(r);else if(r<2048)this.ge(960|r>>>6),this.ge(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.ge(480|r>>>12),this.ge(128|63&r>>>6),this.ge(128|63&r);else{const i=t.codePointAt(0);this.ge(240|i>>>18),this.ge(128|63&i>>>12),this.ge(128|63&i>>>6),this.ge(128|63&i)}}this.ye()}Te(e){const t=this.Ee(e),r=gM(t);this.Ae(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Re(e){const t=this.Ee(e),r=gM(t);this.Ae(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}be(){this.Pe(255),this.Pe(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}Se(){return this.buffer.slice(0,this.position)}Ee(e){const t=function(i){const c=new DataView(new ArrayBuffer(8));return c.setFloat64(0,i,!1),new Uint8Array(c.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}_e(e){const t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}ge(e){const t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}we(){this.Pe(0),this.Pe(1)}ye(){this.ve(0),this.ve(1)}Pe(e){this.Ae(1),this.buffer[this.position++]=e}ve(e){this.Ae(1),this.buffer[this.position++]=~e}Ae(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class SN{constructor(e){this.De=e}ue(e){this.De.de(e)}ie(e){this.De.pe(e)}se(e){this.De.Te(e)}ee(){this.De.be()}}class xN{constructor(e){this.De=e}ue(e){this.De.me(e)}ie(e){this.De.Ie(e)}se(e){this.De.Re(e)}ee(){this.De.Ve()}}class l0{constructor(){this.De=new AN,this.Ce=new SN(this.De),this.xe=new xN(this.De)}seed(e){this.De.seed(e)}Ne(e){return 0===e?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class Hf{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Hf(this.indexId,this.documentKey,this.arrayValue,r)}}function $f(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=mM(n.arrayValue,e.arrayValue),0!==t?t:(t=mM(n.directionalValue,e.directionalValue),0!==t?t:Ye.comparator(n.documentKey,e.documentKey)))}function mM(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class MN{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Me=e.orderBy,this.Oe=[];for(const t of e.filters){const r=t;r.S()?this.Fe=r:this.Oe.push(r)}}$e(e){const t=Of(e);if(void 0!==t&&!this.Be(t))return!1;const r=ou(e);let i=0,c=0;for(;i<r.length&&this.Be(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.Fe){const d=r[i];if(!this.Le(this.Fe,d)||!this.Ue(this.Me[c++],d))return!1;++i}for(;i<r.length;++i){const d=r[i];if(c>=this.Me.length||!this.Ue(this.Me[c++],d))return!1}return!0}Be(e){for(const t of this.Oe)if(this.Le(t,e))return!0;return!1}Le(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Ue(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class ON{constructor(){this.qe=new CA}addToCollectionParentIndex(e,t){return this.qe.add(t),_e.resolve()}getCollectionParents(e,t){return _e.resolve(this.qe.getEntries(t))}addFieldIndex(e,t){return _e.resolve()}deleteFieldIndex(e,t){return _e.resolve()}getDocumentsMatchingTarget(e,t){return _e.resolve(null)}getIndexType(e,t){return _e.resolve(0)}getFieldIndexes(e,t){return _e.resolve([])}getNextCollectionGroupToUpdate(e){return _e.resolve(null)}getMinOffset(e,t){return _e.resolve(ha.min())}updateCollectionGroup(e,t,r){return _e.resolve()}updateIndexEntries(e,t){return _e.resolve()}}class CA{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Nn(sn.comparator),c=!i.has(r);return this.index[t]=i.add(r),c}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Nn(sn.comparator)).toArray()}}const EC=new Uint8Array(0);class RN{constructor(e,t){this.user=e,this.databaseId=t,this.Ke=new CA,this.Ge=new Md(r=>nc(r),(r,i)=>Rf(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ke.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.Ke.add(t)});const c={collectionId:r,parent:Ds(i)};return yM(e).put(c)}return _e.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[Uv(t),""],!1,!0);return yM(e).qt(i).next(c=>{for(const d of c){if(d.collectionId!==t)break;r.push(oc(d.parent))}return r})}addFieldIndex(e,t){const r=CC(e),i={indexId:(c=t).indexId,collectionGroup:c.collectionGroup,fields:c.fields.map(d=>[d.fieldPath.canonicalString(),d.kind])};var c;return delete i.indexId,r.add(i).next()}deleteFieldIndex(e,t){const r=CC(e),i=TC(e),c=d0(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>c.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=d0(e);let i=!0;const c=new Map;return _e.forEach(this.Qe(t),d=>this.je(e,d).next(f=>{i&&(i=!!f),c.set(d,f)})).next(()=>{if(i){let d=An();const f=[];return _e.forEach(c,(y,E)=>{var A;Be("IndexedDbIndexManager",`Using index ${A=y,`id=${A.indexId}|cg=${A.collectionGroup}|f=${A.fields.map(bt=>`${bt.fieldPath}:${bt.kind}`).join(",")}`} to execute ${nc(t)}`);const S=function(bt,lt){const Vt=Of(lt);if(void 0===Vt)return null;for(const Qt of Pf(bt,Vt.fieldPath))switch(Qt.op){case"array-contains-any":return Qt.value.arrayValue.values||[];case"array-contains":return[Qt.value]}return null}(E,y),L=function(bt,lt){const Vt=new Map;for(const Qt of ou(lt))for(const Cn of Pf(bt,Qt.fieldPath))switch(Cn.op){case"==":case"in":Vt.set(Qt.fieldPath.canonicalString(),Cn.value);break;case"not-in":case"!=":return Vt.set(Qt.fieldPath.canonicalString(),Cn.value),Array.from(Vt.values())}return null}(E,y),B=function(bt,lt){const Vt=[];let Qt=!0;for(const Cn of ou(lt)){const xs=0===Cn.kind?xm(bt,Cn.fieldPath,bt.startAt):nA(bt,Cn.fieldPath,bt.startAt);Vt.push(xs.value),Qt&&(Qt=xs.inclusive)}return new ul(Vt,Qt)}(E,y),G=function(bt,lt){const Vt=[];let Qt=!0;for(const Cn of ou(lt)){const xs=0===Cn.kind?nA(bt,Cn.fieldPath,bt.endAt):xm(bt,Cn.fieldPath,bt.endAt);Vt.push(xs.value),Qt&&(Qt=xs.inclusive)}return new ul(Vt,Qt)}(E,y),fe=this.We(y,E,B),Ve=this.We(y,E,G),nt=this.ze(y,E,L),pt=this.He(y.indexId,S,fe,B.inclusive,Ve,G.inclusive,nt);return _e.forEach(pt,bt=>r.Gt(bt,t.limit).next(lt=>{lt.forEach(Vt=>{const Qt=Ye.fromSegments(Vt.documentKey);d.has(Qt)||(d=d.add(Qt),f.push(Qt))})}))}).next(()=>f)}return _e.resolve(null)})}Qe(e){let t=this.Ge.get(e);return t||(t=[e],this.Ge.set(e,t),t)}He(e,t,r,i,c,d,f){const y=(null!=t?t.length:1)*Math.max(r.length,c.length),E=y/(null!=t?t.length:1),A=[];for(let S=0;S<y;++S){const L=t?this.Je(t[S/E]):EC,B=this.Ye(e,L,r[S%E],i),G=this.Xe(e,L,c[S%E],d),fe=f.map(Ve=>this.Ye(e,L,Ve,!0));A.push(...this.createRange(B,G,fe))}return A}Ye(e,t,r,i){const c=new Hf(e,Ye.empty(),t,r);return i?c:c.ke()}Xe(e,t,r,i){const c=new Hf(e,Ye.empty(),t,r);return i?c.ke():c}je(e,t){const r=new MN(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(c=>{let d=null;for(const f of c)r.$e(f)&&(!d||f.fields.length>d.fields.length)&&(d=f);return d})}getIndexType(e,t){let r=2;return _e.forEach(this.Qe(t),i=>this.je(e,i).next(c=>{c?0!==r&&c.fields.length<function(d){let f=new Nn(Er.comparator),y=!1;for(const E of d.filters){const A=E;A.field.isKeyField()||("array-contains"===A.op||"array-contains-any"===A.op?y=!0:f=f.add(A.field))}for(const E of d.orderBy)E.field.isKeyField()||(f=f.add(E.field));return f.size+(y?1:0)}(i)&&(r=1):r=0})).next(()=>r)}Ze(e,t){const r=new l0;for(const i of ou(e)){const c=t.data.field(i.fieldPath);if(null==c)return null;const d=r.Ne(i.kind);jf.fe.Zt(c,d)}return r.Se()}Je(e){const t=new l0;return jf.fe.Zt(e,t.Ne(0)),t.Se()}tn(e,t){const r=new l0;return jf.fe.Zt(tc(this.databaseId,t),r.Ne(function(i){const c=ou(i);return 0===c.length?0:c[c.length-1].kind}(e))),r.Se()}ze(e,t,r){if(null===r)return[];let i=[];i.push(new l0);let c=0;for(const d of ou(e)){const f=r[c++];for(const y of i)if(this.en(t,d.fieldPath)&&Sf(f))i=this.nn(i,d,f);else{const E=y.Ne(d.kind);jf.fe.Zt(f,E)}}return this.sn(i)}We(e,t,r){return this.ze(e,t,r.position)}sn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Se();return t}nn(e,t,r){const i=[...e],c=[];for(const d of r.arrayValue.values||[])for(const f of i){const y=new l0;y.seed(f.Se()),jf.fe.Zt(d,y.Ne(t.kind)),c.push(y)}return c}en(e,t){return!!e.filters.find(r=>r instanceof Gr&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=CC(e),i=TC(e);return(t?r.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.qt()).next(c=>{const d=[];return _e.forEach(c,f=>i.get([f.indexId,this.uid]).next(y=>{d.push(function(E,A){const S=A?new al(A.sequenceNumber,new ha(Bf(A.readTime),new Ye(oc(A.documentKey)),A.largestBatchId)):al.empty(),L=E.fields.map(([B,G])=>new Im(Er.fromServerFormat(B),G));return new Mf(E.indexId,E.collectionGroup,L,S)}(f,y))})).next(()=>d)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const c=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==c?c:Ht(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=CC(e),c=TC(e);return this.rn(e).next(d=>i.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(f=>_e.forEach(f,y=>{return c.put({indexId:y.indexId,uid:this.user.uid||"",sequenceNumber:d,readTime:Vf((L=r).readTime),documentKey:Ds(L.documentKey.path),largestBatchId:L.largestBatchId});var L})))}updateIndexEntries(e,t){const r=new Map;return _e.forEach(t,(i,c)=>{const d=r.get(i.collectionGroup);return(d?_e.resolve(d):this.getFieldIndexes(e,i.collectionGroup)).next(f=>(r.set(i.collectionGroup,f),_e.forEach(f,y=>this.on(e,i,y).next(E=>{const A=this.un(c,y);return E.isEqual(A)?_e.resolve():this.an(e,c,y,E,A)}))))})}cn(e,t,r,i){return d0(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.tn(r,t.key),documentKey:t.key.path.toArray()})}hn(e,t,r,i){return d0(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.tn(r,t.key),t.key.path.toArray()])}on(e,t,r){const i=d0(e);let c=new Nn($f);return i.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.tn(r,t)])},(d,f)=>{c=c.add(new Hf(r.indexId,t,f.arrayValue,f.directionalValue))}).next(()=>c)}un(e,t){let r=new Nn($f);const i=this.Ze(t,e);if(null==i)return r;const c=Of(t);if(null!=c){const d=e.data.field(c.fieldPath);if(Sf(d))for(const f of d.arrayValue.values||[])r=r.add(new Hf(t.indexId,e.key,this.Je(f),i))}else r=r.add(new Hf(t.indexId,e.key,EC,i));return r}an(e,t,r,i,c){Be("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const d=[];return function(f,y,E,A,S){const L=f.getIterator(),B=y.getIterator();let G=Sd(L),fe=Sd(B);for(;G||fe;){let Ve=!1,nt=!1;if(G&&fe){const pt=E(G,fe);pt<0?nt=!0:pt>0&&(Ve=!0)}else null!=G?nt=!0:Ve=!0;Ve?(A(fe),fe=Sd(B)):nt?(S(G),G=Sd(L)):(G=Sd(L),fe=Sd(B))}}(i,c,$f,f=>{d.push(this.cn(e,t,r,f))},f=>{d.push(this.hn(e,t,r,f))}),_e.waitFor(d)}rn(e){let t=1;return TC(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,c)=>{c.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((d,f)=>$f(d,f)).filter((d,f,y)=>!f||0!==$f(d,y[f-1]));const i=[];i.push(e);for(const d of r){const f=$f(d,e),y=$f(d,t);if(0===f)i[0]=e.ke();else if(f>0&&y<0)i.push(d),i.push(d.ke());else if(y>0)break}i.push(t);const c=[];for(let d=0;d<i.length;d+=2)c.push(IDBKeyRange.bound([i[d].indexId,this.uid,i[d].arrayValue,i[d].directionalValue,EC,[]],[i[d+1].indexId,this.uid,i[d+1].arrayValue,i[d+1].directionalValue,EC,[]]));return c}getMinOffset(e,t){let r;return _e.forEach(this.Qe(t),i=>this.je(e,i).next(c=>{c?(!r||eA(c.indexState.offset,r)<0)&&(r=c.indexState.offset):r=ha.min()})).next(()=>r)}}function yM(n){return yi(n,"collectionParents")}function d0(n){return yi(n,"indexEntries")}function CC(n){return yi(n,"indexConfiguration")}function TC(n){return yi(n,"indexState")}const _M={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Zs{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Zs(e,Zs.DEFAULT_COLLECTION_PERCENTILE,Zs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function vM(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),c=[],d=IDBKeyRange.only(t.batchId);let f=0;const y=r.Wt({range:d},(A,S,L)=>(f++,L.delete()));c.push(y.next(()=>{xt(1===f)}));const E=[];for(const A of t.mutations){const S=nM(e,A.key.path,t.batchId);c.push(i.delete(S)),E.push(A.key)}return _e.waitFor(c).next(()=>E)}function IC(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw ut();e=n.noDocument}return JSON.stringify(e).length}Zs.DEFAULT_COLLECTION_PERCENTILE=10,Zs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Zs.DEFAULT=new Zs(41943040,Zs.DEFAULT_COLLECTION_PERCENTILE,Zs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Zs.DISABLED=new Zs(-1,0,0);class TA{constructor(e,t,r,i){this.userId=e,this.M=t,this.indexManager=r,this.referenceDelegate=i,this.ln={}}static Yt(e,t,r,i){xt(""!==e.uid);const c=e.isAuthenticated()?e.uid:"";return new TA(c,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Rd(e).Wt({index:"userMutationsIndex",range:r},(i,c,d)=>{t=!1,d.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const c=Fm(e),d=Rd(e);return d.add({}).next(f=>{xt("number"==typeof f);const y=new yA(f,t,r,i),E=function(L,B,G){const fe=G.baseMutations.map(nt=>o0(L.Jt,nt)),Ve=G.mutations.map(nt=>o0(L.Jt,nt));return{userId:B,batchId:G.batchId,localWriteTimeMs:G.localWriteTime.toMillis(),baseMutations:fe,mutations:Ve}}(this.M,this.userId,y),A=[];let S=new Nn((L,B)=>Ht(L.canonicalString(),B.canonicalString()));for(const L of i){const B=nM(this.userId,L.key.path,f);S=S.add(L.key.path.popLast()),A.push(d.put(E)),A.push(c.put(B,sN))}return S.forEach(L=>{A.push(this.indexManager.addToCollectionParentIndex(e,L))}),e.addOnCommittedListener(()=>{this.ln[f]=y.keys()}),_e.waitFor(A).next(()=>y)})}lookupMutationBatch(e,t){return Rd(e).get(t).next(r=>r?(xt(r.userId===this.userId),km(this.M,r)):null)}fn(e,t){return this.ln[t]?_e.resolve(this.ln[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.ln[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let c=null;return Rd(e).Wt({index:"userMutationsIndex",range:i},(d,f,y)=>{f.userId===this.userId&&(xt(f.batchId>=r),c=km(this.M,f)),y.done()}).next(()=>c)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Rd(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(i,c,d)=>{r=c.batchId,d.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Rd(e).qt("userMutationsIndex",t).next(r=>r.map(i=>km(this.M,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=vC(this.userId,t.path),i=IDBKeyRange.lowerBound(r),c=[];return Fm(e).Wt({range:i},(d,f,y)=>{const[E,A,S]=d,L=oc(A);if(E===this.userId&&t.path.isEqual(L))return Rd(e).get(S).next(B=>{if(!B)throw ut();xt(B.userId===this.userId),c.push(km(this.M,B))});y.done()}).next(()=>c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Nn(Ht);const i=[];return t.forEach(c=>{const d=vC(this.userId,c.path),f=IDBKeyRange.lowerBound(d),y=Fm(e).Wt({range:f},(E,A,S)=>{const[L,B,G]=E,fe=oc(B);L===this.userId&&c.path.isEqual(fe)?r=r.add(G):S.done()});i.push(y)}),_e.waitFor(i).next(()=>this.dn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,c=vC(this.userId,r),d=IDBKeyRange.lowerBound(c);let f=new Nn(Ht);return Fm(e).Wt({range:d},(y,E,A)=>{const[S,L,B]=y,G=oc(L);S===this.userId&&r.isPrefixOf(G)?G.length===i&&(f=f.add(B)):A.done()}).next(()=>this.dn(e,f))}dn(e,t){const r=[],i=[];return t.forEach(c=>{i.push(Rd(e).get(c).next(d=>{if(null===d)throw ut();xt(d.userId===this.userId),r.push(km(this.M,d))}))}),_e.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return vM(e.Ht,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this._n(t.batchId)}),_e.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}_n(e){delete this.ln[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return _e.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return Fm(e).Wt({range:r},(c,d,f)=>{if(c[0]===this.userId){const y=oc(c[1]);i.push(y)}else f.done()}).next(()=>{xt(0===i.length)})})}containsKey(e,t){return bM(e,this.userId,t)}wn(e){return wM(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function bM(n,e,t){const r=vC(e,t.path),i=r[1],c=IDBKeyRange.lowerBound(r);let d=!1;return Fm(n).Wt({range:c,jt:!0},(f,y,E)=>{const[A,S,L]=f;A===e&&S===i&&(d=!0),E.done()}).next(()=>d)}function Rd(n){return yi(n,"mutations")}function Fm(n){return yi(n,"documentMutations")}function wM(n){return yi(n,"mutationQueues")}class qf{constructor(e){this.mn=e}next(){return this.mn+=2,this.mn}static gn(){return new qf(0)}static yn(){return new qf(-1)}}class PN{constructor(e,t){this.referenceDelegate=e,this.M=t}allocateTargetId(e){return this.pn(e).next(t=>{const r=new qf(t.highestTargetId);return t.highestTargetId=r.next(),this.In(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.pn(e).next(t=>It.fromTimestamp(new rr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.pn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.pn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.In(e,i)))}addTargetData(e,t){return this.Tn(e,t).next(()=>this.pn(e).next(r=>(r.targetCount+=1,this.En(t,r),this.In(e,r))))}updateTargetData(e,t){return this.Tn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Lm(e).delete(t.targetId)).next(()=>this.pn(e)).next(r=>(xt(r.targetCount>0),r.targetCount-=1,this.In(e,r)))}removeTargets(e,t,r){let i=0;const c=[];return Lm(e).Wt((d,f)=>{const y=u0(f);y.sequenceNumber<=t&&null===r.get(y.targetId)&&(i++,c.push(this.removeTargetData(e,y)))}).next(()=>_e.waitFor(c)).next(()=>i)}forEachTarget(e,t){return Lm(e).Wt((r,i)=>{const c=u0(i);t(c)})}pn(e){return EM(e).get("targetGlobalKey").next(t=>(xt(null!==t),t))}In(e,t){return EM(e).put("targetGlobalKey",t)}Tn(e,t){return Lm(e).put(dM(this.M,t))}En(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.pn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=nc(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let c=null;return Lm(e).Wt({range:i,index:"queryTargetsIndex"},(d,f,y)=>{const E=u0(f);Rf(t,E.target)&&(c=E,y.done())}).next(()=>c)}addMatchingKeys(e,t,r){const i=[],c=Pd(e);return t.forEach(d=>{const f=Ds(d.path);i.push(c.put({targetId:r,path:f})),i.push(this.referenceDelegate.addReference(e,r,d))}),_e.waitFor(i)}removeMatchingKeys(e,t,r){const i=Pd(e);return _e.forEach(t,c=>{const d=Ds(c.path);return _e.waitFor([i.delete([r,d]),this.referenceDelegate.removeReference(e,r,c)])})}removeMatchingKeysForTargetId(e,t){const r=Pd(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=Pd(e);let c=An();return i.Wt({range:r,jt:!0},(d,f,y)=>{const E=oc(d[1]),A=new Ye(E);c=c.add(A)}).next(()=>c)}containsKey(e,t){const r=Ds(t.path),i=IDBKeyRange.bound([r],[Uv(r)],!1,!0);let c=0;return Pd(e).Wt({index:"documentTargetsIndex",jt:!0,range:i},([d,f],y,E)=>{0!==d&&(c++,E.done())}).next(()=>c>0)}Et(e,t){return Lm(e).get(t).next(r=>r?u0(r):null)}}function Lm(n){return yi(n,"targets")}function EM(n){return yi(n,"targetGlobal")}function Pd(n){return yi(n,"targetDocuments")}function Zf(n){return IA.apply(this,arguments)}function IA(){return IA=(0,we.Z)(function*(n){if(n.code!==pe.FAILED_PRECONDITION||n.message!==sM)throw n;Be("LocalStore","Unexpectedly lost primary lease")}),IA.apply(this,arguments)}function CM([n,e],[t,r]){const i=Ht(n,t);return 0===i?Ht(e,r):i}class NN{constructor(e){this.An=e,this.buffer=new Nn(CM),this.Rn=0}bn(){return++this.Rn}Pn(e){const t=[e,this.bn()];if(this.buffer.size<this.An)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();CM(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class kN{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.Vn=!1,this.vn=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Sn(e)}stop(){this.vn&&(this.vn.cancel(),this.vn=null)}get started(){return null!==this.vn}Sn(e){var t=this;const r=this.Vn?3e5:6e4;Be("LruGarbageCollector",`Garbage collection scheduled in ${r}ms`),this.vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,(0,we.Z)(function*(){t.vn=null,t.Vn=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(i){Lf(i)?Be("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield Zf(i)}yield t.Sn(e)}))}}class FN{constructor(e,t){this.Dn=e,this.params=t}calculateTargetCount(e,t){return this.Dn.Cn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return _e.resolve(Ts.A);const r=new NN(t);return this.Dn.forEachTarget(e,i=>r.Pn(i.sequenceNumber)).next(()=>this.Dn.xn(e,i=>r.Pn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Dn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Dn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Be("LruGarbageCollector","Garbage collection skipped; disabled"),_e.resolve(_M)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Be("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),_M):this.Nn(e,t))}getCacheSize(e){return this.Dn.getCacheSize(e)}Nn(e,t){let r,i,c,d,f,y,E;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(Be("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),i=this.params.maximumSequenceNumbersToCollect):i=S,d=Date.now(),this.nthSequenceNumber(e,i))).next(S=>(r=S,f=Date.now(),this.removeTargets(e,r,t))).next(S=>(c=S,y=Date.now(),this.removeOrphanedDocuments(e,r))).next(S=>(E=Date.now(),bm()<=Ci.in.DEBUG&&Be("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${d-A}ms\n\tDetermined least recently used ${i} in `+(f-d)+`ms\n\tRemoved ${c} targets in `+(y-f)+`ms\n\tRemoved ${S} documents in `+(E-y)+`ms\nTotal Duration: ${E-A}ms`),_e.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:c,documentsRemoved:S})))}}class LN{constructor(e,t){this.db=e,this.garbageCollector=new FN(this,t)}Cn(e){const t=this.kn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}kn(e){let t=0;return this.xn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}xn(e,t){return this.Mn(e,(r,i)=>t(i))}addReference(e,t,r){return DC(e,r)}removeReference(e,t,r){return DC(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return DC(e,t)}On(e,t){return function(r,i){let c=!1;return wM(r).zt(d=>bM(r,d,i).next(f=>(f&&(c=!0),_e.resolve(!f)))).next(()=>c)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let c=0;return this.Mn(e,(d,f)=>{if(f<=t){const y=this.On(e,d).next(E=>{if(!E)return c++,r.getEntry(e,d).next(()=>(r.removeEntry(d,It.min()),Pd(e).delete([0,Ds(d.path)])))});i.push(y)}}).next(()=>_e.waitFor(i)).next(()=>r.apply(e)).next(()=>c)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return DC(e,t)}Mn(e,t){const r=Pd(e);let i,c=Ts.A;return r.Wt({index:"documentTargetsIndex"},([d,f],{path:y,sequenceNumber:E})=>{0===d?(c!==Ts.A&&t(new Ye(oc(i)),c),c=E,i=y):c=Ts.A}).next(()=>{c!==Ts.A&&t(new Ye(oc(i)),c)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function DC(n,e){return Pd(n).put((r=n.currentSequenceNumber,{targetId:0,path:Ds(e.path),sequenceNumber:r}));var r}class TM{constructor(){this.changes=new Md(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,bn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?_e.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class UN{constructor(e){this.M=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Gf(e).put(r)}removeEntry(e,t,r){return Gf(e).delete(function(i,c){const d=i.path.toArray();return[d.slice(0,d.length-2),d[d.length-2],wC(c),d[d.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Fn(e,r)))}getEntry(e,t){let r=bn.newInvalidDocument(t);return Gf(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(h0(t))},(i,c)=>{r=this.$n(t,c)}).next(()=>r)}Bn(e,t){let r={size:0,document:bn.newInvalidDocument(t)};return Gf(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(h0(t))},(i,c)=>{r={document:this.$n(t,c),size:IC(c)}}).next(()=>r)}getEntries(e,t){let r=fa();return this.Ln(e,t,(i,c)=>{const d=this.$n(i,c);r=r.insert(i,d)}).next(()=>r)}Un(e,t){let r=fa(),i=new Cr(Ye.comparator);return this.Ln(e,t,(c,d)=>{const f=this.$n(c,d);r=r.insert(c,f),i=i.insert(c,IC(d))}).next(()=>({documents:r,qn:i}))}Ln(e,t,r){if(t.isEmpty())return _e.resolve();let i=new Nn(AM);t.forEach(y=>i=i.add(y));const c=IDBKeyRange.bound(h0(i.first()),h0(i.last())),d=i.getIterator();let f=d.getNext();return Gf(e).Wt({index:"documentKeyIndex",range:c},(y,E,A)=>{const S=Ye.fromSegments([...E.prefixPath,E.collectionGroup,E.documentId]);for(;f&&AM(f,S)<0;)r(f,null),f=d.getNext();f&&f.isEqual(S)&&(r(f,E),f=d.hasNext()?d.getNext():null),f?A.Ut(h0(f)):A.done()}).next(()=>{for(;f;)r(f,null),f=d.hasNext()?d.getNext():null})}getAllFromCollection(e,t,r){const i=[t.popLast().toArray(),t.lastSegment(),wC(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],c=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Gf(e).qt(IDBKeyRange.bound(i,c,!0)).next(d=>{let f=fa();for(const y of d){const E=this.$n(Ye.fromSegments(y.prefixPath.concat(y.collectionGroup,y.documentId)),y);f=f.insert(E.key,E)}return f})}getAllFromCollectionGroup(e,t,r,i){let c=fa();const d=DM(t,r),f=DM(t,ha.max());return Gf(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(d,f,!0)},(y,E,A)=>{const S=this.$n(Ye.fromSegments(E.prefixPath.concat(E.collectionGroup,E.documentId)),E);c=c.insert(S.key,S),c.size===i&&A.done()}).next(()=>c)}newChangeBuffer(e){return new VN(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return IM(e).get("remoteDocumentGlobalKey").next(t=>(xt(!!t),t))}Fn(e,t){return IM(e).put("remoteDocumentGlobalKey",t)}$n(e,t){if(t){const r=function TN(n,e){let t;if(e.document)t=Wx(n.Jt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Ye.fromSegments(e.noDocument.path),i=Bf(e.noDocument.readTime);t=bn.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return ut();{const r=Ye.fromSegments(e.unknownDocument.path),i=Bf(e.unknownDocument.version);t=bn.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new rr(r[0],r[1]);return It.fromTimestamp(i)}(e.readTime)),t}(this.M,t);if(!r.isNoDocument()||!r.version.isEqual(It.min()))return r}return bn.newInvalidDocument(e)}}class VN extends TM{constructor(e,t){super(),this.Kn=e,this.trackRemovals=t,this.Gn=new Md(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new Nn((c,d)=>Ht(c.canonicalString(),d.canonicalString()));return this.changes.forEach((c,d)=>{const f=this.Gn.get(c);if(t.push(this.Kn.removeEntry(e,c,f.readTime)),d.isValidDocument()){const y=lM(this.Kn.M,d);i=i.add(c.path.popLast()),r+=IC(y)-f.size,t.push(this.Kn.addEntry(e,c,y))}else if(r-=f.size,this.trackRemovals){const y=lM(this.Kn.M,d.convertToNoDocument(It.min()));t.push(this.Kn.addEntry(e,c,y))}}),i.forEach(c=>{t.push(this.Kn.indexManager.addToCollectionParentIndex(e,c))}),t.push(this.Kn.updateMetadata(e,r)),_e.waitFor(t)}getFromCache(e,t){return this.Kn.Bn(e,t).next(r=>(this.Gn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Kn.Un(e,t).next(({documents:r,qn:i})=>(i.forEach((c,d)=>{this.Gn.set(c,{size:d,readTime:r.get(c).readTime})}),r))}}function IM(n){return yi(n,"remoteDocumentGlobal")}function Gf(n){return yi(n,"remoteDocumentsV14")}function h0(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function DM(n,e){const t=e.documentKey.path.toArray();return[n,wC(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function AM(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let c=0;c<t.length-2&&c<r.length-2;++c)if(i=Ht(t[c],r[c]),i)return i;return i=Ht(t.length,r.length),i||(i=Ht(t[t.length-2],r[r.length-2]),i||Ht(t[t.length-1],r[r.length-1]))}class BN{constructor(e){this.M=e}kt(e,t,r,i){const c=new bC("createOrUpgrade",t);var f;r<1&&i>=1&&(e.createObjectStore("owner"),(f=e).createObjectStore("mutationQueues",{keyPath:"userId"}),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",tM,{unique:!0}),f.createObjectStore("documentMutations"),SM(e),function(f){f.createObjectStore("remoteDocuments")}(e));let d=_e.resolve();return r<3&&i>=3&&(0!==r&&(function(f){f.deleteObjectStore("targetDocuments"),f.deleteObjectStore("targets"),f.deleteObjectStore("targetGlobal")}(e),SM(e)),d=d.next(()=>function(f){const y=f.store("targetGlobal"),E={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:It.min().toTimestamp(),targetCount:0};return y.put("targetGlobalKey",E)}(c))),r<4&&i>=4&&(0!==r&&(d=d.next(()=>function(f,y){return y.store("mutations").qt().next(E=>{f.deleteObjectStore("mutations"),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",tM,{unique:!0});const A=y.store("mutations"),S=E.map(L=>A.put(L));return _e.waitFor(S)})}(e,c))),d=d.next(()=>{!function(f){f.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(d=d.next(()=>this.Qn(c))),r<6&&i>=6&&(d=d.next(()=>(function(f){f.createObjectStore("remoteDocumentGlobal")}(e),this.jn(c)))),r<7&&i>=7&&(d=d.next(()=>this.Wn(c))),r<8&&i>=8&&(d=d.next(()=>this.zn(e,c))),r<9&&i>=9&&(d=d.next(()=>{!function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(d=d.next(()=>this.Hn(c))),r<11&&i>=11&&(d=d.next(()=>{(function(f){f.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(f){f.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(d=d.next(()=>{!function(f){const y=f.createObjectStore("documentOverlays",{keyPath:yN});y.createIndex("collectionPathOverlayIndex",_N,{unique:!1}),y.createIndex("collectionGroupOverlayIndex",vN,{unique:!1})}(e)})),r<13&&i>=13&&(d=d.next(()=>function(f){const y=f.createObjectStore("remoteDocumentsV14",{keyPath:oN});y.createIndex("documentKeyIndex",aN),y.createIndex("collectionGroupIndex",uN)}(e)).next(()=>this.Jn(e,c)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(d=d.next(()=>{!function(f){f.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),f.createObjectStore("indexState",{keyPath:fN}).createIndex("sequenceNumberIndex",pN,{unique:!1}),f.createObjectStore("indexEntries",{keyPath:gN}).createIndex("documentKeyIndex",mN,{unique:!1})}(e)})),d}jn(e){let t=0;return e.store("remoteDocuments").Wt((r,i)=>{t+=IC(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Qn(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.qt().next(i=>_e.forEach(i,c=>{const d=IDBKeyRange.bound([c.userId,-1],[c.userId,c.lastAcknowledgedBatchId]);return r.qt("userMutationsIndex",d).next(f=>_e.forEach(f,y=>{xt(y.userId===c.userId);const E=km(this.M,y);return vM(e,c.userId,E).next(()=>{})}))}))}Wn(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const c=[];return r.Wt((d,f)=>{const y=new sn(d),E=[0,Ds(y)];c.push(t.get(E).next(A=>A?_e.resolve():t.put({targetId:0,path:Ds(y),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>_e.waitFor(c))})}zn(e,t){e.createObjectStore("collectionParents",{keyPath:hN});const r=t.store("collectionParents"),i=new CA,c=d=>{if(i.add(d)){const f=d.lastSegment(),y=d.popLast();return r.put({collectionId:f,parent:Ds(y)})}};return t.store("remoteDocuments").Wt({jt:!0},(d,f)=>{const y=new sn(d);return c(y.popLast())}).next(()=>t.store("documentMutations").Wt({jt:!0},([d,f,y],E)=>{const A=oc(f);return c(A.popLast())}))}Hn(e){const t=e.store("targets");return t.Wt((r,i)=>{const c=u0(i),d=dM(this.M,c);return t.put(d)})}Jn(e,t){const r=t.store("remoteDocuments"),i=[];return r.Wt((c,d)=>{const f=t.store("remoteDocumentsV14"),y=(E=d,E.document?new Ye(sn.fromString(E.document.name).popFirst(5)):E.noDocument?Ye.fromSegments(E.noDocument.path):E.unknownDocument?Ye.fromSegments(E.unknownDocument.path):ut()).path.toArray();var E;const A={prefixPath:y.slice(0,y.length-2),collectionGroup:y[y.length-2],documentId:y[y.length-1],readTime:d.readTime||[0,0],unknownDocument:d.unknownDocument,noDocument:d.noDocument,document:d.document,hasCommittedMutations:!!d.hasCommittedMutations};i.push(f.put(A))}).next(()=>_e.waitFor(i))}}function SM(n){n.createObjectStore("targetDocuments",{keyPath:lN}).createIndex("documentTargetsIndex",dN,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",cN,{unique:!0}),n.createObjectStore("targetGlobal")}const DA="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class AA{constructor(e,t,r,i,c,d,f,y,E,A,S=13){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Yn=c,this.window=d,this.document=f,this.Xn=E,this.Zn=A,this.ts=S,this.es=null,this.ns=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ss=null,this.inForeground=!1,this.rs=null,this.os=null,this.us=Number.NEGATIVE_INFINITY,this.cs=L=>Promise.resolve(),!AA.vt())throw new Fe(pe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new LN(this,i),this.hs=t+"main",this.M=new cM(y),this.ls=new au(this.hs,this.ts,new BN(this.M)),this.fs=new PN(this.referenceDelegate,this.M),this.ds=new UN(this.M),this._s=new IN,this.window&&this.window.localStorage?this.ws=this.window.localStorage:(this.ws=null,!1===A&&pr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.gs().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Fe(pe.FAILED_PRECONDITION,DA);return this.ys(),this.ps(),this.Is(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.fs.getHighestSequenceNumber(e))}).then(e=>{this.es=new Ts(e,this.Xn)}).then(()=>{this.ns=!0}).catch(e=>(this.ls&&this.ls.close(),Promise.reject(e)))}Ts(e){var t=this;return this.cs=function(){var r=(0,we.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ls.Ot(function(){var t=(0,we.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Yn.enqueueAndForget((0,we.Z)(function*(){t.started&&(yield t.gs())})))}gs(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>AC(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Es(e).next(t=>{t||(this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)))})}).next(()=>this.As(e)).next(t=>this.isPrimary&&!t?this.Rs(e).next(()=>!1):!!t&&this.bs(e).next(()=>!0))).catch(e=>{if(Lf(e))return Be("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Be("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Yn.enqueueRetryable(()=>this.cs(e)),this.isPrimary=e})}Es(e){return f0(e).get("owner").next(t=>_e.resolve(this.Ps(t)))}Vs(e){return AC(e).delete(this.clientId)}vs(){var e=this;return(0,we.Z)(function*(){if(e.isPrimary&&!e.Ss(e.us,18e5)){e.us=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=yi(r,"clientMetadata");return i.qt().next(c=>{const d=e.Ds(c,18e5),f=c.filter(y=>-1===d.indexOf(y));return _e.forEach(f,y=>i.delete(y.clientId)).next(()=>f)})}).catch(()=>[]);if(e.ws)for(const r of t)e.ws.removeItem(e.Cs(r.clientId))}})()}Is(){this.os=this.Yn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.gs().then(()=>this.vs()).then(()=>this.Is()))}Ps(e){return!!e&&e.ownerId===this.clientId}As(e){return this.Zn?_e.resolve(!0):f0(e).get("owner").next(t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)){if(this.Ps(t)&&this.networkEnabled)return!0;if(!this.Ps(t)){if(!t.allowTabSynchronization)throw new Fe(pe.FAILED_PRECONDITION,DA);return!1}}return!(!this.networkEnabled||!this.inForeground)||AC(e).qt().next(r=>void 0===this.Ds(r,5e3).find(i=>{if(this.clientId!==i.clientId){const d=!this.inForeground&&i.inForeground,f=this.networkEnabled===i.networkEnabled;if(!this.networkEnabled&&i.networkEnabled||d&&f)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Be("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,we.Z)(function*(){e.ns=!1,e.Ns(),e.os&&(e.os.cancel(),e.os=null),e.ks(),e.Ms(),yield e.ls.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new uM(t,Ts.A);return e.Rs(r).next(()=>e.Vs(r))}),e.ls.close(),e.Os()})()}Ds(e,t){return e.filter(r=>this.Ss(r.updateTimeMs,t)&&!this.xs(r.clientId))}Fs(){return this.runTransaction("getActiveClients","readonly",e=>AC(e).qt().next(t=>this.Ds(t,18e5).map(r=>r.clientId)))}get started(){return this.ns}getMutationQueue(e,t){return TA.Yt(e,this.M,t,this.referenceDelegate)}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getIndexManager(e){return new RN(e,this.M.Jt.databaseId)}getDocumentOverlayCache(e){return EA.Yt(this.M,e)}getBundleCache(){return this._s}runTransaction(e,t,r){Be("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",c=14===(d=this.ts)?wN:13===d?iM:12===d?bN:11===d?rM:void ut();var d;let f;return this.ls.runTransaction(e,i,c,y=>(f=new uM(y,this.es?this.es.next():Ts.A),"readwrite-primary"===t?this.Es(f).next(E=>!!E||this.As(f)).next(E=>{if(!E)throw pr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)),new Fe(pe.FAILED_PRECONDITION,sM);return r(f)}).next(E=>this.bs(f).next(()=>E)):this.$s(f).next(()=>r(f)))).then(y=>(f.raiseOnCommittedEvent(),y))}$s(e){return f0(e).get("owner").next(t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)&&!this.Ps(t)&&!(this.Zn||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Fe(pe.FAILED_PRECONDITION,DA)})}bs(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return f0(e).put("owner",t)}static vt(){return au.vt()}Rs(e){const t=f0(e);return t.get("owner").next(r=>this.Ps(r)?(Be("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):_e.resolve())}Ss(e,t){const r=Date.now();return!(e<r-t||e>r&&(pr(`Detected an update time that is in the future: ${e} > ${r}`),1))}ys(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.rs=()=>{this.Yn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.gs()))},this.document.addEventListener("visibilitychange",this.rs),this.inForeground="visible"===this.document.visibilityState)}ks(){this.rs&&(this.document.removeEventListener("visibilitychange",this.rs),this.rs=null)}ps(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ss=()=>{this.Ns(),(0,vt.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Yn.enterRestrictedMode(!0),this.Yn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ss))}Ms(){this.ss&&(this.window.removeEventListener("pagehide",this.ss),this.ss=null)}xs(e){var t;try{const r=null!==(null===(t=this.ws)||void 0===t?void 0:t.getItem(this.Cs(e)));return Be("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return pr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ns(){if(this.ws)try{this.ws.setItem(this.Cs(this.clientId),String(Date.now()))}catch(e){pr("Failed to set zombie client id.",e)}}Os(){if(this.ws)try{this.ws.removeItem(this.Cs(this.clientId))}catch(e){}}Cs(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function f0(n){return yi(n,"owner")}function AC(n){return yi(n,"clientMetadata")}function SA(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class jN{constructor(e,t,r){this.ds=e,this.Bs=t,this.indexManager=r}Ls(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,t).next(r=>this.Us(e,t,r))}Us(e,t,r){return this.ds.getEntry(e,t).next(i=>{for(const c of r)c.applyToLocalView(i);return i})}qs(e,t){e.forEach((r,i)=>{for(const c of t)c.applyToLocalView(i)})}Ks(e,t){return this.ds.getEntries(e,t).next(r=>this.Gs(e,r).next(()=>r))}Gs(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,t).next(r=>this.qs(t,r))}Qs(e,t,r){return Ye.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.js(e,t.path):u(t)?this.Ws(e,t,r):this.zs(e,t,r);var i}js(e,t){return this.Ls(e,new Ye(t)).next(r=>{let i=hA();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}Ws(e,t,r){const i=t.collectionGroup;let c=hA();return this.indexManager.getCollectionParents(e,i).next(d=>_e.forEach(d,f=>{const y=(E=t,A=f.child(i),new rc(A,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt));var E,A;return this.zs(e,y,r).next(E=>{E.forEach((A,S)=>{c=c.insert(A,S)})})}).next(()=>c))}zs(e,t,r){let i;return this.ds.getAllFromCollection(e,t.path,r).next(c=>(i=c,this.Bs.getAllMutationBatchesAffectingQuery(e,t))).next(c=>{for(const d of c)for(const f of d.mutations){const y=f.key;let E=i.get(y);null==E&&(E=bn.newInvalidDocument(y),i=i.insert(y,E)),lA(f,E,d.localWriteTime),E.isFoundDocument()||(i=i.remove(y))}}).next(()=>(i.forEach((c,d)=>{D(t,d)||(i=i.remove(c))}),i))}}class xA{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Hs=r,this.Js=i}static Ys(e,t){let r=An(),i=An();for(const c of t.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:i=i.add(c.doc.key)}return new xA(e,t.fromCache,r,i)}}class xM{constructor(){this.Xs=!1}initialize(e,t){this.Zs=e,this.indexManager=t,this.Xs=!0}Qs(e,t,r,i){return this.ti(e,t).next(c=>c||this.ei(e,t,i,r)).next(c=>c||this.ni(e,t))}ti(e,t){return _e.resolve(null)}ei(e,t,r,i){return function Mx(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}(t)||i.isEqual(It.min())?this.ni(e,t):this.Zs.Ks(e,r).next(c=>{const d=this.si(t,c);return this.ii(t,d,r,i)?this.ni(e,t):(bm()<=Ci.in.DEBUG&&Be("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),C(t)),this.ri(e,d,t,Dm(i,-1)))})}si(e,t){let r=new Nn(k(e));return t.forEach((i,c)=>{D(e,c)&&(r=r.add(c))}),r}ii(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const c="F"===e.limitType?t.last():t.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(i)>0)}ni(e,t){return bm()<=Ci.in.DEBUG&&Be("QueryEngine","Using full collection scan to execute query:",C(t)),this.Zs.Qs(e,t,ha.min())}ri(e,t,r,i){return this.Zs.Qs(e,r,i).next(c=>(t.forEach(d=>{c=c.insert(d.key,d)}),c))}}class HN{constructor(e,t,r,i){this.persistence=e,this.oi=t,this.M=i,this.ui=new Cr(Ht),this.ai=new Md(c=>nc(c),Rf),this.ci=new Map,this.hi=e.getRemoteDocumentCache(),this.fs=e.getTargetCache(),this._s=e.getBundleCache(),this.li(r)}li(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.fi=new jN(this.hi,this.Bs,this.indexManager),this.hi.setIndexManager(this.indexManager),this.oi.initialize(this.fi,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ui))}}function MM(n,e,t,r){return new HN(n,e,t,r)}function OM(n,e){return MA.apply(this,arguments)}function MA(){return MA=(0,we.Z)(function*(n,e){const t=Je(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.Bs.getAllMutationBatches(r).next(c=>(i=c,t.li(e),t.Bs.getAllMutationBatches(r))).next(c=>{const d=[],f=[];let y=An();for(const E of i){d.push(E.batchId);for(const A of E.mutations)y=y.add(A.key)}for(const E of c){f.push(E.batchId);for(const A of E.mutations)y=y.add(A.key)}return t.fi.Ks(r,y).next(E=>({di:E,removedBatchIds:d,addedBatchIds:f}))})})}),MA.apply(this,arguments)}function $N(n,e){const t=Je(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),c=t.hi.newChangeBuffer({trackRemovals:!0});return function(d,f,y,E){const A=y.batch,S=A.keys();let L=_e.resolve();return S.forEach(B=>{L=L.next(()=>E.getEntry(f,B)).next(G=>{const fe=y.docVersions.get(B);xt(null!==fe),G.version.compareTo(fe)<0&&(A.applyToRemoteDocument(G,y),G.isValidDocument()&&(G.setReadTime(y.commitVersion),E.addEntry(G)))})}),L.next(()=>d.Bs.removeMutationBatch(f,A))}(t,r,e,c).next(()=>c.apply(r)).next(()=>t.Bs.performConsistencyCheck(r)).next(()=>t.fi.Ks(r,i))})}function RM(n){const e=Je(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.fs.getLastRemoteSnapshotVersion(t))}function qN(n,e){const t=Je(n),r=e.snapshotVersion;let i=t.ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const d=t.hi.newChangeBuffer({trackRemovals:!0});i=t.ui;const f=[];e.targetChanges.forEach((E,A)=>{const S=i.get(A);if(!S)return;f.push(t.fs.removeMatchingKeys(c,E.removedDocuments,A).next(()=>t.fs.addMatchingKeys(c,E.addedDocuments,A)));let L=S.withSequenceNumber(c.currentSequenceNumber);var B,G,fe;e.targetMismatches.has(A)?L=L.withResumeToken(qr.EMPTY_BYTE_STRING,It.min()).withLastLimboFreeSnapshotVersion(It.min()):E.resumeToken.approximateByteSize()>0&&(L=L.withResumeToken(E.resumeToken,r)),i=i.insert(A,L),G=L,fe=E,(0===(B=S).resumeToken.approximateByteSize()||G.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=3e8||fe.addedDocuments.size+fe.modifiedDocuments.size+fe.removedDocuments.size>0)&&f.push(t.fs.updateTargetData(c,L))});let y=fa();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(c,E))}),f.push(PM(c,d,e.documentUpdates).next(E=>{y=E})),!r.isEqual(It.min())){const E=t.fs.getLastRemoteSnapshotVersion(c).next(A=>t.fs.setTargetsMetadata(c,c.currentSequenceNumber,r));f.push(E)}return _e.waitFor(f).next(()=>d.apply(c)).next(()=>t.fi.Gs(c,y)).next(()=>y)}).then(c=>(t.ui=i,c))}function PM(n,e,t){let r=An();return t.forEach(i=>r=r.add(i)),e.getEntries(n,r).next(i=>{let c=fa();return t.forEach((d,f)=>{const y=i.get(d);f.isNoDocument()&&f.version.isEqual(It.min())?(e.removeEntry(d,f.readTime),c=c.insert(d,f)):!y.isValidDocument()||f.version.compareTo(y.version)>0||0===f.version.compareTo(y.version)&&y.hasPendingWrites?(e.addEntry(f),c=c.insert(d,f)):Be("LocalStore","Ignoring outdated watch update for ",d,". Current version:",y.version," Watch version:",f.version)}),c})}function ZN(n,e){const t=Je(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.Bs.getNextMutationBatchAfterBatchId(r,e)))}function Um(n,e){const t=Je(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.fs.getTargetData(r,e).next(c=>c?(i=c,_e.resolve(i)):t.fs.allocateTargetId(r).next(d=>(i=new Od(e,d,0,r.currentSequenceNumber),t.fs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.ui.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.ui=t.ui.insert(r.targetId,r),t.ai.set(e,r.targetId)),r})}function Vm(n,e,t){return OA.apply(this,arguments)}function OA(){return OA=(0,we.Z)(function*(n,e,t){const r=Je(n),i=r.ui.get(e),c=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",c,d=>r.persistence.referenceDelegate.removeTarget(d,i)))}catch(d){if(!Lf(d))throw d;Be("LocalStore",`Failed to update sequence numbers for target ${e}: ${d}`)}r.ui=r.ui.remove(e),r.ai.delete(i.target)}),OA.apply(this,arguments)}function SC(n,e,t){const r=Je(n);let i=It.min(),c=An();return r.persistence.runTransaction("Execute query","readonly",d=>function(f,y,E){const A=Je(f),S=A.ai.get(E);return void 0!==S?_e.resolve(A.ui.get(S)):A.fs.getTargetData(y,E)}(r,d,h(e)).next(f=>{if(f)return i=f.lastLimboFreeSnapshotVersion,r.fs.getMatchingKeysForTargetId(d,f.targetId).next(y=>{c=y})}).next(()=>r.oi.Qs(d,e,t?i:It.min(),t?c:An())).next(f=>(FM(r,M(e),f),{documents:f,_i:c})))}function NM(n,e){const t=Je(n),r=Je(t.fs),i=t.ui.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",c=>r.Et(c,e).next(d=>d?d.target:null))}function kM(n,e){const t=Je(n),r=t.ci.get(e)||It.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.hi.getAllFromCollectionGroup(i,e,Dm(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(FM(t,e,i),i))}function FM(n,e,t){let r=It.min();t.forEach((i,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)}),n.ci.set(e,r)}function RA(){return RA=(0,we.Z)(function*(n,e,t,r){const i=Je(n);let c=An(),d=fa();for(const E of t){const A=e.wi(E.metadata.name);E.document&&(c=c.add(A));const S=e.mi(E);S.setReadTime(e.gi(E.metadata.readTime)),d=d.insert(A,S)}const f=i.hi.newChangeBuffer({trackRemovals:!0}),y=yield Um(i,(E=r,h(kf(sn.fromString(`__bundle__/docs/${E}`)))));var E;return i.persistence.runTransaction("Apply bundle documents","readwrite",E=>PM(E,f,d).next(A=>(f.apply(E),A)).next(A=>i.fs.removeMatchingKeysForTargetId(E,y.targetId).next(()=>i.fs.addMatchingKeys(E,c,y.targetId)).next(()=>i.fi.Gs(E,A)).next(()=>A)))}),RA.apply(this,arguments)}function zN(n,e){return PA.apply(this,arguments)}function PA(){return PA=(0,we.Z)(function*(n,e,t=An()){const r=yield Um(n,h(bA(e.bundledQuery))),i=Je(n);return i.persistence.runTransaction("Save named query","readwrite",c=>{const d=mi(e.readTime);if(r.snapshotVersion.compareTo(d)>=0)return i._s.saveNamedQuery(c,e);const f=r.withResumeToken(qr.EMPTY_BYTE_STRING,d);return i.ui=i.ui.insert(f.targetId,f),i.fs.updateTargetData(c,f).next(()=>i.fs.removeMatchingKeysForTargetId(c,r.targetId)).next(()=>i.fs.addMatchingKeys(c,t,r.targetId)).next(()=>i._s.saveNamedQuery(c,e))})}),PA.apply(this,arguments)}class WN{constructor(e){this.M=e,this.yi=new Map,this.pi=new Map}getBundleMetadata(e,t){return _e.resolve(this.yi.get(t))}saveBundleMetadata(e,t){var r;return this.yi.set(t.id,{id:(r=t).id,version:r.version,createTime:mi(r.createTime)}),_e.resolve()}getNamedQuery(e,t){return _e.resolve(this.pi.get(t))}saveNamedQuery(e,t){return this.pi.set(t.name,{name:(r=t).name,query:bA(r.bundledQuery),readTime:mi(r.readTime)}),_e.resolve();var r}}class KN{constructor(){this.overlays=new Cr(Ye.comparator),this.Ii=new Map}getOverlay(e,t){return _e.resolve(this.overlays.get(t))}saveOverlays(e,t,r){return r.forEach((i,c)=>{this.Xt(e,t,c)}),_e.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Ii.get(r);return void 0!==i&&(i.forEach(c=>this.overlays=this.overlays.remove(c)),this.Ii.delete(r)),_e.resolve()}getOverlaysForCollection(e,t,r){const i=Xv(),c=t.length+1,d=new Ye(t.child("")),f=this.overlays.getIteratorFrom(d);for(;f.hasNext();){const y=f.getNext().value,E=y.getKey();if(!t.isPrefixOf(E.path))break;E.path.length===c&&y.largestBatchId>r&&i.set(y.getKey(),y)}return _e.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let c=new Cr((E,A)=>E-A);const d=this.overlays.getIterator();for(;d.hasNext();){const E=d.getNext().value;if(E.getKey().getCollectionGroup()===t&&E.largestBatchId>r){let A=c.get(E.largestBatchId);null===A&&(A=Xv(),c=c.insert(E.largestBatchId,A)),A.set(E.getKey(),E)}}const f=Xv(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((E,A)=>f.set(E,A)),!(f.size()>=i)););return _e.resolve(f)}Xt(e,t,r){if(null===r)return;const i=this.overlays.get(r.key);if(null!==i){const d=this.Ii.get(i.largestBatchId).delete(r.key);this.Ii.set(i.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new vA(t,r));let c=this.Ii.get(t);void 0===c&&(c=An(),this.Ii.set(t,c)),this.Ii.set(t,c.add(r.key))}}class NA{constructor(){this.Ti=new Nn(_i.Ei),this.Ai=new Nn(_i.Ri)}isEmpty(){return this.Ti.isEmpty()}addReference(e,t){const r=new _i(e,t);this.Ti=this.Ti.add(r),this.Ai=this.Ai.add(r)}bi(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Pi(new _i(e,t))}Vi(e,t){e.forEach(r=>this.removeReference(r,t))}vi(e){const t=new Ye(new sn([])),r=new _i(t,e),i=new _i(t,e+1),c=[];return this.Ai.forEachInRange([r,i],d=>{this.Pi(d),c.push(d.key)}),c}Si(){this.Ti.forEach(e=>this.Pi(e))}Pi(e){this.Ti=this.Ti.delete(e),this.Ai=this.Ai.delete(e)}Di(e){const t=new Ye(new sn([])),r=new _i(t,e),i=new _i(t,e+1);let c=An();return this.Ai.forEachInRange([r,i],d=>{c=c.add(d.key)}),c}containsKey(e){const t=new _i(e,0),r=this.Ti.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class _i{constructor(e,t){this.key=e,this.Ci=t}static Ei(e,t){return Ye.comparator(e.key,t.key)||Ht(e.Ci,t.Ci)}static Ri(e,t){return Ht(e.Ci,t.Ci)||Ye.comparator(e.key,t.key)}}class YN{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.Bs=[],this.xi=1,this.Ni=new Nn(_i.Ei)}checkEmpty(e){return _e.resolve(0===this.Bs.length)}addMutationBatch(e,t,r,i){const c=this.xi;this.xi++;const d=new yA(c,t,r,i);this.Bs.push(d);for(const f of i)this.Ni=this.Ni.add(new _i(f.key,c)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return _e.resolve(d)}lookupMutationBatch(e,t){return _e.resolve(this.ki(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.Mi(t+1),c=i<0?0:i;return _e.resolve(this.Bs.length>c?this.Bs[c]:null)}getHighestUnacknowledgedBatchId(){return _e.resolve(0===this.Bs.length?-1:this.xi-1)}getAllMutationBatches(e){return _e.resolve(this.Bs.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new _i(t,0),i=new _i(t,Number.POSITIVE_INFINITY),c=[];return this.Ni.forEachInRange([r,i],d=>{const f=this.ki(d.Ci);c.push(f)}),_e.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Nn(Ht);return t.forEach(i=>{const c=new _i(i,0),d=new _i(i,Number.POSITIVE_INFINITY);this.Ni.forEachInRange([c,d],f=>{r=r.add(f.Ci)})}),_e.resolve(this.Oi(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let c=r;Ye.isDocumentKey(c)||(c=c.child(""));const d=new _i(new Ye(c),0);let f=new Nn(Ht);return this.Ni.forEachWhile(y=>{const E=y.key.path;return!!r.isPrefixOf(E)&&(E.length===i&&(f=f.add(y.Ci)),!0)},d),_e.resolve(this.Oi(f))}Oi(e){const t=[];return e.forEach(r=>{const i=this.ki(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){xt(0===this.Fi(t.batchId,"removed")),this.Bs.shift();let r=this.Ni;return _e.forEach(t.mutations,i=>{const c=new _i(i.key,t.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Ni=r})}_n(e){}containsKey(e,t){const r=new _i(t,0),i=this.Ni.firstAfterOrEqual(r);return _e.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return _e.resolve()}Fi(e,t){return this.Mi(e)}Mi(e){return 0===this.Bs.length?0:e-this.Bs[0].batchId}ki(e){const t=this.Mi(e);return t<0||t>=this.Bs.length?null:this.Bs[t]}}class QN{constructor(e){this.$i=e,this.docs=new Cr(Ye.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),c=i?i.size:0,d=this.$i(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return _e.resolve(r?r.document.mutableCopy():bn.newInvalidDocument(t))}getEntries(e,t){let r=fa();return t.forEach(i=>{const c=this.docs.get(i);r=r.insert(i,c?c.document.mutableCopy():bn.newInvalidDocument(i))}),_e.resolve(r)}getAllFromCollection(e,t,r){let i=fa();const c=new Ye(t.child("")),d=this.docs.getIteratorFrom(c);for(;d.hasNext();){const{key:f,value:{document:y}}=d.getNext();if(!t.isPrefixOf(f.path))break;f.path.length>t.length+1||eA(Am(y),r)<=0||(i=i.insert(y.key,y.mutableCopy()))}return _e.resolve(i)}getAllFromCollectionGroup(e,t,r,i){ut()}Bi(e,t){return _e.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new JN(this)}getSize(e){return _e.resolve(this.size)}}class JN extends TM{constructor(e){super(),this.Kn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Kn.addEntry(e,i)):this.Kn.removeEntry(r)}),_e.waitFor(t)}getFromCache(e,t){return this.Kn.getEntry(e,t)}getAllFromCache(e,t){return this.Kn.getEntries(e,t)}}class XN{constructor(e){this.persistence=e,this.Li=new Md(t=>nc(t),Rf),this.lastRemoteSnapshotVersion=It.min(),this.highestTargetId=0,this.Ui=0,this.qi=new NA,this.targetCount=0,this.Ki=qf.gn()}forEachTarget(e,t){return this.Li.forEach((r,i)=>t(i)),_e.resolve()}getLastRemoteSnapshotVersion(e){return _e.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return _e.resolve(this.Ui)}allocateTargetId(e){return this.highestTargetId=this.Ki.next(),_e.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Ui&&(this.Ui=t),_e.resolve()}Tn(e){this.Li.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ki=new qf(t),this.highestTargetId=t),e.sequenceNumber>this.Ui&&(this.Ui=e.sequenceNumber)}addTargetData(e,t){return this.Tn(t),this.targetCount+=1,_e.resolve()}updateTargetData(e,t){return this.Tn(t),_e.resolve()}removeTargetData(e,t){return this.Li.delete(t.target),this.qi.vi(t.targetId),this.targetCount-=1,_e.resolve()}removeTargets(e,t,r){let i=0;const c=[];return this.Li.forEach((d,f)=>{f.sequenceNumber<=t&&null===r.get(f.targetId)&&(this.Li.delete(d),c.push(this.removeMatchingKeysForTargetId(e,f.targetId)),i++)}),_e.waitFor(c).next(()=>i)}getTargetCount(e){return _e.resolve(this.targetCount)}getTargetData(e,t){const r=this.Li.get(t)||null;return _e.resolve(r)}addMatchingKeys(e,t,r){return this.qi.bi(t,r),_e.resolve()}removeMatchingKeys(e,t,r){this.qi.Vi(t,r);const i=this.persistence.referenceDelegate,c=[];return i&&t.forEach(d=>{c.push(i.markPotentiallyOrphaned(e,d))}),_e.waitFor(c)}removeMatchingKeysForTargetId(e,t){return this.qi.vi(t),_e.resolve()}getMatchingKeysForTargetId(e,t){const r=this.qi.Di(t);return _e.resolve(r)}containsKey(e,t){return _e.resolve(this.qi.containsKey(t))}}class ek{constructor(e,t){this.Gi={},this.overlays={},this.es=new Ts(0),this.ns=!1,this.ns=!0,this.referenceDelegate=e(this),this.fs=new XN(this),this.indexManager=new ON,this.ds=new QN(r=>this.referenceDelegate.Qi(r)),this.M=new cM(t),this._s=new WN(this.M)}start(){return Promise.resolve()}shutdown(){return this.ns=!1,Promise.resolve()}get started(){return this.ns}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new KN,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Gi[e.toKey()];return r||(r=new YN(t,this.referenceDelegate),this.Gi[e.toKey()]=r),r}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getBundleCache(){return this._s}runTransaction(e,t,r){Be("MemoryPersistence","Starting transaction:",e);const i=new tk(this.es.next());return this.referenceDelegate.ji(),r(i).next(c=>this.referenceDelegate.Wi(i).next(()=>c)).toPromise().then(c=>(i.raiseOnCommittedEvent(),c))}zi(e,t){return _e.or(Object.values(this.Gi).map(r=>()=>r.containsKey(e,t)))}}class tk extends oM{constructor(e){super(),this.currentSequenceNumber=e}}class kA{constructor(e){this.persistence=e,this.Hi=new NA,this.Ji=null}static Yi(e){return new kA(e)}get Xi(){if(this.Ji)return this.Ji;throw ut()}addReference(e,t,r){return this.Hi.addReference(r,t),this.Xi.delete(r.toString()),_e.resolve()}removeReference(e,t,r){return this.Hi.removeReference(r,t),this.Xi.add(r.toString()),_e.resolve()}markPotentiallyOrphaned(e,t){return this.Xi.add(t.toString()),_e.resolve()}removeTarget(e,t){this.Hi.vi(t.targetId).forEach(i=>this.Xi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(c=>this.Xi.add(c.toString()))}).next(()=>r.removeTargetData(e,t))}ji(){this.Ji=new Set}Wi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return _e.forEach(this.Xi,r=>{const i=Ye.fromPath(r);return this.Zi(e,i).next(c=>{c||t.removeEntry(i,It.min())})}).next(()=>(this.Ji=null,t.apply(e)))}updateLimboDocument(e,t){return this.Zi(e,t).next(r=>{r?this.Xi.delete(t.toString()):this.Xi.add(t.toString())})}Qi(e){return 0}Zi(e,t){return _e.or([()=>_e.resolve(this.Hi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.zi(e,t)])}}function LM(n,e){return`firestore_clients_${n}_${e}`}function UM(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function FA(n,e){return`firestore_targets_${n}_${e}`}class xC{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static tr(e,t,r){const i=JSON.parse(r);let c,d="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return d&&i.error&&(d="string"==typeof i.error.message&&"string"==typeof i.error.code,d&&(c=new Fe(i.error.code,i.error.message))),d?new xC(e,t,i.state,c):(pr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}er(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class p0{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static tr(e,t){const r=JSON.parse(t);let i,c="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return c&&r.error&&(c="string"==typeof r.error.message&&"string"==typeof r.error.code,c&&(i=new Fe(r.error.code,r.error.message))),c?new p0(e,r.state,i):(pr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}er(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class MC{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static tr(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,c=yC();for(let d=0;i&&d<r.activeTargetIds.length;++d)i=Hv(r.activeTargetIds[d]),c=c.add(r.activeTargetIds[d]);return i?new MC(e,c):(pr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class LA{constructor(e,t){this.clientId=e,this.onlineState=t}static tr(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new LA(t.clientId,t.onlineState):(pr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class UA{constructor(){this.activeTargetIds=yC()}nr(e){this.activeTargetIds=this.activeTargetIds.add(e)}sr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}er(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class VA{constructor(e,t,r,i,c){this.window=e,this.Yn=t,this.persistenceKey=r,this.ir=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.rr=this.ur.bind(this),this.ar=new Cr(Ht),this.started=!1,this.cr=[];const d=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=c,this.hr=LM(this.persistenceKey,this.ir),this.lr=`firestore_sequence_number_${this.persistenceKey}`,this.ar=this.ar.insert(this.ir,new UA),this.dr=new RegExp(`^firestore_clients_${d}_([^_]*)$`),this._r=new RegExp(`^firestore_mutations_${d}_(\\d+)(?:_(.*))?$`),this.wr=new RegExp(`^firestore_targets_${d}_(\\d+)$`),this.mr=`firestore_online_state_${this.persistenceKey}`,this.gr=function(f){return`firestore_bundle_loaded_v2_${f}`}(this.persistenceKey),this.window.addEventListener("storage",this.rr)}static vt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,we.Z)(function*(){const t=yield e.syncEngine.Fs();for(const i of t){if(i===e.ir)continue;const c=e.getItem(LM(e.persistenceKey,i));if(c){const d=MC.tr(i,c);d&&(e.ar=e.ar.insert(d.clientId,d))}}e.yr();const r=e.storage.getItem(e.mr);if(r){const i=e.pr(r);i&&e.Ir(i)}for(const i of e.cr)e.ur(i);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.lr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Tr(this.ar)}isActiveQueryTarget(e){let t=!1;return this.ar.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Er(e,"pending")}updateMutationState(e,t,r){this.Er(e,t,r),this.Ar(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(FA(this.persistenceKey,e));if(r){const i=p0.tr(e,r);i&&(t=i.state)}}return this.Rr.nr(e),this.yr(),t}removeLocalQueryTarget(e){this.Rr.sr(e),this.yr()}isLocalQueryTarget(e){return this.Rr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(FA(this.persistenceKey,e))}updateQueryState(e,t,r){this.br(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Ar(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Pr(e)}notifyBundleLoaded(e){this.Vr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.rr),this.removeItem(this.hr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Be("SharedClientState","READ",e,t),t}setItem(e,t){Be("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Be("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ur(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Be("SharedClientState","EVENT",r.key,r.newValue),r.key===this.hr)return void pr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Yn.enqueueRetryable((0,we.Z)(function*(){if(t.started){if(null!==r.key)if(t.dr.test(r.key)){if(null==r.newValue){const i=t.vr(r.key);return t.Sr(i,null)}{const i=t.Dr(r.key,r.newValue);if(i)return t.Sr(i.clientId,i)}}else if(t._r.test(r.key)){if(null!==r.newValue){const i=t.Cr(r.key,r.newValue);if(i)return t.Nr(i)}}else if(t.wr.test(r.key)){if(null!==r.newValue){const i=t.kr(r.key,r.newValue);if(i)return t.Mr(i)}}else if(r.key===t.mr){if(null!==r.newValue){const i=t.pr(r.newValue);if(i)return t.Ir(i)}}else if(r.key===t.lr){const i=function(c){let d=Ts.A;if(null!=c)try{const f=JSON.parse(c);xt("number"==typeof f),d=f}catch(f){pr("SharedClientState","Failed to read sequence number from WebStorage",f)}return d}(r.newValue);i!==Ts.A&&t.sequenceNumberHandler(i)}else if(r.key===t.gr){const i=t.Or(r.newValue);yield Promise.all(i.map(c=>t.syncEngine.Fr(c)))}}else t.cr.push(r)}))}}get Rr(){return this.ar.get(this.ir)}yr(){this.setItem(this.hr,this.Rr.er())}Er(e,t,r){const i=new xC(this.currentUser,e,t,r),c=UM(this.persistenceKey,this.currentUser,e);this.setItem(c,i.er())}Ar(e){const t=UM(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Pr(e){this.storage.setItem(this.mr,JSON.stringify({clientId:this.ir,onlineState:e}))}br(e,t,r){const i=FA(this.persistenceKey,e),c=new p0(e,t,r);this.setItem(i,c.er())}Vr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.gr,t)}vr(e){const t=this.dr.exec(e);return t?t[1]:null}Dr(e,t){const r=this.vr(e);return MC.tr(r,t)}Cr(e,t){const r=this._r.exec(e),i=Number(r[1]);return xC.tr(new $r(void 0!==r[2]?r[2]:null),i,t)}kr(e,t){const r=this.wr.exec(e),i=Number(r[1]);return p0.tr(i,t)}pr(e){return LA.tr(e)}Or(e){return JSON.parse(e)}Nr(e){var t=this;return(0,we.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.$r(e.batchId,e.state,e.error);Be("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Mr(e){return this.syncEngine.Br(e.targetId,e.state,e.error)}Sr(e,t){const r=t?this.ar.insert(e,t):this.ar.remove(e),i=this.Tr(this.ar),c=this.Tr(r),d=[],f=[];return c.forEach(y=>{i.has(y)||d.push(y)}),i.forEach(y=>{c.has(y)||f.push(y)}),this.syncEngine.Lr(d,f).then(()=>{this.ar=r})}Ir(e){this.ar.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Tr(e){let t=yC();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class VM{constructor(){this.Ur=new UA,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Ur.nr(e),this.qr[e]||"not-current"}updateQueryState(e,t,r){this.qr[e]=t}removeLocalQueryTarget(e){this.Ur.sr(e)}isLocalQueryTarget(e){return this.Ur.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Ur.activeTargetIds}isActiveQueryTarget(e){return this.Ur.activeTargetIds.has(e)}start(){return this.Ur=new UA,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class nk{Kr(e){}shutdown(){}}class BM{constructor(){this.Gr=()=>this.Qr(),this.jr=()=>this.Wr(),this.zr=[],this.Hr()}Kr(e){this.zr.push(e)}shutdown(){window.removeEventListener("online",this.Gr),window.removeEventListener("offline",this.jr)}Hr(){window.addEventListener("online",this.Gr),window.addEventListener("offline",this.jr)}Qr(){Be("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.zr)e(0)}Wr(){Be("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.zr)e(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const rk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class ik{constructor(e){this.Jr=e.Jr,this.Yr=e.Yr}Xr(e){this.Zr=e}eo(e){this.no=e}onMessage(e){this.so=e}close(){this.Yr()}send(e){this.Jr(e)}io(){this.Zr()}ro(e){this.no(e)}oo(e){this.so(e)}}class sk extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.uo=(e.ssl?"https":"http")+"://"+e.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(e,t,r,i,c){const d=this.ho(e,t);Be("RestConnection","Sending: ",d,r);const f={};return this.lo(f,i,c),this.fo(e,d,f,r).then(y=>(Be("RestConnection","Received: ",y),y),y=>{throw Ef("RestConnection",`${e} failed with error: `,y,"url: ",d,"request:",r),y})}_o(e,t,r,i,c){return this.co(e,t,r,i,c)}lo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Yu,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,c)=>e[c]=i),r&&r.headers.forEach((i,c)=>e[c]=i)}ho(e,t){return`${this.uo}/v1/${t}:${rk[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,r,i){return new Promise((c,d)=>{const f=new vm;f.listenOnce(wx.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case sC.NO_ERROR:const E=f.getResponseJson();Be("Connection","XHR received:",JSON.stringify(E)),c(E);break;case sC.TIMEOUT:Be("Connection",'RPC "'+e+'" timed out'),d(new Fe(pe.DEADLINE_EXCEEDED,"Request time out"));break;case sC.HTTP_ERROR:const A=f.getStatus();if(Be("Connection",'RPC "'+e+'" failed with status:',A,"response text:",f.getResponseText()),A>0){const S=f.getResponseJson().error;if(S&&S.status&&S.message){const L=function(B){const G=B.toLowerCase().replace(/_/g,"-");return Object.values(pe).indexOf(G)>=0?G:pe.UNKNOWN}(S.status);d(new Fe(L,S.message))}else d(new Fe(pe.UNKNOWN,"Server responded with status "+f.getStatus()))}else d(new Fe(pe.UNAVAILABLE,"Connection failed."));break;default:ut()}}finally{Be("Connection",'RPC "'+e+'" completed.')}});const y=JSON.stringify(i);f.send(t,"POST",y,r,15)})}wo(e,t,r){const i=[this.uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=vx(),d=bx(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(f.xmlHttpFactory=new Cx({})),this.lo(f.initMessageHeaders,t,r),(0,vt.uI)()||(0,vt.b$)()||(0,vt.d)()||(0,vt.w1)()||(0,vt.Mn)()||(0,vt.ru)()||(f.httpHeadersOverwriteParam="$httpHeaders");const y=i.join("");Be("Connection","Creating WebChannel: "+y,f);const E=c.createWebChannel(y,f);let A=!1,S=!1;const L=new ik({Jr:G=>{S?Be("Connection","Not sending because WebChannel is closed:",G):(A||(Be("Connection","Opening WebChannel transport."),E.open(),A=!0),Be("Connection","WebChannel sending:",G),E.send(G))},Yr:()=>E.close()}),B=(G,fe,Ve)=>{G.listen(fe,nt=>{try{Ve(nt)}catch(pt){setTimeout(()=>{throw pt},0)}})};return B(E,Fv.EventType.OPEN,()=>{S||Be("Connection","WebChannel transport opened.")}),B(E,Fv.EventType.CLOSE,()=>{S||(S=!0,Be("Connection","WebChannel transport closed"),L.ro())}),B(E,Fv.EventType.ERROR,G=>{S||(S=!0,Ef("Connection","WebChannel transport errored:",G),L.ro(new Fe(pe.UNAVAILABLE,"The operation could not be completed")))}),B(E,Fv.EventType.MESSAGE,G=>{var fe;if(!S){const Ve=G.data[0];xt(!!Ve);const nt=Ve,pt=nt.error||(null===(fe=nt[0])||void 0===fe?void 0:fe.error);if(pt){Be("Connection","WebChannel received error:",pt);const bt=pt.status;let lt=function(Qt){const Cn=zr[Qt];if(void 0!==Cn)return Lx(Cn)}(bt),Vt=pt.message;void 0===lt&&(lt=pe.INTERNAL,Vt="Unknown error status: "+bt+" with message "+pt.message),S=!0,L.ro(new Fe(lt,Vt)),E.close()}else Be("Connection","WebChannel received:",Ve),L.oo(Ve)}}),B(d,Ex.STAT_EVENT,G=>{G.stat===BD.PROXY?Be("Connection","Detected buffering proxy"):G.stat===BD.NOPROXY&&Be("Connection","Detected no buffering proxy")}),setTimeout(()=>{L.io()},0),L}}function jM(){return"undefined"!=typeof window?window:null}function OC(){return"undefined"!=typeof document?document:null}function g0(n){return new zP(n,!0)}class BA{constructor(e,t,r=1e3,i=1.5,c=6e4){this.Yn=e,this.timerId=t,this.mo=r,this.yo=i,this.po=c,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,t-r);i>0&&Be("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.To=this.Yn.enqueueAfterDelay(this.timerId,i,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class HM{constructor(e,t,r,i,c,d,f,y){this.Yn=e,this.Vo=r,this.vo=i,this.So=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=f,this.listener=y,this.state=0,this.Do=0,this.Co=null,this.xo=null,this.stream=null,this.No=new BA(e,t)}ko(){return 1===this.state||5===this.state||this.Mo()}Mo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,we.Z)(function*(){e.ko()&&(yield e.close(0))})()}Fo(){this.state=0,this.No.reset()}$o(){this.Mo()&&null===this.Co&&(this.Co=this.Yn.enqueueAfterDelay(this.Vo,6e4,()=>this.Bo()))}Lo(e){this.Uo(),this.stream.send(e)}Bo(){var e=this;return(0,we.Z)(function*(){if(e.Mo())return e.close(0)})()}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}qo(){this.xo&&(this.xo.cancel(),this.xo=null)}close(e,t){var r=this;return(0,we.Z)(function*(){r.Uo(),r.qo(),r.No.cancel(),r.Do++,4!==e?r.No.reset():t&&t.code===pe.RESOURCE_EXHAUSTED?(pr(t.toString()),pr("Using maximum backoff delay to prevent overloading the backend."),r.No.Ao()):t&&t.code===pe.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Ko(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.eo(t)})()}Ko(){}auth(){this.state=1;const e=this.Go(this.Do),t=this.Do;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Do===t&&this.Qo(r,i)},r=>{e(()=>{const i=new Fe(pe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.jo(i)})})}Qo(e,t){const r=this.Go(this.Do);this.stream=this.Wo(e,t),this.stream.Xr(()=>{r(()=>(this.state=2,this.xo=this.Yn.enqueueAfterDelay(this.vo,1e4,()=>(this.Mo()&&(this.state=3),Promise.resolve())),this.listener.Xr()))}),this.stream.eo(i=>{r(()=>this.jo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Oo(){var e=this;this.state=5,this.No.Ro((0,we.Z)(function*(){e.state=0,e.start()}))}jo(e){return Be("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Go(e){return t=>{this.Yn.enqueueAndForget(()=>this.Do===e?t():(Be("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ok extends HM{constructor(e,t,r,i,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,d),this.M=c}Wo(e,t){return this.So.wo("Listen",e,t)}onMessage(e){this.No.reset();const t=function YP(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(y=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===y?1:"REMOVE"===y?2:"CURRENT"===y?3:"RESET"===y?4:ut(),i=e.targetChange.targetIds||[],c=function(y,E){return y.N?(xt(void 0===E||"string"==typeof E),qr.fromBase64String(E||"")):(xt(void 0===E||E instanceof Uint8Array),qr.fromUint8Array(E||new Uint8Array))}(n,e.targetChange.resumeToken),d=e.targetChange.cause,f=d&&function(y){const E=void 0===y.code?pe.UNKNOWN:Lx(y.code);return new Fe(E,y.message||"")}(d);t=new Vx(r,i,c,f||null)}else if("documentChange"in e){const r=e.documentChange,i=sc(n,r.document.name),c=mi(r.document.updateTime),d=new gi({mapValue:{fields:r.document.fields}}),f=bn.newFoundDocument(i,c,d);t=new _C(r.targetIds||[],r.removedTargetIds||[],f.key,f)}else if("documentDelete"in e){const r=e.documentDelete,i=sc(n,r.document),c=r.readTime?mi(r.readTime):It.min(),d=bn.newNoDocument(i,c);t=new _C([],r.removedTargetIds||[],d.key,d)}else if("documentRemove"in e){const r=e.documentRemove,i=sc(n,r.document);t=new _C([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return ut();{const r=e.filter,c=new UP(r.count||0);t=new Ux(r.targetId,c)}}var y;return t}(this.M,e),r=function(i){if(!("targetChange"in i))return It.min();const c=i.targetChange;return c.targetIds&&c.targetIds.length?It.min():c.readTime?mi(c.readTime):It.min()}(e);return this.listener.zo(t,r)}Ho(e){const t={};t.database=s0(this.M),t.addTarget=function(i,c){let d;const f=c.target;return d=Sm(f)?{documents:Kx(i,f)}:{query:Yx(i,f)},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0?d.resumeToken=$x(i,c.resumeToken):c.snapshotVersion.compareTo(It.min())>0&&(d.readTime=n0(i,c.snapshotVersion.toTimestamp())),d}(this.M,e);const r=function JP(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ut()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Lo(t)}Jo(e){const t={};t.database=s0(this.M),t.removeTarget=e,this.Lo(t)}}class ak extends HM{constructor(e,t,r,i,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,d),this.M=c,this.Yo=!1}get Xo(){return this.Yo}start(){this.Yo=!1,this.lastStreamToken=void 0,super.start()}Ko(){this.Yo&&this.Zo([])}Wo(e,t){return this.So.wo("Write",e,t)}onMessage(e){if(xt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Yo){this.No.reset();const t=function QP(n,e){return n&&n.length>0?(xt(void 0!==e),n.map(t=>function(r,i){let c=mi(r.updateTime?r.updateTime:i);return c.isEqual(It.min())&&(c=mi(i)),new Yv(c,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=mi(e.commitTime);return this.listener.tu(r,t)}return xt(!e.writeResults||0===e.writeResults.length),this.Yo=!0,this.listener.eu()}nu(){const e={};e.database=s0(this.M),this.Lo(e)}Zo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>o0(this.M,r))};this.Lo(t)}}class uk extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.So=r,this.M=i,this.su=!1}iu(){if(this.su)throw new Fe(pe.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,t,r){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,c])=>this.So.co(e,t,r,i,c)).catch(i=>{throw"FirebaseError"===i.name?(i.code===pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Fe(pe.UNKNOWN,i.toString())})}_o(e,t,r){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,c])=>this.So._o(e,t,r,i,c)).catch(i=>{throw"FirebaseError"===i.name?(i.code===pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Fe(pe.UNKNOWN,i.toString())})}terminate(){this.su=!0}}class ck{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.ru=0,this.ou=null,this.uu=!0}au(){0===this.ru&&(this.cu("Unknown"),this.ou=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ou=null,this.hu("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}lu(e){"Online"===this.state?this.cu("Unknown"):(this.ru++,this.ru>=1&&(this.fu(),this.hu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.fu(),this.ru=0,"Online"===e&&(this.uu=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}hu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.uu?(pr(t),this.uu=!1):Be("OnlineStateTracker",t)}fu(){null!==this.ou&&(this.ou.cancel(),this.ou=null)}}class lk{constructor(e,t,r,i,c){var d=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.du=[],this._u=new Map,this.wu=new Set,this.mu=[],this.gu=c,this.gu.Kr(f=>{r.enqueueAndForget((0,we.Z)(function*(){var y;Nd(d)&&(Be("RemoteStore","Restarting streams for network reachability change."),yield(y=(0,we.Z)(function*(E){const A=Je(E);A.wu.add(4),yield Bm(A),A.yu.set("Unknown"),A.wu.delete(4),yield m0(A)}),function(E){return y.apply(this,arguments)})(d))}))}),this.yu=new ck(r,i)}}function m0(n){return jA.apply(this,arguments)}function jA(){return jA=(0,we.Z)(function*(n){if(Nd(n))for(const e of n.mu)yield e(!0)}),jA.apply(this,arguments)}function Bm(n){return HA.apply(this,arguments)}function HA(){return HA=(0,we.Z)(function*(n){for(const e of n.mu)yield e(!1)}),HA.apply(this,arguments)}function RC(n,e){const t=Je(n);t._u.has(e.targetId)||(t._u.set(e.targetId,e),ZA(t)?qA(t):Hm(t).Mo()&&$A(t,e))}function y0(n,e){const t=Je(n),r=Hm(t);t._u.delete(e),r.Mo()&&$M(t,e),0===t._u.size&&(r.Mo()?r.$o():Nd(t)&&t.yu.set("Unknown"))}function $A(n,e){n.pu.Z(e.targetId),Hm(n).Ho(e)}function $M(n,e){n.pu.Z(e),Hm(n).Jo(e)}function qA(n){n.pu=new qP({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n._u.get(e)||null}),Hm(n).start(),n.yu.au()}function ZA(n){return Nd(n)&&!Hm(n).ko()&&n._u.size>0}function Nd(n){return 0===Je(n).wu.size}function qM(n){n.pu=void 0}function dk(n){return GA.apply(this,arguments)}function GA(){return GA=(0,we.Z)(function*(n){n._u.forEach((e,t)=>{$A(n,e)})}),GA.apply(this,arguments)}function hk(n,e){return zA.apply(this,arguments)}function zA(){return zA=(0,we.Z)(function*(n,e){qM(n),ZA(n)?(n.yu.lu(e),qA(n)):n.yu.set("Unknown")}),zA.apply(this,arguments)}function fk(n,e,t){return WA.apply(this,arguments)}function WA(){return WA=(0,we.Z)(function*(n,e,t){if(n.yu.set("Online"),e instanceof Vx&&2===e.state&&e.cause)try{yield(r=(0,we.Z)(function*(i,c){const d=c.cause;for(const f of c.targetIds)i._u.has(f)&&(yield i.remoteSyncer.rejectListen(f,d),i._u.delete(f),i.pu.removeTarget(f))}),function(i,c){return r.apply(this,arguments)})(n,e)}catch(r){Be("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield PC(n,r)}else if(e instanceof _C?n.pu.ut(e):e instanceof Ux?n.pu._t(e):n.pu.ht(e),!t.isEqual(It.min()))try{const r=yield RM(n.localStore);t.compareTo(r)>=0&&(yield function(i,c){const d=i.pu.yt(c);return d.targetChanges.forEach((f,y)=>{if(f.resumeToken.approximateByteSize()>0){const E=i._u.get(y);E&&i._u.set(y,E.withResumeToken(f.resumeToken,c))}}),d.targetMismatches.forEach(f=>{const y=i._u.get(f);if(!y)return;i._u.set(f,y.withResumeToken(qr.EMPTY_BYTE_STRING,y.snapshotVersion)),$M(i,f);const E=new Od(y.target,f,1,y.sequenceNumber);$A(i,E)}),i.remoteSyncer.applyRemoteEvent(d)}(n,t))}catch(r){Be("RemoteStore","Failed to raise snapshot:",r),yield PC(n,r)}var r}),WA.apply(this,arguments)}function PC(n,e,t){return KA.apply(this,arguments)}function KA(){return KA=(0,we.Z)(function*(n,e,t){if(!Lf(e))throw e;n.wu.add(1),yield Bm(n),n.yu.set("Offline"),t||(t=()=>RM(n.localStore)),n.asyncQueue.enqueueRetryable((0,we.Z)(function*(){Be("RemoteStore","Retrying IndexedDB access"),yield t(),n.wu.delete(1),yield m0(n)}))}),KA.apply(this,arguments)}function ZM(n,e){return e().catch(t=>PC(n,t,e))}function jm(n){return YA.apply(this,arguments)}function YA(){return YA=(0,we.Z)(function*(n){const e=Je(n),t=kd(e);let r=e.du.length>0?e.du[e.du.length-1].batchId:-1;for(;pk(e);)try{const i=yield ZN(e.localStore,r);if(null===i){0===e.du.length&&t.$o();break}r=i.batchId,gk(e,i)}catch(i){yield PC(e,i)}GM(e)&&zM(e)}),YA.apply(this,arguments)}function pk(n){return Nd(n)&&n.du.length<10}function gk(n,e){n.du.push(e);const t=kd(n);t.Mo()&&t.Xo&&t.Zo(e.mutations)}function GM(n){return Nd(n)&&!kd(n).ko()&&n.du.length>0}function zM(n){kd(n).start()}function mk(n){return QA.apply(this,arguments)}function QA(){return QA=(0,we.Z)(function*(n){kd(n).nu()}),QA.apply(this,arguments)}function yk(n){return JA.apply(this,arguments)}function JA(){return JA=(0,we.Z)(function*(n){const e=kd(n);for(const t of n.du)e.Zo(t.mutations)}),JA.apply(this,arguments)}function _k(n,e,t){return XA.apply(this,arguments)}function XA(){return XA=(0,we.Z)(function*(n,e,t){const r=n.du.shift(),i=_A.from(r,e,t);yield ZM(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield jm(n)}),XA.apply(this,arguments)}function vk(n,e){return eS.apply(this,arguments)}function eS(){return eS=(0,we.Z)(function*(n,e){var t;e&&kd(n).Xo&&(yield(t=(0,we.Z)(function*(r,i){if(Fx(c=i.code)&&c!==pe.ABORTED){const d=r.du.shift();kd(r).Fo(),yield ZM(r,()=>r.remoteSyncer.rejectFailedWrite(d.batchId,i)),yield jm(r)}var c}),function(r,i){return t.apply(this,arguments)})(n,e)),GM(n)&&zM(n)}),eS.apply(this,arguments)}function WM(n,e){return tS.apply(this,arguments)}function tS(){return tS=(0,we.Z)(function*(n,e){const t=Je(n);t.asyncQueue.verifyOperationInProgress(),Be("RemoteStore","RemoteStore received new credentials");const r=Nd(t);t.wu.add(3),yield Bm(t),r&&t.yu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.wu.delete(3),yield m0(t)}),tS.apply(this,arguments)}function nS(n,e){return rS.apply(this,arguments)}function rS(){return rS=(0,we.Z)(function*(n,e){const t=Je(n);e?(t.wu.delete(2),yield m0(t)):e||(t.wu.add(2),yield Bm(t),t.yu.set("Unknown"))}),rS.apply(this,arguments)}function Hm(n){return n.Iu||(n.Iu=function(e,t,r){const i=Je(e);return i.iu(),new ok(t,i.So,i.authCredentials,i.appCheckCredentials,i.M,r)}(n.datastore,n.asyncQueue,{Xr:dk.bind(null,n),eo:hk.bind(null,n),zo:fk.bind(null,n)}),n.mu.push(function(){var e=(0,we.Z)(function*(t){t?(n.Iu.Fo(),ZA(n)?qA(n):n.yu.set("Unknown")):(yield n.Iu.stop(),qM(n))});return function(t){return e.apply(this,arguments)}}())),n.Iu}function kd(n){return n.Tu||(n.Tu=function(e,t,r){const i=Je(e);return i.iu(),new ak(t,i.So,i.authCredentials,i.appCheckCredentials,i.M,r)}(n.datastore,n.asyncQueue,{Xr:mk.bind(null,n),eo:vk.bind(null,n),eu:yk.bind(null,n),tu:_k.bind(null,n)}),n.mu.push(function(){var e=(0,we.Z)(function*(t){t?(n.Tu.Fo(),yield jm(n)):(yield n.Tu.stop(),n.du.length>0&&(Be("RemoteStore",`Stopping write stream with ${n.du.length} pending writes`),n.du=[]))});return function(t){return e.apply(this,arguments)}}())),n.Tu}class iS{constructor(e,t,r,i,c){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=c,this.deferred=new ii,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}static createAndSchedule(e,t,r,i,c){const d=Date.now()+r,f=new iS(e,t,d,i,c);return f.start(r),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Fe(pe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $m(n,e){if(pr("AsyncQueue",`${e}: ${n}`),Lf(n))return new Fe(pe.UNAVAILABLE,`${e}: ${n}`);throw n}class qm{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ye.comparator(t.key,r.key):(t,r)=>Ye.comparator(t.key,r.key),this.keyedMap=hA(),this.sortedSet=new Cr(this.comparator)}static emptySet(e){return new qm(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof qm)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,c=r.getNext().key;if(!i.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new qm;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class KM{constructor(){this.Eu=new Cr(Ye.comparator)}track(e){const t=e.doc.key,r=this.Eu.get(t);r?0!==e.type&&3===r.type?this.Eu=this.Eu.insert(t,e):3===e.type&&1!==r.type?this.Eu=this.Eu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Eu=this.Eu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Eu=this.Eu.remove(t):1===e.type&&2===r.type?this.Eu=this.Eu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):ut():this.Eu=this.Eu.insert(t,e)}Au(){const e=[];return this.Eu.inorderTraversal((t,r)=>{e.push(r)}),e}}class Zm{constructor(e,t,r,i,c,d,f,y){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=f,this.excludesMetadataChanges=y}static fromInitialDocuments(e,t,r,i){const c=[];return t.forEach(d=>{c.push({type:0,doc:d})}),new Zm(e,t,qm.emptySet(t),c,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&_(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class bk{constructor(){this.Ru=void 0,this.listeners=[]}}class wk{constructor(){this.queries=new Md(e=>b(e),_),this.onlineState="Unknown",this.bu=new Set}}function sS(n,e){return oS.apply(this,arguments)}function oS(){return oS=(0,we.Z)(function*(n,e){const t=Je(n),r=e.query;let i=!1,c=t.queries.get(r);if(c||(i=!0,c=new bk),i)try{c.Ru=yield t.onListen(r)}catch(d){const f=$m(d,`Initialization of query '${C(e.query)}' failed`);return void e.onError(f)}t.queries.set(r,c),c.listeners.push(e),e.Pu(t.onlineState),c.Ru&&e.Vu(c.Ru)&&cS(t)}),oS.apply(this,arguments)}function aS(n,e){return uS.apply(this,arguments)}function uS(){return uS=(0,we.Z)(function*(n,e){const t=Je(n),r=e.query;let i=!1;const c=t.queries.get(r);if(c){const d=c.listeners.indexOf(e);d>=0&&(c.listeners.splice(d,1),i=0===c.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),uS.apply(this,arguments)}function Ek(n,e){const t=Je(n);let r=!1;for(const i of e){const d=t.queries.get(i.query);if(d){for(const f of d.listeners)f.Vu(i)&&(r=!0);d.Ru=i}}r&&cS(t)}function Ck(n,e,t){const r=Je(n),i=r.queries.get(e);if(i)for(const c of i.listeners)c.onError(t);r.queries.delete(e)}function cS(n){n.bu.forEach(e=>{e.next()})}class lS{constructor(e,t,r){this.query=e,this.vu=t,this.Su=!1,this.Du=null,this.onlineState="Unknown",this.options=r||{}}Vu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Zm(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.Su?this.Cu(e)&&(this.vu.next(e),t=!0):this.xu(e,this.onlineState)&&(this.Nu(e),t=!0),this.Du=e,t}onError(e){this.vu.error(e)}Pu(e){this.onlineState=e;let t=!1;return this.Du&&!this.Su&&this.xu(this.Du,e)&&(this.Nu(this.Du),t=!0),t}xu(e,t){return!e.fromCache||!(this.options.ku&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}Cu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Du&&this.Du.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Nu(e){e=Zm.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Su=!0,this.vu.next(e)}}class Tk{constructor(e,t){this.payload=e,this.byteLength=t}Mu(){return"metadata"in this.payload}}class YM{constructor(e){this.M=e}wi(e){return sc(this.M,e)}mi(e){return e.metadata.exists?Wx(this.M,e.document,!1):bn.newNoDocument(this.wi(e.metadata.name),this.gi(e.metadata.readTime))}gi(e){return mi(e)}}class Ik{constructor(e,t,r){this.Ou=e,this.localStore=t,this.M=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=QM(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const r=sn.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,r=new YM(this.M);for(const i of e)if(i.metadata.queries){const c=r.wi(i.metadata.name);for(const d of i.metadata.queries){const f=(t.get(d)||An()).add(c);t.set(d,f)}}return t}complete(){var e=this;return(0,we.Z)(function*(){const t=yield function GN(n,e,t,r){return RA.apply(this,arguments)}(e.localStore,new YM(e.M),e.documents,e.Ou.id),r=e.$u(e.documents);for(const i of e.queries)yield zN(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function QM(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class JM{constructor(e){this.key=e}}class XM{constructor(e){this.key=e}}class eO{constructor(e,t){this.query=e,this.Uu=t,this.qu=null,this.current=!1,this.Ku=An(),this.mutatedKeys=An(),this.Gu=k(e),this.Qu=new qm(this.Gu)}get ju(){return this.Uu}Wu(e,t){const r=t?t.zu:new KM,i=t?t.Qu:this.Qu;let c=t?t.mutatedKeys:this.mutatedKeys,d=i,f=!1;const y="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,E="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((A,S)=>{const L=i.get(A),B=D(this.query,S)?S:null,G=!!L&&this.mutatedKeys.has(L.key),fe=!!B&&(B.hasLocalMutations||this.mutatedKeys.has(B.key)&&B.hasCommittedMutations);let Ve=!1;L&&B?L.data.isEqual(B.data)?G!==fe&&(r.track({type:3,doc:B}),Ve=!0):this.Hu(L,B)||(r.track({type:2,doc:B}),Ve=!0,(y&&this.Gu(B,y)>0||E&&this.Gu(B,E)<0)&&(f=!0)):!L&&B?(r.track({type:0,doc:B}),Ve=!0):L&&!B&&(r.track({type:1,doc:L}),Ve=!0,(y||E)&&(f=!0)),Ve&&(B?(d=d.add(B),c=fe?c.add(A):c.delete(A)):(d=d.delete(A),c=c.delete(A)))}),null!==this.query.limit)for(;d.size>this.query.limit;){const A="F"===this.query.limitType?d.last():d.first();d=d.delete(A.key),c=c.delete(A.key),r.track({type:1,doc:A})}return{Qu:d,zu:r,ii:f,mutatedKeys:c}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const c=e.zu.Au();c.sort((E,A)=>function(S,L){const B=G=>{switch(G){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ut()}};return B(S)-B(L)}(E.type,A.type)||this.Gu(E.doc,A.doc)),this.Ju(r);const d=t?this.Yu():[],f=0===this.Ku.size&&this.current?1:0,y=f!==this.qu;return this.qu=f,0!==c.length||y?{snapshot:new Zm(this.query,e.Qu,i,c,e.mutatedKeys,0===f,y,!1),Xu:d}:{Xu:d}}Pu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new KM,mutatedKeys:this.mutatedKeys,ii:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.Uu=this.Uu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Uu=this.Uu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=An(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const t=[];return e.forEach(r=>{this.Ku.has(r)||t.push(new XM(r))}),this.Ku.forEach(r=>{e.has(r)||t.push(new JM(r))}),t}ta(e){this.Uu=e._i,this.Ku=An();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ea(){return Zm.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu)}}class Dk{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class Ak{constructor(e){this.key=e,this.na=!1}}class Sk{constructor(e,t,r,i,c,d){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.sa={},this.ia=new Md(f=>b(f),_),this.ra=new Map,this.oa=new Set,this.ua=new Cr(Ye.comparator),this.aa=new Map,this.ca=new NA,this.ha={},this.la=new Map,this.fa=qf.yn(),this.onlineState="Unknown",this.da=void 0}get isPrimaryClient(){return!0===this.da}}function xk(n,e){return dS.apply(this,arguments)}function dS(){return dS=(0,we.Z)(function*(n,e){const t=NS(n);let r,i;const c=t.ia.get(e);if(c)r=c.targetId,t.sharedClientState.addLocalQueryTarget(r),i=c.view.ea();else{const d=yield Um(t.localStore,h(e));t.isPrimaryClient&&RC(t.remoteStore,d);const f=t.sharedClientState.addLocalQueryTarget(d.targetId);r=d.targetId,i=yield hS(t,e,r,"current"===f)}return i}),dS.apply(this,arguments)}function hS(n,e,t,r){return fS.apply(this,arguments)}function fS(){return fS=(0,we.Z)(function*(n,e,t,r){n._a=(A,S,L)=>{return(B=(0,we.Z)(function*(G,fe,Ve,nt){let pt=fe.view.Wu(Ve);pt.ii&&(pt=yield SC(G.localStore,fe.query,!1).then(({documents:Vt})=>fe.view.Wu(Vt,pt)));const bt=nt&&nt.targetChanges.get(fe.targetId),lt=fe.view.applyChanges(pt,G.isPrimaryClient,bt);return CS(G,fe.targetId,lt.Xu),lt.snapshot}),function(G,fe,Ve,nt){return B.apply(this,arguments)})(n,A,S,L);var B};const i=yield SC(n.localStore,e,!0),c=new eO(e,i._i),d=c.Wu(i.documents),f=t0.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),y=c.applyChanges(d,n.isPrimaryClient,f);CS(n,t,y.Xu);const E=new Dk(e,t,c);return n.ia.set(e,E),n.ra.has(t)?n.ra.get(t).push(e):n.ra.set(t,[e]),y.snapshot}),fS.apply(this,arguments)}function Mk(n,e){return pS.apply(this,arguments)}function pS(){return pS=(0,we.Z)(function*(n,e){const t=Je(n),r=t.ia.get(e),i=t.ra.get(r.targetId);if(i.length>1)return t.ra.set(r.targetId,i.filter(c=>!_(c,e))),void t.ia.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Vm(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),y0(t.remoteStore,r.targetId),Gm(t,r.targetId)}).catch(Zf))):(Gm(t,r.targetId),yield Vm(t.localStore,r.targetId,!0))}),pS.apply(this,arguments)}function gS(){return gS=(0,we.Z)(function*(n,e,t){const r=kS(n);try{const i=yield function(c,d){const f=Je(c),y=rr.now(),E=d.reduce((S,L)=>S.add(L.key),An());let A;return f.persistence.runTransaction("Locally write mutations","readwrite",S=>f.fi.Ks(S,E).next(L=>{A=L;const B=[];for(const G of d){const fe=LP(G,A.get(G.key));null!=fe&&B.push(new Ff(G.key,fe,Zv(fe.value.mapValue),sr.exists(!0)))}return f.Bs.addMutationBatch(S,y,B,d)})).then(S=>(S.applyToLocalDocumentSet(A),{batchId:S.batchId,changes:A}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(c,d,f){let y=c.ha[c.currentUser.toKey()];y||(y=new Cr(Ht)),y=y.insert(d,f),c.ha[c.currentUser.toKey()]=y}(r,i.batchId,t),yield ll(r,i.changes),yield jm(r.remoteStore)}catch(i){const c=$m(i,"Failed to persist write");t.reject(c)}}),gS.apply(this,arguments)}function tO(n,e){return mS.apply(this,arguments)}function mS(){return mS=(0,we.Z)(function*(n,e){const t=Je(n);try{const r=yield qN(t.localStore,e);e.targetChanges.forEach((i,c)=>{const d=t.aa.get(c);d&&(xt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?d.na=!0:i.modifiedDocuments.size>0?xt(d.na):i.removedDocuments.size>0&&(xt(d.na),d.na=!1))}),yield ll(t,r,e)}catch(r){yield Zf(r)}}),mS.apply(this,arguments)}function nO(n,e,t){const r=Je(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ia.forEach((c,d)=>{const f=d.view.Pu(e);f.snapshot&&i.push(f.snapshot)}),function(c,d){const f=Je(c);f.onlineState=d;let y=!1;f.queries.forEach((E,A)=>{for(const S of A.listeners)S.Pu(d)&&(y=!0)}),y&&cS(f)}(r.eventManager,e),i.length&&r.sa.zo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Rk(n,e,t){return yS.apply(this,arguments)}function yS(){return yS=(0,we.Z)(function*(n,e,t){const r=Je(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.aa.get(e),c=i&&i.key;if(c){let d=new Cr(Ye.comparator);d=d.insert(c,bn.newNoDocument(c,It.min()));const f=An().add(c),y=new e0(It.min(),new Map,new Nn(Ht),d,f);yield tO(r,y),r.ua=r.ua.remove(c),r.aa.delete(e),TS(r)}else yield Vm(r.localStore,e,!1).then(()=>Gm(r,e,t)).catch(Zf)}),yS.apply(this,arguments)}function Pk(n,e){return _S.apply(this,arguments)}function _S(){return _S=(0,we.Z)(function*(n,e){const t=Je(n),r=e.batch.batchId;try{const i=yield $N(t.localStore,e);ES(t,r,null),wS(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield ll(t,i)}catch(i){yield Zf(i)}}),_S.apply(this,arguments)}function Nk(n,e,t){return vS.apply(this,arguments)}function vS(){return vS=(0,we.Z)(function*(n,e,t){const r=Je(n);try{const i=yield function(c,d){const f=Je(c);return f.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let E;return f.Bs.lookupMutationBatch(y,d).next(A=>(xt(null!==A),E=A.keys(),f.Bs.removeMutationBatch(y,A))).next(()=>f.Bs.performConsistencyCheck(y)).next(()=>f.fi.Ks(y,E))})}(r.localStore,e);ES(r,e,t),wS(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield ll(r,i)}catch(i){yield Zf(i)}}),vS.apply(this,arguments)}function bS(){return bS=(0,we.Z)(function*(n,e){const t=Je(n);Nd(t.remoteStore)||Be("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(c){const d=Je(c);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",f=>d.Bs.getHighestUnacknowledgedBatchId(f))}(t.localStore);if(-1===r)return void e.resolve();const i=t.la.get(r)||[];i.push(e),t.la.set(r,i)}catch(r){const i=$m(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),bS.apply(this,arguments)}function wS(n,e){(n.la.get(e)||[]).forEach(t=>{t.resolve()}),n.la.delete(e)}function ES(n,e,t){const r=Je(n);let i=r.ha[r.currentUser.toKey()];if(i){const c=i.get(e);c&&(t?c.reject(t):c.resolve(),i=i.remove(e)),r.ha[r.currentUser.toKey()]=i}}function Gm(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.ra.get(e))n.ia.delete(r),t&&n.sa.wa(r,t);n.ra.delete(e),n.isPrimaryClient&&n.ca.vi(e).forEach(r=>{n.ca.containsKey(r)||rO(n,r)})}function rO(n,e){n.oa.delete(e.path.canonicalString());const t=n.ua.get(e);null!==t&&(y0(n.remoteStore,t),n.ua=n.ua.remove(e),n.aa.delete(t),TS(n))}function CS(n,e,t){for(const r of t)r instanceof JM?(n.ca.addReference(r.key,e),Fk(n,r)):r instanceof XM?(Be("SyncEngine","Document no longer in limbo: "+r.key),n.ca.removeReference(r.key,e),n.ca.containsKey(r.key)||rO(n,r.key)):ut()}function Fk(n,e){const t=e.key,r=t.path.canonicalString();n.ua.get(t)||n.oa.has(r)||(Be("SyncEngine","New document in limbo: "+t),n.oa.add(r),TS(n))}function TS(n){for(;n.oa.size>0&&n.ua.size<n.maxConcurrentLimboResolutions;){const e=n.oa.values().next().value;n.oa.delete(e);const t=new Ye(sn.fromString(e)),r=n.fa.next();n.aa.set(r,new Ak(t)),n.ua=n.ua.insert(t,r),RC(n.remoteStore,new Od(h(kf(t.path)),r,2,Ts.A))}}function ll(n,e,t){return IS.apply(this,arguments)}function IS(){return IS=(0,we.Z)(function*(n,e,t){const r=Je(n),i=[],c=[],d=[];var f;r.ia.isEmpty()||(r.ia.forEach((f,y)=>{d.push(r._a(y,e,t).then(E=>{if(E){r.isPrimaryClient&&r.sharedClientState.updateQueryState(y.targetId,E.fromCache?"not-current":"current"),i.push(E);const A=xA.Ys(y.targetId,E);c.push(A)}}))}),yield Promise.all(d),r.sa.zo(i),yield(f=(0,we.Z)(function*(y,E){const A=Je(y);try{yield A.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>_e.forEach(E,L=>_e.forEach(L.Hs,B=>A.persistence.referenceDelegate.addReference(S,L.targetId,B)).next(()=>_e.forEach(L.Js,B=>A.persistence.referenceDelegate.removeReference(S,L.targetId,B)))))}catch(S){if(!Lf(S))throw S;Be("LocalStore","Failed to update sequence numbers: "+S)}for(const S of E){const L=S.targetId;if(!S.fromCache){const B=A.ui.get(L),fe=B.withLastLimboFreeSnapshotVersion(B.snapshotVersion);A.ui=A.ui.insert(L,fe)}}}),function(y,E){return f.apply(this,arguments)})(r.localStore,c))}),IS.apply(this,arguments)}function Lk(n,e){return DS.apply(this,arguments)}function DS(){return DS=(0,we.Z)(function*(n,e){const t=Je(n);if(!t.currentUser.isEqual(e)){Be("SyncEngine","User change. New user:",e.toKey());const r=yield OM(t.localStore,e);t.currentUser=e,(i=t).la.forEach(d=>{d.forEach(f=>{f.reject(new Fe(pe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.la.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield ll(t,r.di)}var i}),DS.apply(this,arguments)}function Uk(n,e){const t=Je(n),r=t.aa.get(e);if(r&&r.na)return An().add(r.key);{let i=An();const c=t.ra.get(e);if(!c)return i;for(const d of c){const f=t.ia.get(d);i=i.unionWith(f.view.ju)}return i}}function Vk(n,e){return AS.apply(this,arguments)}function AS(){return AS=(0,we.Z)(function*(n,e){const t=Je(n),r=yield SC(t.localStore,e.query,!0),i=e.view.ta(r);return t.isPrimaryClient&&CS(t,e.targetId,i.Xu),i}),AS.apply(this,arguments)}function Bk(n,e){return SS.apply(this,arguments)}function SS(){return SS=(0,we.Z)(function*(n,e){const t=Je(n);return kM(t.localStore,e).then(r=>ll(t,r))}),SS.apply(this,arguments)}function jk(n,e,t,r){return xS.apply(this,arguments)}function xS(){return xS=(0,we.Z)(function*(n,e,t,r){const i=Je(n),c=yield function(d,f){const y=Je(d),E=Je(y.Bs);return y.persistence.runTransaction("Lookup mutation documents","readonly",A=>E.fn(A,f).next(S=>S?y.fi.Ks(A,S):_e.resolve(null)))}(i.localStore,e);var f;null!==c?("pending"===t?yield jm(i.remoteStore):"acknowledged"===t||"rejected"===t?(ES(i,e,r||null),wS(i,e),f=e,Je(Je(i.localStore).Bs)._n(f)):ut(),yield ll(i,c)):Be("SyncEngine","Cannot apply mutation batch with id: "+e)}),xS.apply(this,arguments)}function MS(){return MS=(0,we.Z)(function*(n,e){const t=Je(n);if(NS(t),kS(t),!0===e&&!0!==t.da){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield iO(t,r.toArray());t.da=!0,yield nS(t.remoteStore,!0);for(const c of i)RC(t.remoteStore,c)}else if(!1===e&&!1!==t.da){const r=[];let i=Promise.resolve();t.ra.forEach((c,d)=>{t.sharedClientState.isLocalQueryTarget(d)?r.push(d):i=i.then(()=>(Gm(t,d),Vm(t.localStore,d,!0))),y0(t.remoteStore,d)}),yield i,yield iO(t,r),function(c){const d=Je(c);d.aa.forEach((f,y)=>{y0(d.remoteStore,y)}),d.ca.Si(),d.aa=new Map,d.ua=new Cr(Ye.comparator)}(t),t.da=!1,yield nS(t.remoteStore,!1)}}),MS.apply(this,arguments)}function iO(n,e,t){return OS.apply(this,arguments)}function OS(){return OS=(0,we.Z)(function*(n,e,t){const r=Je(n),i=[],c=[];for(const d of e){let f;const y=r.ra.get(d);if(y&&0!==y.length){f=yield Um(r.localStore,h(y[0]));for(const E of y){const A=r.ia.get(E),S=yield Vk(r,A);S.snapshot&&c.push(S.snapshot)}}else{const E=yield NM(r.localStore,d);f=yield Um(r.localStore,E),yield hS(r,sO(E),d,!1)}i.push(f)}return r.sa.zo(c),i}),OS.apply(this,arguments)}function sO(n){return cA(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function $k(n){const e=Je(n);return Je(Je(e.localStore).persistence).Fs()}function qk(n,e,t,r){return RS.apply(this,arguments)}function RS(){return RS=(0,we.Z)(function*(n,e,t,r){const i=Je(n);if(i.da)return void Be("SyncEngine","Ignoring unexpected query state notification.");const c=i.ra.get(e);if(c&&c.length>0)switch(t){case"current":case"not-current":{const d=yield kM(i.localStore,M(c[0])),f=e0.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield ll(i,d,f);break}case"rejected":yield Vm(i.localStore,e,!0),Gm(i,e,r);break;default:ut()}}),RS.apply(this,arguments)}function Zk(n,e,t){return PS.apply(this,arguments)}function PS(){return PS=(0,we.Z)(function*(n,e,t){const r=NS(n);if(r.da){for(const i of e){if(r.ra.has(i)){Be("SyncEngine","Adding an already active target "+i);continue}const c=yield NM(r.localStore,i),d=yield Um(r.localStore,c);yield hS(r,sO(c),d.targetId,!1),RC(r.remoteStore,d)}for(const i of t)r.ra.has(i)&&(yield Vm(r.localStore,i,!1).then(()=>{y0(r.remoteStore,i),Gm(r,i)}).catch(Zf))}}),PS.apply(this,arguments)}function NS(n){const e=Je(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=tO.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Uk.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Rk.bind(null,e),e.sa.zo=Ek.bind(null,e.eventManager),e.sa.wa=Ck.bind(null,e.eventManager),e}function kS(n){const e=Je(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Pk.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Nk.bind(null,e),e}class oO{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,we.Z)(function*(){t.M=g0(e.databaseInfo.databaseId),t.sharedClientState=t.ga(e),t.persistence=t.ya(e),yield t.persistence.start(),t.gcScheduler=t.pa(e),t.localStore=t.Ia(e)})()}pa(e){return null}Ia(e){return MM(this.persistence,new xM,e.initialUser,this.M)}ya(e){return new ek(kA.Yi,this.M)}ga(e){return new VM}terminate(){var e=this;return(0,we.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class aO extends oO{constructor(e,t,r){super(),this.Ta=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,we.Z)(function*(){yield t().call(r,e),yield r.Ta.initialize(r,e),yield kS(r.Ta.syncEngine),yield jm(r.Ta.remoteStore),yield r.persistence.Ts(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()))})()}Ia(e){return MM(this.persistence,new xM,e.initialUser,this.M)}pa(e){return new kN(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}ya(e){const t=SA(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Zs.withCacheSize(this.cacheSizeBytes):Zs.DEFAULT;return new AA(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,jM(),OC(),this.M,this.sharedClientState,!!this.forceOwnership)}ga(e){return new VM}}class zk extends aO{constructor(e,t){super(e,t,!1),this.Ta=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,we.Z)(function*(){yield t().call(r,e);const i=r.Ta.syncEngine;r.sharedClientState instanceof VA&&(r.sharedClientState.syncEngine={$r:jk.bind(null,i),Br:qk.bind(null,i),Lr:Zk.bind(null,i),Fs:$k.bind(null,i),Fr:Bk.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.Ts(function(){var c=(0,we.Z)(function*(d){yield function Hk(n,e){return MS.apply(this,arguments)}(r.Ta.syncEngine,d),r.gcScheduler&&(d&&!r.gcScheduler.started?r.gcScheduler.start(r.localStore):d||r.gcScheduler.stop())});return function(d){return c.apply(this,arguments)}}())})()}ga(e){const t=jM();if(!VA.vt(t))throw new Fe(pe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=SA(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new VA(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class FS{initialize(e,t){var r=this;return(0,we.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>nO(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=Lk.bind(null,r.syncEngine),yield nS(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new wk}createDatastore(e){const t=g0(e.databaseInfo.databaseId),r=new sk(e.databaseInfo);return new uk(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,c=f=>nO(this.syncEngine,f,0),d=BM.vt()?new BM:new nk,new lk(t,r,i,c,d);var t,r,i,c,d}createSyncEngine(e,t){return function(r,i,c,d,f,y,E){const A=new Sk(r,i,c,d,f,y);return E&&(A.da=!0),A}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,we.Z)(function*(t){const r=Je(t);Be("RemoteStore","RemoteStore shutting down."),r.wu.add(5),yield Bm(r),r.gu.shutdown(),r.yu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function uO(n,e=10240){let t=0;return{read:()=>(0,we.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,we.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class NC{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ea(this.observer.next,e)}error(e){this.observer.error?this.Ea(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Aa(){this.muted=!0}Ea(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Wk{constructor(e,t){this.Ra=e,this.M=t,this.metadata=new ii,this.buffer=new Uint8Array,this.ba=new TextDecoder("utf-8"),this.Pa().then(r=>{r&&r.Mu()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.Ra.cancel()}getMetadata(){var e=this;return(0,we.Z)(function*(){return e.metadata.promise})()}ma(){var e=this;return(0,we.Z)(function*(){return yield e.getMetadata(),e.Pa()})()}Pa(){var e=this;return(0,we.Z)(function*(){const t=yield e.Va();if(null===t)return null;const r=e.ba.decode(t),i=Number(r);isNaN(i)&&e.va(`length string (${r}) is not valid number`);const c=yield e.Sa(i);return new Tk(JSON.parse(c),t.length+i)})()}Da(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Va(){var e=this;return(0,we.Z)(function*(){for(;e.Da()<0&&!(yield e.Ca()););if(0===e.buffer.length)return null;const t=e.Da();t<0&&e.va("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}Sa(e){var t=this;return(0,we.Z)(function*(){for(;t.buffer.length<e;)(yield t.Ca())&&t.va("Reached the end of bundle when more is expected.");const r=t.ba.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}va(e){throw this.Ra.cancel(),new Error(`Invalid bundle format: ${e}`)}Ca(){var e=this;return(0,we.Z)(function*(){const t=yield e.Ra.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class Kk{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,we.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Fe(pe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,we.Z)(function*(c,d){const f=Je(c),y=s0(f.M)+"/documents",E={documents:d.map(B=>r0(f.M,B))},A=yield f._o("BatchGetDocuments",y,E),S=new Map;A.forEach(B=>{const G=function KP(n,e){return"found"in e?function(t,r){xt(!!r.found);const i=sc(t,r.found.name),c=mi(r.found.updateTime),d=new gi({mapValue:{fields:r.found.fields}});return bn.newFoundDocument(i,c,d)}(n,e):"missing"in e?function(t,r){xt(!!r.missing),xt(!!r.readTime);const i=sc(t,r.missing),c=mi(r.readTime);return bn.newNoDocument(i,c)}(n,e):ut()}(f.M,B);S.set(G.key.toString(),G)});const L=[];return d.forEach(B=>{const G=S.get(B.toString());xt(!!G),L.push(G)}),L}),function(c,d){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Jv(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,we.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const c=Ye.fromPath(i);e.mutations.push(new dA(c,e.precondition(c)))}),yield(r=(0,we.Z)(function*(i,c){const d=Je(i),f=s0(d.M)+"/documents",y={writes:c.map(E=>o0(d.M,E))};yield d.co("Commit",f,y)}),function(i,c){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ut();t=It.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Fe(pe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?sr.updateTime(t):sr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(It.min()))throw new Fe(pe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return sr.updateTime(t)}return sr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Yk{constructor(e,t,r,i,c){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=c,this.xa=r.maxAttempts,this.No=new BA(this.asyncQueue,"transaction_retry")}run(){this.xa-=1,this.Na()}Na(){var e=this;this.No.Ro((0,we.Z)(function*(){const t=new Kk(e.datastore),r=e.ka(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(c=>{e.Ma(c)}))}).catch(i=>{e.Ma(i)})}))}ka(e){try{const t=this.updateFunction(e);return!Tf(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Ma(e){this.xa>0&&this.Oa(e)?(this.xa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Na(),Promise.resolve()))):this.deferred.reject(e)}Oa(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!Fx(t)}return!1}}class Qk{constructor(e,t,r,i){var c=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=$r.UNAUTHENTICATED,this.clientId=oC.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var d=(0,we.Z)(function*(f){Be("FirestoreClient","Received user=",f.uid),yield c.authCredentialListener(f),c.user=f});return function(f){return d.apply(this,arguments)}}()),this.appCheckCredentials.start(r,d=>(Be("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}getConfiguration(){var e=this;return(0,we.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Fe(pe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new ii;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,we.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=$m(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function cO(n,e){return LS.apply(this,arguments)}function LS(){return LS=(0,we.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Be("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,we.Z)(function*(c){r.isEqual(c)||(yield OM(e.localStore,c),r=c)});return function(c){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),LS.apply(this,arguments)}function lO(n,e){return US.apply(this,arguments)}function US(){return US=(0,we.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield VS(n);Be("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>WM(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,c)=>WM(e.remoteStore,c)),n.onlineComponents=e}),US.apply(this,arguments)}function VS(n){return BS.apply(this,arguments)}function BS(){return BS=(0,we.Z)(function*(n){return n.offlineComponents||(Be("FirestoreClient","Using default OfflineComponentProvider"),yield cO(n,new oO)),n.offlineComponents}),BS.apply(this,arguments)}function kC(n){return jS.apply(this,arguments)}function jS(){return jS=(0,we.Z)(function*(n){return n.onlineComponents||(Be("FirestoreClient","Using default OnlineComponentProvider"),yield lO(n,new FS)),n.onlineComponents}),jS.apply(this,arguments)}function dO(n){return VS(n).then(e=>e.persistence)}function HS(n){return VS(n).then(e=>e.localStore)}function hO(n){return kC(n).then(e=>e.remoteStore)}function $S(n){return kC(n).then(e=>e.syncEngine)}function zm(n){return qS.apply(this,arguments)}function qS(){return qS=(0,we.Z)(function*(n){const e=yield kC(n),t=e.eventManager;return t.onListen=xk.bind(null,e.syncEngine),t.onUnlisten=Mk.bind(null,e.syncEngine),t}),qS.apply(this,arguments)}function fO(n,e,t={}){const r=new ii;return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function(i,c,d,f,y){const E=new NC({next:S=>{c.enqueueAndForget(()=>aS(i,A));const L=S.docs.has(d);!L&&S.fromCache?y.reject(new Fe(pe.UNAVAILABLE,"Failed to get document because the client is offline.")):L&&S.fromCache&&f&&"server"===f.source?y.reject(new Fe(pe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(S)},error:S=>y.reject(S)}),A=new lS(kf(d.path),E,{includeMetadataChanges:!0,ku:!0});return sS(i,A)}(yield zm(n),n.asyncQueue,e,t,r)})),r.promise}function pO(n,e,t={}){const r=new ii;return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function(i,c,d,f,y){const E=new NC({next:S=>{c.enqueueAndForget(()=>aS(i,A)),S.fromCache&&"server"===f.source?y.reject(new Fe(pe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(S)},error:S=>y.reject(S)}),A=new lS(d,E,{includeMetadataChanges:!0,ku:!0});return sS(i,A)}(yield zm(n),n.asyncQueue,e,t,r)})),r.promise}const gO=new Map;function ZS(n,e,t){if(!t)throw new Fe(pe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function mO(n,e,t,r){if(!0===e&&!0===r)throw new Fe(pe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function yO(n){if(!Ye.isDocumentKey(n))throw new Fe(pe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function _O(n){if(Ye.isDocumentKey(n))throw new Fe(pe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function FC(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":ut()}function dn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Fe(pe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=FC(n);throw new Fe(pe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function vO(n,e){if(e<=0)throw new Fe(pe.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class bO{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Fe(pe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Fe(pe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,mO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class _0{constructor(e,t,r){this._authCredentials=t,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new bO({}),this._settingsFrozen=!1,e instanceof la?this._databaseId=e:(this._app=e,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new Fe(pe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new la(i.options.projectId)}(e))}get app(){if(!this._app)throw new Fe(pe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Fe(pe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new bO(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new qD;switch(t.type){case"gapi":const r=t.client;return xt(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new zD(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Fe(pe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=gO.get(e);t&&(Be("ComponentProvider","Removing Datastore"),gO.delete(e),t.terminate())}(this),Promise.resolve()}}class Xn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ac(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Xn(this.firestore,e,this._key)}}class Yi{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Yi(this.firestore,e,this._query)}}class ac extends Yi{constructor(e,t,r){super(e,t,kf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Xn(this.firestore,null,new Ye(e))}withConverter(e){return new ac(this.firestore,e,this._path)}}function wO(n,e,...t){if(n=(0,vt.m9)(n),ZS("collection","path",e),n instanceof _0){const r=sn.fromString(e,...t);return _O(r),new ac(n,null,r)}{if(!(n instanceof Xn||n instanceof ac))throw new Fe(pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(sn.fromString(e,...t));return _O(r),new ac(n.firestore,null,r)}}function LC(n,e,...t){if(n=(0,vt.m9)(n),1===arguments.length&&(e=oC.R()),ZS("doc","path",e),n instanceof _0){const r=sn.fromString(e,...t);return yO(r),new Xn(n,null,new Ye(r))}{if(!(n instanceof Xn||n instanceof ac))throw new Fe(pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(sn.fromString(e,...t));return yO(r),new Xn(n.firestore,n instanceof ac?n.converter:null,new Ye(r))}}function EO(n,e){return n=(0,vt.m9)(n),e=(0,vt.m9)(e),(n instanceof Xn||n instanceof ac)&&(e instanceof Xn||e instanceof ac)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function CO(n,e){return n=(0,vt.m9)(n),e=(0,vt.m9)(e),n instanceof Yi&&e instanceof Yi&&n.firestore===e.firestore&&_(n._query,e._query)&&n.converter===e.converter}class uF{constructor(){this.Fa=Promise.resolve(),this.$a=[],this.Ba=!1,this.La=[],this.Ua=null,this.qa=!1,this.Ka=!1,this.Ga=[],this.No=new BA(this,"async_queue_retry"),this.Qa=()=>{const t=OC();t&&Be("AsyncQueue","Visibility state changed to "+t.visibilityState),this.No.Po()};const e=OC();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Qa)}get isShuttingDown(){return this.Ba}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ja(),this.Wa(e)}enterRestrictedMode(e){if(!this.Ba){this.Ba=!0,this.Ka=e||!1;const t=OC();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Qa)}}enqueue(e){if(this.ja(),this.Ba)return new Promise(()=>{});const t=new ii;return this.Wa(()=>this.Ba&&this.Ka?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.$a.push(e),this.za()))}za(){var e=this;return(0,we.Z)(function*(){if(0!==e.$a.length){try{yield e.$a[0](),e.$a.shift(),e.No.reset()}catch(t){if(!Lf(t))throw t;Be("AsyncQueue","Operation failed with retryable error: "+t)}e.$a.length>0&&e.No.Ro(()=>e.za())}})()}Wa(e){const t=this.Fa.then(()=>(this.qa=!0,e().catch(r=>{throw this.Ua=r,this.qa=!1,pr("INTERNAL UNHANDLED ERROR: ",function(c){let d=c.message||"";return c.stack&&(d=c.stack.includes(c.message)?c.stack:c.message+"\n"+c.stack),d}(r)),r}).then(r=>(this.qa=!1,r))));return this.Fa=t,t}enqueueAfterDelay(e,t,r){this.ja(),this.Ga.indexOf(e)>-1&&(t=0);const i=iS.createAndSchedule(this,e,t,r,c=>this.Ha(c));return this.La.push(i),i}ja(){this.Ua&&ut()}verifyOperationInProgress(){}Ja(){var e=this;return(0,we.Z)(function*(){let t;do{t=e.Fa,yield t}while(t!==e.Fa)})()}Ya(e){for(const t of this.La)if(t.timerId===e)return!0;return!1}Xa(e){return this.Ja().then(()=>{this.La.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.La)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Ja()})}Za(e){this.Ga.push(e)}Ha(e){const t=this.La.indexOf(e);this.La.splice(t,1)}}function GS(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class cF{constructor(){this._progressObserver={},this._taskCompletionResolver=new ii,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class or extends _0{constructor(e,t,r){super(e,t,r),this.type="firestore",this._queue=new uF,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||TO(this),this._firestoreClient.terminate()}}function Wr(n){return n._firestoreClient||TO(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function TO(n){var e;const t=n._freezeSettings(),r=(c=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new jv(n._databaseId,c,n._persistenceKey,(f=t).host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,f.useFetchStreams));var c,f;n._firestoreClient=new Qk(n._authCredentials,n._appCheckCredentials,n._queue,r)}function IO(n,e,t){const r=new ii;return n.asyncQueue.enqueue((0,we.Z)(function*(){try{yield cO(n,t),yield lO(n,e),r.resolve()}catch(i){if(!("FirebaseError"===(c=i).name?c.code===pe.FAILED_PRECONDITION||c.code===pe.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&c instanceof DOMException)||22===c.code||20===c.code||11===c.code))throw i;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i),r.reject(i)}var c})).then(()=>r.promise)}function DO(n){if(n._initialized||n._terminated)throw new Fe(pe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class dl{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Fe(pe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Er(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class uc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new uc(qr.fromBase64String(e))}catch(t){throw new Fe(pe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new uc(qr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class zf{constructor(e){this._methodName=e}}class UC{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Fe(pe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Fe(pe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ht(this._lat,e._lat)||Ht(this._long,e._long)}}const vF=/^__.*__$/;class bF{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Ff(e,this.data,this.fieldMask,t,this.fieldTransforms):new Qv(e,this.data,t,this.fieldTransforms)}}class AO{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Ff(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function SO(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ut()}}class VC{constructor(e,t,r,i,c,d){this.settings=e,this.databaseId=t,this.M=r,this.ignoreUndefinedProperties=i,void 0===c&&this.tc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get ec(){return this.settings.ec}nc(e){return new VC(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}sc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.nc({path:r,ic:!1});return i.rc(e),i}oc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.nc({path:r,ic:!1});return i.tc(),i}uc(e){return this.nc({path:void 0,ic:!0})}ac(e){return HC(e,this.settings.methodName,this.settings.cc||!1,this.path,this.settings.hc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}tc(){if(this.path)for(let e=0;e<this.path.length;e++)this.rc(this.path.get(e))}rc(e){if(0===e.length)throw this.ac("Document fields must not be empty");if(SO(this.ec)&&vF.test(e))throw this.ac('Document fields cannot begin and end with "__"')}}class wF{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.M=r||g0(e)}lc(e,t,r,i=!1){return new VC({ec:e,methodName:t,hc:r,path:Er.emptyPath(),ic:!1,cc:i},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function Wf(n){const e=n._freezeSettings(),t=g0(n._databaseId);return new wF(n._databaseId,!!e.ignoreUndefinedProperties,t)}function BC(n,e,t,r,i,c={}){const d=n.lc(c.merge||c.mergeFields?2:0,e,t,i);YS("Data must be an object, but it was:",d,r);const f=OO(r,d);let y,E;if(c.merge)y=new sl(d.fieldMask),E=d.fieldTransforms;else if(c.mergeFields){const A=[];for(const S of c.mergeFields){const L=QS(e,S,t);if(!d.contains(L))throw new Fe(pe.INVALID_ARGUMENT,`Field '${L}' is specified in your field mask but missing from your input data.`);PO(A,L)||A.push(L)}y=new sl(A),E=d.fieldTransforms.filter(S=>y.covers(S.field))}else y=null,E=d.fieldTransforms;return new bF(new gi(f),y,E)}class v0 extends zf{_toFieldTransform(e){if(2!==e.ec)throw e.ac(1===e.ec?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof v0}}function xO(n,e,t){return new VC({ec:3,hc:e.settings.hc,methodName:n._methodName,ic:t},e.databaseId,e.M,e.ignoreUndefinedProperties)}class zS extends zf{_toFieldTransform(e){return new cl(e.path,new $t)}isEqual(e){return e instanceof zS}}class EF extends zf{constructor(e,t){super(e),this.fc=t}_toFieldTransform(e){const t=xO(this,e,!0),r=this.fc.map(c=>Kf(c,t)),i=new on(r);return new cl(e.path,i)}isEqual(e){return this===e}}class CF extends zf{constructor(e,t){super(e),this.fc=t}_toFieldTransform(e){const t=xO(this,e,!0),r=this.fc.map(c=>Kf(c,t)),i=new Is(r);return new cl(e.path,i)}isEqual(e){return this===e}}class TF extends zf{constructor(e,t){super(e),this.dc=t}_toFieldTransform(e){const t=new ic(e.M,He(e.M,this.dc));return new cl(e.path,t)}isEqual(e){return this===e}}function WS(n,e,t,r){const i=n.lc(1,e,t);YS("Data must be an object, but it was:",i,r);const c=[],d=gi.empty();rl(r,(y,E)=>{const A=jC(e,y,t);E=(0,vt.m9)(E);const S=i.oc(A);if(E instanceof v0)c.push(A);else{const L=Kf(E,S);null!=L&&(c.push(A),d.set(A,L))}});const f=new sl(c);return new AO(d,f,i.fieldTransforms)}function KS(n,e,t,r,i,c){const d=n.lc(1,e,t),f=[QS(e,r,t)],y=[i];if(c.length%2!=0)throw new Fe(pe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let L=0;L<c.length;L+=2)f.push(QS(e,c[L])),y.push(c[L+1]);const E=[],A=gi.empty();for(let L=f.length-1;L>=0;--L)if(!PO(E,f[L])){const B=f[L];let G=y[L];G=(0,vt.m9)(G);const fe=d.oc(B);if(G instanceof v0)E.push(B);else{const Ve=Kf(G,fe);null!=Ve&&(E.push(B),A.set(B,Ve))}}const S=new sl(E);return new AO(A,S,d.fieldTransforms)}function MO(n,e,t,r=!1){return Kf(t,n.lc(r?4:3,e))}function Kf(n,e){if(RO(n=(0,vt.m9)(n)))return YS("Unsupported field value:",e,n),OO(n,e);if(n instanceof zf)return function(t,r){if(!SO(r.ec))throw r.ac(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ac(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.ic&&4!==e.ec)throw e.ac("Nested arrays are not supported");return function(t,r){const i=[];let c=0;for(const d of t){let f=Kf(d,r.uc(c));null==f&&(f={nullValue:"NULL_VALUE"}),i.push(f),c++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,vt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return He(r.M,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=rr.fromDate(t);return{timestampValue:n0(r.M,i)}}if(t instanceof rr){const i=new rr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:n0(r.M,i)}}if(t instanceof UC)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof uc)return{bytesValue:$x(r.M,t._byteString)};if(t instanceof Xn){const i=r.databaseId,c=t.firestore._databaseId;if(!c.isEqual(i))throw r.ac(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:fA(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.ac(`Unsupported field value: ${FC(t)}`)}(n,e)}function OO(n,e){const t={};return aC(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):rl(n,(r,i)=>{const c=Kf(i,e.sc(r));null!=c&&(t[r]=c)}),{mapValue:{fields:t}}}function RO(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof rr||n instanceof UC||n instanceof uc||n instanceof Xn||n instanceof zf)}function YS(n,e,t){if(!RO(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=FC(t);throw e.ac("an object"===r?n+" a custom object":n+" "+r)}var r}function QS(n,e,t){if((e=(0,vt.m9)(e))instanceof dl)return e._internalPath;if("string"==typeof e)return jC(n,e);throw HC("Field path arguments must be of type string or ",n,!1,void 0,t)}const IF=new RegExp("[~\\*/\\[\\]]");function jC(n,e,t){if(e.search(IF)>=0)throw HC(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new dl(...e.split("."))._internalPath}catch(r){throw HC(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function HC(n,e,t,r,i){const c=r&&!r.isEmpty(),d=void 0!==i;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${r}`),d&&(y+=` in document ${i}`),y+=")"),new Fe(pe.INVALID_ARGUMENT,f+n+y)}function PO(n,e){return n.some(t=>t.isEqual(e))}class b0{constructor(e,t,r,i,c){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Xn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new DF(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field($C("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class DF extends b0{data(){return super.data()}}function $C(n,e){return"string"==typeof e?jC(n,e):e instanceof dl?e._internalPath:e._delegate._internalPath}class Yf{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class hl extends b0{constructor(e,t,r,i,c,d){super(e,t,r,i,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new w0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field($C("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class w0 extends hl{data(e={}){return super.data(e)}}class Fd{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Yf(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new w0(this._firestore,this._userDataWriter,r.key,r,new Yf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Fe(pe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let c=0;return r._snapshot.docChanges.map(d=>({type:"added",doc:new w0(r._firestore,r._userDataWriter,d.doc.key,d.doc,new Yf(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:c++}))}{let c=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(d=>i||3!==d.type).map(d=>{const f=new w0(r._firestore,r._userDataWriter,d.doc.key,d.doc,new Yf(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter);let y=-1,E=-1;return 0!==d.type&&(y=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),1!==d.type&&(c=c.add(d.doc),E=c.indexOf(d.doc.key)),{type:AF(d.type),doc:f,oldIndex:y,newIndex:E}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function AF(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ut()}}function NO(n,e){return n instanceof hl&&e instanceof hl?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Fd&&e instanceof Fd&&n._firestore===e._firestore&&CO(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function kO(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Fe(pe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class E0{}function Ld(n,...e){for(const t of e)n=t._apply(n);return n}class SF extends E0{constructor(e,t,r){super(),this._c=e,this.wc=t,this.mc=r,this.type="where"}_apply(e){const t=Wf(e.firestore),r=function(i,c,d,f,y,E,A){let S;if(y.isKeyField()){if("array-contains"===E||"array-contains-any"===E)throw new Fe(pe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if("in"===E||"not-in"===E){jO(A,E);const B=[];for(const G of A)B.push(BO(f,i,G));S={arrayValue:{values:B}}}else S=BO(f,i,A)}else"in"!==E&&"not-in"!==E&&"array-contains-any"!==E||jO(A,E),S=MO(d,"where",A,"in"===E||"not-in"===E);const L=Gr.create(y,E,S);return function(B,G){if(G.S()){const Ve=o(B);if(null!==Ve&&!Ve.isEqual(G.field))throw new Fe(pe.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Ve.toString()}' and '${G.field.toString()}'`);const nt=s(B);null!==nt&&HO(0,G.field,nt)}const fe=function(Ve,nt){for(const pt of Ve.filters)if(nt.indexOf(pt.op)>=0)return pt.op;return null}(B,function(Ve){switch(Ve){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(G.op));if(null!==fe)throw new Fe(pe.INVALID_ARGUMENT,fe===G.op?`Invalid query. You cannot use more than one '${G.op.toString()}' filter.`:`Invalid query. You cannot use '${G.op.toString()}' filters with '${fe.toString()}' filters.`)}(i,L),L}(e._query,0,t,e.firestore._databaseId,this._c,this.wc,this.mc);return new Yi(e.firestore,e.converter,function(i,c){const d=i.filters.concat([c]);return new rc(i.path,i.collectionGroup,i.explicitOrderBy.slice(),d,i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}class MF extends E0{constructor(e,t){super(),this._c=e,this.gc=t,this.type="orderBy"}_apply(e){const t=function(r,i,c){if(null!==r.startAt)throw new Fe(pe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Fe(pe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const d=new Nf(i,c);return function(f,y){if(null===s(f)){const E=o(f);null!==E&&HO(0,E,y.field)}}(r,d),d}(e._query,this._c,this.gc);return new Yi(e.firestore,e.converter,function(r,i){const c=r.explicitOrderBy.concat([i]);return new rc(r.path,r.collectionGroup,c,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class FO extends E0{constructor(e,t,r){super(),this.type=e,this.yc=t,this.Ic=r}_apply(e){return new Yi(e.firestore,e.converter,p(e._query,this.yc,this.Ic))}}class LO extends E0{constructor(e,t,r){super(),this.type=e,this.Tc=t,this.Ec=r}_apply(e){const t=VO(e,this.type,this.Tc,this.Ec);return new Yi(e.firestore,e.converter,(i=t,new rc((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class UO extends E0{constructor(e,t,r){super(),this.type=e,this.Tc=t,this.Ec=r}_apply(e){const t=VO(e,this.type,this.Tc,this.Ec);return new Yi(e.firestore,e.converter,(i=t,new rc((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function VO(n,e,t,r){if(t[0]=(0,vt.m9)(t[0]),t[0]instanceof b0)return function(i,c,d,f,y){if(!f)throw new Fe(pe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const E=[];for(const A of l(i))if(A.field.isKeyField())E.push(tc(c,f.key));else{const S=f.data.field(A.field);if(Bv(S))throw new Fe(pe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+A.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===S){const L=A.field.canonicalString();throw new Fe(pe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${L}' (used as the orderBy) does not exist.`)}E.push(S)}return new ul(E,y)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=Wf(n.firestore);return function(c,d,f,y,E,A){const S=c.explicitOrderBy;if(E.length>S.length)throw new Fe(pe.INVALID_ARGUMENT,`Too many arguments provided to ${y}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const L=[];for(let B=0;B<E.length;B++){const G=E[B];if(S[B].field.isKeyField()){if("string"!=typeof G)throw new Fe(pe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${y}(), but got a ${typeof G}`);if(!u(c)&&-1!==G.indexOf("/"))throw new Fe(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${y}() must be a plain document ID, but '${G}' contains a slash.`);const fe=c.path.child(sn.fromString(G));if(!Ye.isDocumentKey(fe))throw new Fe(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${y}() must result in a valid document path, but '${fe}' is not because it contains an odd number of segments.`);const Ve=new Ye(fe);L.push(tc(d,Ve))}else{const fe=MO(f,y,G);L.push(fe)}}return new ul(L,A)}(n._query,n.firestore._databaseId,i,e,t,r)}}function BO(n,e,t){if("string"==typeof(t=(0,vt.m9)(t))){if(""===t)throw new Fe(pe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!u(e)&&-1!==t.indexOf("/"))throw new Fe(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(sn.fromString(t));if(!Ye.isDocumentKey(r))throw new Fe(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return tc(n,new Ye(r))}if(t instanceof Xn)return tc(n,t._key);throw new Fe(pe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${FC(t)}.`)}function jO(n,e){if(!Array.isArray(n)||0===n.length)throw new Fe(pe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Fe(pe.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function HO(n,e,t){if(!t.isEqual(e))throw new Fe(pe.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}const UF={maxAttempts:5};class JS{convertValue(e,t="none"){switch(ol(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ir(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Xu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ut()}}convertObject(e,t){const r={};return rl(e.fields,(i,c)=>{r[i]=this.convertValue(c,t)}),r}convertGeoPoint(e){return new UC(ir(e.latitude),ir(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=uC(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Cm(e));default:return null}}convertTimestamp(e){const t=Ju(e);return new rr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=sn.fromString(e);xt(Xx(r));const i=new la(r.get(1),r.get(3)),c=new Ye(r.popFirst(5));return i.isEqual(t)||pr(`Document ${c} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),c}}function qC(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class VF extends JS{constructor(e){super(),this.firestore=e}convertBytes(e){return new uc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Xn(this.firestore,null,t)}}class $O{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Wf(e)}set(e,t,r){this._verifyNotCommitted();const i=Ud(e,this._firestore),c=qC(i.converter,t,r),d=BC(this._dataReader,"WriteBatch.set",i._key,c,null!==i.converter,r);return this._mutations.push(d.toMutation(i._key,sr.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const c=Ud(e,this._firestore);let d;return d="string"==typeof(t=(0,vt.m9)(t))||t instanceof dl?KS(this._dataReader,"WriteBatch.update",c._key,t,r,i):WS(this._dataReader,"WriteBatch.update",c._key,t),this._mutations.push(d.toMutation(c._key,sr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Ud(e,this._firestore);return this._mutations=this._mutations.concat(new Jv(t._key,sr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Fe(pe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Ud(n,e){if((n=(0,vt.m9)(n)).firestore!==e)throw new Fe(pe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Qf extends JS{constructor(e){super(),this.firestore=e}convertBytes(e){return new uc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Xn(this.firestore,null,t)}}function qO(n,e,t){n=dn(n,Xn);const r=dn(n.firestore,or),i=qC(n.converter,e,t);return Wm(r,[BC(Wf(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,sr.none())])}function ZO(n,e,t,...r){n=dn(n,Xn);const i=dn(n.firestore,or),c=Wf(i);let d;return d="string"==typeof(e=(0,vt.m9)(e))||e instanceof dl?KS(c,"updateDoc",n._key,e,t,r):WS(c,"updateDoc",n._key,e),Wm(i,[d.toMutation(n._key,sr.exists(!0))])}function GO(n,...e){var t,r,i;n=(0,vt.m9)(n);let c={includeMetadataChanges:!1},d=0;"object"!=typeof e[d]||GS(e[d])||(c=e[d],d++);const f={includeMetadataChanges:c.includeMetadataChanges};if(GS(e[d])){const S=e[d];e[d]=null===(t=S.next)||void 0===t?void 0:t.bind(S),e[d+1]=null===(r=S.error)||void 0===r?void 0:r.bind(S),e[d+2]=null===(i=S.complete)||void 0===i?void 0:i.bind(S)}let y,E,A;if(n instanceof Xn)E=dn(n.firestore,or),A=kf(n._key.path),y={next:S=>{e[d]&&e[d](XS(E,n,S))},error:e[d+1],complete:e[d+2]};else{const S=dn(n,Yi);E=dn(S.firestore,or),A=S._query;const L=new Qf(E);y={next:B=>{e[d]&&e[d](new Fd(E,L,S,B))},error:e[d+1],complete:e[d+2]},kO(n._query)}return function(S,L,B,G){const fe=new NC(G),Ve=new lS(L,fe,B);return S.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return sS(yield zm(S),Ve)})),()=>{fe.Aa(),S.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return aS(yield zm(S),Ve)}))}}(Wr(E),A,f,y)}function Wm(n,e){return function(t,r){const i=new ii;return t.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function Ok(n,e,t){return gS.apply(this,arguments)}(yield $S(t),r,i)})),i.promise}(Wr(n),e)}function XS(n,e,t){const r=t.docs.get(e._key),i=new Qf(n);return new hl(n,i,e._key,r,new Yf(t.hasPendingWrites,t.fromCache),e.converter)}class KF extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Wf(e)}get(e){const t=Ud(e,this._firestore),r=new VF(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return ut();const c=i[0];if(c.isFoundDocument())return new b0(this._firestore,r,c.key,c,t.converter);if(c.isNoDocument())return new b0(this._firestore,r,t._key,null,t.converter);throw ut()})}set(e,t,r){const i=Ud(e,this._firestore),c=qC(i.converter,t,r),d=BC(this._dataReader,"Transaction.set",i._key,c,null!==i.converter,r);return this._transaction.set(i._key,d),this}update(e,t,r,...i){const c=Ud(e,this._firestore);let d;return d="string"==typeof(t=(0,vt.m9)(t))||t instanceof dl?KS(this._dataReader,"Transaction.update",c._key,t,r,i):WS(this._dataReader,"Transaction.update",c._key,t),this._transaction.update(c._key,d),this}delete(e){const t=Ud(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Ud(e,this._firestore),r=new Qf(this._firestore);return super.get(e).then(i=>new hl(this._firestore,r,t._key,i._document,new Yf(!1,!1),t.converter))}}function e1(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Fe("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function WO(){if("undefined"==typeof Uint8Array)throw new Fe("unimplemented","Uint8Arrays are not available in this environment.")}function KO(){if(!function KD(){return"undefined"!=typeof atob}())throw new Fe("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){Yu=Sr.SDK_VERSION,(0,Sr._registerComponent)(new Fi.wA("firestore",(t,{options:r})=>{const i=t.getProvider("app").getImmediate(),c=new or(i,new GD(t.getProvider("auth-internal")),new WD(t.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),c._setSettings(r),c},"PUBLIC")),(0,Sr.registerVersion)(jD,"3.4.9",n),(0,Sr.registerVersion)(jD,"3.4.9","esm2017")}();class C0{constructor(e){this._delegate=e}static fromBase64String(e){return KO(),new C0(uc.fromBase64String(e))}static fromUint8Array(e){return WO(),new C0(uc.fromUint8Array(e))}toBase64(){return KO(),this._delegate.toBase64()}toUint8Array(){return WO(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function t1(n){return function iL(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class sL{enableIndexedDbPersistence(e,t){return function dF(n,e){DO(n=dn(n,or));const t=Wr(n),r=n._freezeSettings(),i=new FS;return IO(t,i,new aO(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function hF(n){DO(n=dn(n,or));const e=Wr(n),t=n._freezeSettings(),r=new FS;return IO(e,r,new zk(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function fF(n){if(n._initialized&&!n._terminated)throw new Fe(pe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new ii;return n._queue.enqueueAndForgetEvenWhileRestricted((0,we.Z)(function*(){try{yield(t=(0,we.Z)(function*(r){if(!au.vt())return Promise.resolve();const i=r+"main";yield au.delete(i)}),function(r){return t.apply(this,arguments)})(SA(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class YO{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof la||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Ef("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function oF(n,e,t,r={}){var i;const c=(n=dn(n,_0))._getSettings();if("firestore.googleapis.com"!==c.host&&c.host!==e&&Ef("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},c),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let d,f;if("string"==typeof r.mockUserToken)d=r.mockUserToken,f=$r.MOCK_USER;else{d=(0,vt.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new Fe(pe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new $r(y)}n._authCredentials=new ZD(new $D(d,f))}}(this._delegate,e,t,r)}enableNetwork(){return function gF(n){return function Jk(n){return n.asyncQueue.enqueue((0,we.Z)(function*(){const e=yield dO(n),t=yield hO(n);return e.setNetworkEnabled(!0),function(r){const i=Je(r);return i.wu.delete(0),m0(i)}(t)}))}(Wr(n=dn(n,or)))}(this._delegate)}disableNetwork(){return function mF(n){return function Xk(n){return n.asyncQueue.enqueue((0,we.Z)(function*(){const e=yield dO(n),t=yield hO(n);return e.setNetworkEnabled(!1),(r=(0,we.Z)(function*(i){const c=Je(i);c.wu.add(0),yield Bm(c),c.yu.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(Wr(n=dn(n,or)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,mO("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function pF(n){return function(e){const t=new ii;return e.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function kk(n,e){return bS.apply(this,arguments)}(yield $S(e),t)})),t.promise}(Wr(n=dn(n,or)))}(this._delegate)}onSnapshotsInSync(e){return function WF(n,e){return function nF(n,e){const t=new NC(e);return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return r=yield zm(n),i=t,Je(r).bu.add(i),void i.next();var r,i})),()=>{t.Aa(),n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return r=yield zm(n),i=t,void Je(r).bu.delete(i);var r,i}))}}(Wr(n=dn(n,or)),GS(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Fe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Km(this,wO(this._delegate,e))}catch(t){throw As(t,"collection()","Firestore.collection()")}}doc(e){try{return new pa(this,LC(this._delegate,e))}catch(t){throw As(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Ss(this,function aF(n,e){if(n=dn(n,_0),ZS("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Fe(pe.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Yi(n,null,(t=e,new rc(sn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw As(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function YF(n,e,t){n=dn(n,or);const r=Object.assign(Object.assign({},UF),t);return function(i){if(i.maxAttempts<1)throw new Fe(pe.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function rF(n,e,t){const r=new ii;return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){const i=yield(c=n,kC(c).then(d=>d.datastore));var c;new Yk(n.asyncQueue,i,t,e,r).run()})),r.promise}(Wr(n),i=>e(new KF(n,i)),r)}(this._delegate,t=>e(new QO(this,t)))}batch(){return Wr(this._delegate),new JO(new $O(this._delegate,e=>Wm(this._delegate,e)))}loadBundle(e){return function yF(n,e){const t=Wr(n=dn(n,or)),r=new cF;return function iF(n,e,t,r){const i=function(c,d){let f;return f="string"==typeof c?(new TextEncoder).encode(c):c,y=function(y,E){if(y instanceof Uint8Array)return uO(y,E);if(y instanceof ArrayBuffer)return uO(new Uint8Array(y),E);if(y instanceof ReadableStream)return y.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(f),new Wk(y,d);var y}(t,g0(e));n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){!function Gk(n,e,t){const r=Je(n);var i;(i=(0,we.Z)(function*(c,d,f){try{const y=yield d.getMetadata();if(yield function(L,B){const G=Je(L),fe=mi(B.createTime);return G.persistence.runTransaction("hasNewerBundle","readonly",Ve=>G._s.getBundleMetadata(Ve,B.id)).then(Ve=>!!Ve&&Ve.createTime.compareTo(fe)>=0)}(c.localStore,y))return yield d.close(),f._completeWith({taskState:"Success",documentsLoaded:(L=y).totalDocuments,bytesLoaded:L.totalBytes,totalDocuments:L.totalDocuments,totalBytes:L.totalBytes}),Promise.resolve(new Set);f._updateProgress(QM(y));const E=new Ik(y,c.localStore,d.M);let A=yield d.ma();for(;A;){const L=yield E.Fu(A);L&&f._updateProgress(L),A=yield d.ma()}const S=yield E.complete();return yield ll(c,S.Lu,void 0),yield function(L,B){const G=Je(L);return G.persistence.runTransaction("Save bundle","readwrite",fe=>G._s.saveBundleMetadata(fe,B))}(c.localStore,y),f._completeWith(S.progress),Promise.resolve(S.Bu)}catch(y){return Ef("SyncEngine",`Loading bundle failed with ${y}`),f._failWith(y),Promise.resolve(new Set)}var L}),function(c,d,f){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield $S(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function _F(n,e){return function sF(n,e){return n.asyncQueue.enqueue((0,we.Z)(function*(){return function(t,r){const i=Je(t);return i.persistence.runTransaction("Get named query","readonly",c=>i._s.getNamedQuery(c,r))}(yield HS(n),e)}))}(Wr(n=dn(n,or)),e).then(t=>t?new Yi(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Ss(this,t):null)}}class ZC extends JS{constructor(e){super(),this.firestore=e}convertBytes(e){return new C0(new uc(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return pa.forKey(t,this.firestore,null)}}class QO{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new ZC(e)}get(e){const t=Xf(e);return this._delegate.get(t).then(r=>new T0(this._firestore,new hl(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=Xf(e);return r?(e1("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const c=Xf(e);return 2===arguments.length?this._delegate.update(c,t):this._delegate.update(c,t,r,...i),this}delete(e){const t=Xf(e);return this._delegate.delete(t),this}}class JO{constructor(e){this._delegate=e}set(e,t,r){const i=Xf(e);return r?(e1("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const c=Xf(e);return 2===arguments.length?this._delegate.update(c,t):this._delegate.update(c,t,r,...i),this}delete(e){const t=Xf(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Jf{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new w0(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new I0(this._firestore,r),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Jf.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let c=i.get(t);return c||(c=new Jf(e,new ZC(e),t),i.set(t,c)),c}}Jf.INSTANCES=new WeakMap;class pa{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new ZC(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Fe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new pa(t,new Xn(t._delegate,r,new Ye(e)))}static forKey(e,t,r){return new pa(t,new Xn(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Km(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Km(this.firestore,wO(this._delegate,e))}catch(t){throw As(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,vt.m9)(e))instanceof Xn&&EO(this._delegate,e)}set(e,t){t=e1("DocumentReference.set",t);try{return t?qO(this._delegate,e,t):qO(this._delegate,e)}catch(r){throw As(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?ZO(this._delegate,e):ZO(this._delegate,e,t,...r)}catch(i){throw As(i,"updateDoc()","DocumentReference.update()")}}delete(){return function GF(n){return Wm(dn(n.firestore,or),[new Jv(n._key,sr.none())])}(this._delegate)}onSnapshot(...e){const t=XO(e),r=eR(e,i=>new T0(this.firestore,new hl(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return GO(this._delegate,t,r)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function jF(n){n=dn(n,Xn);const e=dn(n.firestore,or),t=Wr(e),r=new Qf(e);return function eF(n,e){const t=new ii;return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return(r=(0,we.Z)(function*(i,c,d){try{const f=yield function(y,E){const A=Je(y);return A.persistence.runTransaction("read document","readonly",S=>A.fi.Ls(S,E))}(i,c);f.isFoundDocument()?d.resolve(f):f.isNoDocument()?d.resolve(null):d.reject(new Fe(pe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(f){const y=$m(f,`Failed to get document '${c} from cache`);d.reject(y)}}),function(i,c,d){return r.apply(this,arguments)})(yield HS(n),e,t);var r})),t.promise}(t,n._key).then(i=>new hl(e,r,n._key,i,new Yf(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function HF(n){n=dn(n,Xn);const e=dn(n.firestore,or);return fO(Wr(e),n._key,{source:"server"}).then(t=>XS(e,n,t))}(this._delegate):function BF(n){n=dn(n,Xn);const e=dn(n.firestore,or);return fO(Wr(e),n._key).then(t=>XS(e,n,t))}(this._delegate),t.then(r=>new T0(this.firestore,new hl(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new pa(this.firestore,this._delegate.withConverter(e?Jf.getInstance(this.firestore,e):null))}}function As(n,e,t){return n.message=n.message.replace(e,t),n}function XO(n){for(const e of n)if("object"==typeof e&&!t1(e))return e;return{}}function eR(n,e){var t,r;let i;return i=t1(n[0])?n[0]:t1(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:c=>{i.next&&i.next(e(c))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class T0{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new pa(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return NO(this._delegate,e._delegate)}}class I0 extends T0{data(e){const t=this._delegate.data(e);return function HD(n,e){n||ut()}(void 0!==t),t}}class Ss{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new ZC(e)}where(e,t,r){try{return new Ss(this.firestore,Ld(this._delegate,function xF(n,e,t){const r=e,i=$C("where",n);return new SF(i,r,t)}(e,t,r)))}catch(i){throw As(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Ss(this.firestore,Ld(this._delegate,function OF(n,e="asc"){const t=e,r=$C("orderBy",n);return new MF(r,t)}(e,t)))}catch(r){throw As(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Ss(this.firestore,Ld(this._delegate,function RF(n){return vO("limit",n),new FO("limit",n,"F")}(e)))}catch(t){throw As(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Ss(this.firestore,Ld(this._delegate,function PF(n){return vO("limitToLast",n),new FO("limitToLast",n,"L")}(e)))}catch(t){throw As(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Ss(this.firestore,Ld(this._delegate,function NF(...n){return new LO("startAt",n,!0)}(...e)))}catch(t){throw As(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Ss(this.firestore,Ld(this._delegate,function kF(...n){return new LO("startAfter",n,!1)}(...e)))}catch(t){throw As(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Ss(this.firestore,Ld(this._delegate,function FF(...n){return new UO("endBefore",n,!1)}(...e)))}catch(t){throw As(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Ss(this.firestore,Ld(this._delegate,function LF(...n){return new UO("endAt",n,!0)}(...e)))}catch(t){throw As(t,"endAt()","Query.endAt()")}}isEqual(e){return CO(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function qF(n){n=dn(n,Yi);const e=dn(n.firestore,or),t=Wr(e),r=new Qf(e);return function tF(n,e){const t=new ii;return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return(r=(0,we.Z)(function*(i,c,d){try{const f=yield SC(i,c,!0),y=new eO(c,f._i),E=y.Wu(f.documents),A=y.applyChanges(E,!1);d.resolve(A.snapshot)}catch(f){const y=$m(f,`Failed to execute query '${c} against cache`);d.reject(y)}}),function(i,c,d){return r.apply(this,arguments)})(yield HS(n),e,t);var r})),t.promise}(t,n._query).then(i=>new Fd(e,r,n,i))}(this._delegate):"server"===(null==e?void 0:e.source)?function ZF(n){n=dn(n,Yi);const e=dn(n.firestore,or),t=Wr(e),r=new Qf(e);return pO(t,n._query,{source:"server"}).then(i=>new Fd(e,r,n,i))}(this._delegate):function $F(n){n=dn(n,Yi);const e=dn(n.firestore,or),t=Wr(e),r=new Qf(e);return kO(n._query),pO(t,n._query).then(i=>new Fd(e,r,n,i))}(this._delegate),t.then(r=>new n1(this.firestore,new Fd(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=XO(e),r=eR(e,i=>new n1(this.firestore,new Fd(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return GO(this._delegate,t,r)}withConverter(e){return new Ss(this.firestore,this._delegate.withConverter(e?Jf.getInstance(this.firestore,e):null))}}class aL{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new I0(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class n1{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Ss(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new I0(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new aL(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new I0(this._firestore,r))})}isEqual(e){return NO(this._delegate,e._delegate)}}class Km extends Ss{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new pa(this.firestore,e):null}doc(e){try{return new pa(this.firestore,void 0===e?LC(this._delegate):LC(this._delegate,e))}catch(t){throw As(t,"doc()","CollectionReference.doc()")}}add(e){return function zF(n,e){const t=dn(n.firestore,or),r=LC(n),i=qC(n.converter,e);return Wm(t,[BC(Wf(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,sr.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new pa(this.firestore,t))}isEqual(e){return EO(this._delegate,e._delegate)}withConverter(e){return new Km(this.firestore,this._delegate.withConverter(e?Jf.getInstance(this.firestore,e):null))}}function Xf(n){return dn(n,Xn)}class r1{constructor(...e){this._delegate=new dl(...e)}static documentId(){return new r1(Er.keyField().canonicalString())}isEqual(e){return(e=(0,vt.m9)(e))instanceof dl&&this._delegate._internalPath.isEqual(e._internalPath)}}class ep{constructor(e){this._delegate=e}static serverTimestamp(){const e=function JF(){return new zS("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new ep(e)}static delete(){const e=function QF(){return new v0("deleteField")}();return e._methodName="FieldValue.delete",new ep(e)}static arrayUnion(...e){const t=function XF(...n){return new EF("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new ep(t)}static arrayRemove(...e){const t=function eL(...n){return new CF("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new ep(t)}static increment(e){const t=function tL(n){return new TF("increment",n)}(e);return t._methodName="FieldValue.increment",new ep(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const uL={Firestore:YO,GeoPoint:UC,Timestamp:rr,Blob:C0,Transaction:QO,WriteBatch:JO,DocumentReference:pa,DocumentSnapshot:T0,Query:Ss,QueryDocumentSnapshot:I0,QuerySnapshot:n1,CollectionReference:Km,FieldPath:r1,FieldValue:ep,setLogLevel:function oL(n){!function Tx(n){su.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function lL(n){(function cL(n,e){n.INTERNAL.registerComponent(new Fi.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},uL)))})(n,(e,t)=>new YO(e,t,new sL)),n.registerVersion("@firebase/firestore-compat","0.1.18")}(aD.Z);var dL=P(6451),GC=P(5363),hL=P(6063);class fL extends Or.x{constructor(e=1/0,t=1/0,r=hL.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:c,_windowTime:d}=this;t||(r.push(e),!i&&r.push(c.now()+d)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,c=i.slice();for(let d=0;d<c.length&&!e.closed;d+=r?1:2)e.next(c[d]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,c=(i?1:2)*e;if(e<1/0&&c<r.length&&r.splice(0,r.length-c),!i){const d=t.now();let f=0;for(let y=1;y<r.length&&r[y]<=d;y+=2)f=y;f&&r.splice(0,f+1)}}}var pL=P(3099);function tR(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=null!=n?n:1/0,(0,pL.B)({connector:()=>new fL(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function nR(n,e){return(0,yy.m)(e)?hi(()=>n,e):hi(()=>n)}var i1=P(9468),gL=P(127);const rR=new a.OlP("angularfire2.auth.use-emulator"),iR=new a.OlP("angularfire2.auth.settings"),sR=new a.OlP("angularfire2.auth.tenant-id"),oR=new a.OlP("angularfire2.auth.langugage-code"),aR=new a.OlP("angularfire2.auth.use-device-language"),uR=new a.OlP("angularfire.auth.persistence"),cR=(n,e,t,r,i,c,d,f)=>(0,bo.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const y=e.runOutsideAngular(()=>n.auth());if(t&&y.useEmulator(...t),r&&(y.tenantId=r),y.languageCode=i,c&&y.useDeviceLanguage(),d)for(const[E,A]of Object.entries(d))y.settings[E]=A;return f&&y.setPersistence(f),y},[t,r,i,c,d,f]);let lR=(()=>{class n{constructor(t,r,i,c,d,f,y,E,A,S,L,B){const G=new Or.x,fe=At(void 0).pipe((0,GC.Q)(d.outsideAngular),hi(()=>c.runOutsideAngular(()=>Promise.resolve().then(P.bind(P,5881)))),(0,Ut.U)(()=>(0,bo.on)(t,c,r)),(0,Ut.U)(Ve=>cR(Ve,c,f,E,A,S,y,L)),tR({bufferSize:1,refCount:!1}));if(mr(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=At(null);else{fe.pipe(Ou()).subscribe();const nt=fe.pipe(hi(lt=>lt.getRedirectResult().then(Vt=>Vt,()=>null)),mn.iC,tR({bufferSize:1,refCount:!1})),pt=fe.pipe(hi(lt=>new Ii.y(Vt=>({unsubscribe:c.runOutsideAngular(()=>lt.onAuthStateChanged(Qt=>Vt.next(Qt),Qt=>Vt.error(Qt),()=>Vt.complete()))})))),bt=fe.pipe(hi(lt=>new Ii.y(Vt=>({unsubscribe:c.runOutsideAngular(()=>lt.onIdTokenChanged(Qt=>Vt.next(Qt),Qt=>Vt.error(Qt),()=>Vt.complete()))}))));this.authState=nt.pipe(nR(pt),(0,i1.R)(d.outsideAngular),(0,GC.Q)(d.insideAngular)),this.user=nt.pipe(nR(bt),(0,i1.R)(d.outsideAngular),(0,GC.Q)(d.insideAngular)),this.idToken=this.user.pipe(hi(lt=>lt?(0,Mn.D)(lt.getIdToken()):At(null))),this.idTokenResult=this.user.pipe(hi(lt=>lt?(0,Mn.D)(lt.getIdTokenResult()):At(null))),this.credential=(0,dL.T)(nt,G,this.authState.pipe(Ai(lt=>!lt))).pipe((0,Ut.U)(lt=>(null==lt?void 0:lt.user)?lt:null),(0,i1.R)(d.outsideAngular),(0,GC.Q)(d.insideAngular))}return(0,bo.pX)(this,fe,c,{spy:{apply:(Ve,nt,pt)=>{(Ve.startsWith("signIn")||Ve.startsWith("createUser"))&&pt.then(bt=>G.next(bt))}}})}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(bo.Dh),a.LFG(bo.xv,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(mn.HU),a.LFG(rR,8),a.LFG(iR,8),a.LFG(sR,8),a.LFG(oR,8),a.LFG(aR,8),a.LFG(uR,8),a.LFG(Jo,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function dR(n,e){return function yL(n,e=sD.z){return new Ii.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=r&&r()}})}(n,e)}function s1(n,e){return dR(n,e).pipe((0,Ut.U)(t=>({payload:t,type:"query"})))}function zC(n,e){return s1(n,e).pipe(ed(void 0),jg(),(0,Ut.U)(([t,r])=>{const i=r.payload.docChanges(),c=i.map(d=>({type:d.type,payload:d}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((d,f)=>{const y=i.find(A=>A.doc.ref.isEqual(d.ref)),E=null==t?void 0:t.payload.docs.find(A=>A.ref.isEqual(d.ref));y&&JSON.stringify(y.doc.metadata)===JSON.stringify(d.metadata)||!y&&E&&JSON.stringify(E.metadata)===JSON.stringify(d.metadata)||c.push({type:"modified",payload:{oldIndex:f,newIndex:f,type:"modified",doc:d}})}),c}))}function hR(n,e,t){return zC(n,t).pipe(td((r,i)=>function vL(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function bL(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return o1(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return o1(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return o1(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(c=>c.payload),e),[]),function rE(n,e=xu.y){return n=null!=n?n:iE,(0,gs.e)((t,r)=>{let i,c=!0;t.subscribe((0,di.x)(r,d=>{const f=e(d);(c||!n(i,f))&&(c=!1,i=f,r.next(d))}))})}(),(0,Ut.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function o1(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function fR(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class pR{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=zC(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Ut.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(ed(void 0),jg(),Ai(([r,i])=>i.length>0||!r),(0,Ut.U)(([r,i])=>i),mn.iC)}auditTrail(e){return this.stateChanges(e).pipe(td((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=fR(e);return hR(this.query,t,this.afs.schedulers.outsideAngular).pipe(mn.iC)}valueChanges(e={}){return s1(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ut.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),mn.iC)}get(e){return(0,Mn.D)(this.query.get(e)).pipe(mn.iC)}add(e){return this.ref.add(e)}doc(e){return new gR(this.ref.doc(e),this.afs)}}class gR{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:c}=_R(r,t);return new pR(i,c,this.afs)}snapshotChanges(){return function _L(n,e){return dR(n,e).pipe(ed(void 0),jg(),(0,Ut.U)(([t,r])=>r.exists?(null==t?void 0:t.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(mn.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Ut.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Mn.D)(this.ref.get(e)).pipe(mn.iC)}}class wL{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?zC(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ut.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),Ai(t=>t.length>0),mn.iC):zC(this.query,this.afs.schedulers.outsideAngular).pipe(mn.iC)}auditTrail(e){return this.stateChanges(e).pipe(td((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=fR(e);return hR(this.query,t,this.afs.schedulers.outsideAngular).pipe(mn.iC)}valueChanges(e={}){return s1(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ut.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),mn.iC)}get(e){return(0,Mn.D)(this.query.get(e)).pipe(mn.iC)}}const mR=new a.OlP("angularfire2.enableFirestorePersistence"),yR=new a.OlP("angularfire2.firestore.persistenceSettings"),EL=new a.OlP("angularfire2.firestore.settings"),CL=new a.OlP("angularfire2.firestore.use-emulator");function _R(n,e=(t=>t)){return{query:e(n),ref:n}}let a1=(()=>{class n{constructor(t,r,i,c,d,f,y,E,A,S,L,B,G,fe,Ve,nt,pt){this.schedulers=y;const bt=(0,bo.on)(t,f,r),lt=A;S&&cR(bt,f,L,G,fe,Ve,B,nt),[this.firestore,this.persistenceEnabled$]=(0,bo.cc)(`${bt.name}.firestore`,"AngularFirestore",bt.name,()=>{const Vt=f.runOutsideAngular(()=>bt.firestore());if(c&&Vt.settings(c),lt&&Vt.useEmulator(...lt),i&&!mr(d)){const Qt=()=>{try{return(0,Mn.D)(Vt.enablePersistence(E||void 0).then(()=>!0,()=>!1))}catch(Cn){return"undefined"!=typeof console&&console.warn(Cn),At(!1)}};return[Vt,f.runOutsideAngular(Qt)]}return[Vt,At(!1)]},[c,lt,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:c,query:d}=_R(i,r),f=this.schedulers.ngZone.run(()=>c);return new pR(f,d,this)}collectionGroup(t,r){const i=r||(d=>d),c=this.firestore.collectionGroup(t);return new wL(i(c),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new gR(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(bo.Dh),a.LFG(bo.xv,8),a.LFG(mR,8),a.LFG(EL,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(mn.HU),a.LFG(yR,8),a.LFG(CL,8),a.LFG(lR,8),a.LFG(rR,8),a.LFG(iR,8),a.LFG(sR,8),a.LFG(oR,8),a.LFG(aR,8),a.LFG(uR,8),a.LFG(Jo,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),TL=(()=>{class n{constructor(){gL.Z.registerVersion("angularfire",mn.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:mR,useValue:!0},{provide:yR,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[a1]}),n})();class vR{}const fl="*";function DL(n,e){return{type:7,name:n,definitions:e,options:{}}}function bR(n,e=null){return{type:4,styles:e,timings:n}}function wR(n,e=null){return{type:2,steps:n,options:e}}function D0(n){return{type:6,styles:n,offset:null}}function u1(n,e,t){return{type:0,name:n,styles:e,options:t}}function ER(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function CR(n){Promise.resolve(null).then(n)}class A0{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){CR(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class TR{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const c=this.players.length;0==c?CR(()=>this._onFinish()):this.players.forEach(d=>{d.onDone(()=>{++t==c&&this._onFinish()}),d.onDestroy(()=>{++r==c&&this._onDestroy()}),d.onStart(()=>{++i==c&&this._onStart()})}),this.totalTime=this.players.reduce((d,f)=>Math.max(d,f.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}const un=!1;function IR(n){return new a.vHH(3e3,un)}function o2(){return"undefined"!=typeof window&&void 0!==window.document}function l1(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Vd(n){switch(n.length){case 0:return new A0;case 1:return n[0];default:return new TR(n)}}function DR(n,e,t,r,i={},c={}){const d=[],f=[];let y=-1,E=null;if(r.forEach(A=>{const S=A.offset,L=S==y,B=L&&E||{};Object.keys(A).forEach(G=>{let fe=G,Ve=A[G];if("offset"!==G)switch(fe=e.normalizePropertyName(fe,d),Ve){case"!":Ve=i[G];break;case fl:Ve=c[G];break;default:Ve=e.normalizeStyleValue(G,fe,Ve,d)}B[fe]=Ve}),L||f.push(B),E=B,y=S}),d.length)throw function KL(n){return new a.vHH(3502,un)}();return f}function d1(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&h1(t,"start",n)));break;case"done":n.onDone(()=>r(t&&h1(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&h1(t,"destroy",n)))}}function h1(n,e,t){const r=t.totalTime,c=f1(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==r?n.totalTime:r,!!t.disabled),d=n._data;return null!=d&&(c._data=d),c}function f1(n,e,t,r,i="",c=0,d){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:c,disabled:!!d}}function Eo(n,e,t){let r;return n instanceof Map?(r=n.get(e),r||n.set(e,r=t)):(r=n[e],r||(r=n[e]=t)),r}function AR(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let p1=(n,e)=>!1,SR=(n,e,t)=>[],xR=null;function g1(n){const e=n.parentNode||n.host;return e===xR?null:e}(l1()||"undefined"!=typeof Element)&&(o2()?(xR=(()=>document.documentElement)(),p1=(n,e)=>{for(;e;){if(e===n)return!0;e=g1(e)}return!1}):p1=(n,e)=>n.contains(e),SR=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let tp=null,MR=!1;function OR(n){tp||(tp=function u2(){return"undefined"!=typeof document?document.body:null}()||{},MR=!!tp.style&&"WebkitAppearance"in tp.style);let e=!0;return tp.style&&!function a2(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in tp.style,!e&&MR&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in tp.style)),e}const RR=p1,PR=SR;let NR=(()=>{class n{validateStyleProperty(t){return OR(t)}matchesElement(t,r){return!1}containsElement(t,r){return RR(t,r)}getParentElement(t){return g1(t)}query(t,r,i){return PR(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,c,d,f=[],y){return new A0(i,c)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),m1=(()=>{class n{}return n.NOOP=new NR,n})();const y1="ng-enter",KC="ng-leave",YC="ng-trigger",QC=".ng-trigger",FR="ng-animating",_1=".ng-animating";function np(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:v1(parseFloat(e[1]),e[2])}function v1(n,e){return"s"===e?1e3*n:n}function JC(n,e,t){return n.hasOwnProperty("duration")?n:function d2(n,e,t){let i,c=0,d="";if("string"==typeof n){const f=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===f)return e.push(IR()),{duration:0,delay:0,easing:""};i=v1(parseFloat(f[1]),f[2]);const y=f[3];null!=y&&(c=v1(parseFloat(y),f[4]));const E=f[5];E&&(d=E)}else i=n;if(!t){let f=!1,y=e.length;i<0&&(e.push(function AL(){return new a.vHH(3100,un)}()),f=!0),c<0&&(e.push(function SL(){return new a.vHH(3101,un)}()),f=!0),f&&e.splice(y,0,IR())}return{duration:i,delay:c,easing:d}}(n,e,t)}function Ym(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function Bd(n,e,t={}){if(e)for(let r in n)t[r]=n[r];else Ym(n,t);return t}function UR(n,e,t){return t?e+":"+t+";":""}function VR(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=UR(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=UR(0,p2(t),n.style[t]));n.setAttribute("style",e)}function cc(n,e,t){n.style&&(Object.keys(e).forEach(r=>{const i=w1(r);t&&!t.hasOwnProperty(r)&&(t[r]=n.style[i]),n.style[i]=e[r]}),l1()&&VR(n))}function rp(n,e){n.style&&(Object.keys(e).forEach(t=>{const r=w1(t);n.style[r]=""}),l1()&&VR(n))}function S0(n){return Array.isArray(n)?1==n.length?n[0]:wR(n):n}const b1=new RegExp("{{\\s*(.+?)\\s*}}","g");function BR(n){let e=[];if("string"==typeof n){let t;for(;t=b1.exec(n);)e.push(t[1]);b1.lastIndex=0}return e}function XC(n,e,t){const r=n.toString(),i=r.replace(b1,(c,d)=>{let f=e[d];return e.hasOwnProperty(d)||(t.push(function ML(n){return new a.vHH(3003,un)}()),f=""),f.toString()});return i==r?n:i}function eT(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const f2=/-+([a-z0-9])/g;function w1(n){return n.replace(f2,(...e)=>e[1].toUpperCase())}function p2(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Co(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function OL(n){return new a.vHH(3004,un)}()}}function jR(n,e){return window.getComputedStyle(n)[e]}function b2(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function w2(n,e,t){if(":"==n[0]){const y=function E2(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function ZL(n){return new a.vHH(3016,un)}()),"* => *"}}(n,t);if("function"==typeof y)return void e.push(y);n=y}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function qL(n){return new a.vHH(3015,un)}()),e;const i=r[1],c=r[2],d=r[3];e.push(HR(i,d));"<"==c[0]&&!("*"==i&&"*"==d)&&e.push(HR(d,i))}(r,t,e)):t.push(n),t}const iT=new Set(["true","1"]),sT=new Set(["false","0"]);function HR(n,e){const t=iT.has(n)||sT.has(n),r=iT.has(e)||sT.has(e);return(i,c)=>{let d="*"==n||n==i,f="*"==e||e==c;return!d&&t&&"boolean"==typeof i&&(d=i?iT.has(n):sT.has(n)),!f&&r&&"boolean"==typeof c&&(f=c?iT.has(e):sT.has(e)),d&&f}}const C2=new RegExp("s*:selfs*,?","g");function E1(n,e,t,r){return new T2(n).build(e,t,r)}class T2{constructor(e){this._driver=e}build(e,t,r){const i=new A2(t);this._resetContextStyleTimingState(i);const c=Co(this,S0(e),i);return i.unsupportedCSSPropertiesFound.size&&i.unsupportedCSSPropertiesFound.keys(),c}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const c=[],d=[];return"@"==e.name.charAt(0)&&t.errors.push(function PL(){return new a.vHH(3006,un)}()),e.definitions.forEach(f=>{if(this._resetContextStyleTimingState(t),0==f.type){const y=f,E=y.name;E.toString().split(/\s*,\s*/).forEach(A=>{y.name=A,c.push(this.visitState(y,t))}),y.name=E}else if(1==f.type){const y=this.visitTransition(f,t);r+=y.queryCount,i+=y.depCount,d.push(y)}else t.errors.push(function NL(){return new a.vHH(3007,un)}())}),{type:7,name:e.name,states:c,transitions:d,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const c=new Set,d=i||{};r.styles.forEach(f=>{if(oT(f)){const y=f;Object.keys(y).forEach(E=>{BR(y[E]).forEach(A=>{d.hasOwnProperty(A)||c.add(A)})})}}),c.size&&(eT(c.values()),t.errors.push(function kL(n,e){return new a.vHH(3008,un)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=Co(this,S0(e.animation),t);return{type:1,matchers:b2(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:ip(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>Co(this,r,t)),options:ip(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const c=e.steps.map(d=>{t.currentTime=r;const f=Co(this,d,t);return i=Math.max(i,t.currentTime),f});return t.currentTime=i,{type:3,steps:c,options:ip(e.options)}}visitAnimate(e,t){const r=function x2(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return C1(JC(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(c=>"{"==c.charAt(0)&&"{"==c.charAt(1))){const c=C1(0,0,"");return c.dynamic=!0,c.strValue=t,c}const i=JC(t,e);return C1(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,c=e.styles?e.styles:D0({});if(5==c.type)i=this.visitKeyframes(c,t);else{let d=e.styles,f=!1;if(!d){f=!0;const E={};r.easing&&(E.easing=r.easing),d=D0(E)}t.currentTime+=r.duration+r.delay;const y=this.visitStyle(d,t);y.isEmptyStep=f,i=y}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[];Array.isArray(e.styles)?e.styles.forEach(d=>{"string"==typeof d?d==fl?r.push(d):t.errors.push(function FL(n){return new a.vHH(3002,un)}()):r.push(d)}):r.push(e.styles);let i=!1,c=null;return r.forEach(d=>{if(oT(d)){const f=d,y=f.easing;if(y&&(c=y,delete f.easing),!i)for(let E in f)if(f[E].toString().indexOf("{{")>=0){i=!0;break}}}),{type:6,styles:r,easing:c,offset:e.offset,containsDynamicStyles:i,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,c=t.currentTime;r&&c>0&&(c-=r.duration+r.delay),e.styles.forEach(d=>{"string"!=typeof d&&Object.keys(d).forEach(f=>{if(!this._driver.validateStyleProperty(f))return delete d[f],void t.unsupportedCSSPropertiesFound.add(f);const y=t.collectedStyles[t.currentQuerySelector],E=y[f];let A=!0;E&&(c!=i&&c>=E.startTime&&i<=E.endTime&&(t.errors.push(function LL(n,e,t,r,i){return new a.vHH(3010,un)}()),A=!1),c=E.startTime),A&&(y[f]={startTime:c,endTime:i}),t.options&&function h2(n,e,t){const r=e.params||{},i=BR(n);i.length&&i.forEach(c=>{r.hasOwnProperty(c)||t.push(function xL(n){return new a.vHH(3001,un)}())})}(d[f],t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function UL(){return new a.vHH(3011,un)}()),r;let c=0;const d=[];let f=!1,y=!1,E=0;const A=e.steps.map(nt=>{const pt=this._makeStyleAst(nt,t);let bt=null!=pt.offset?pt.offset:function S2(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(oT(t)&&t.hasOwnProperty("offset")){const r=t;e=parseFloat(r.offset),delete r.offset}});else if(oT(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}(pt.styles),lt=0;return null!=bt&&(c++,lt=pt.offset=bt),y=y||lt<0||lt>1,f=f||lt<E,E=lt,d.push(lt),pt});y&&t.errors.push(function VL(){return new a.vHH(3012,un)}()),f&&t.errors.push(function BL(){return new a.vHH(3200,un)}());const S=e.steps.length;let L=0;c>0&&c<S?t.errors.push(function jL(){return new a.vHH(3202,un)}()):0==c&&(L=1/(S-1));const B=S-1,G=t.currentTime,fe=t.currentAnimateTimings,Ve=fe.duration;return A.forEach((nt,pt)=>{const bt=L>0?pt==B?1:L*pt:d[pt],lt=bt*Ve;t.currentTime=G+fe.delay+lt,fe.duration=lt,this._validateStyleAst(nt,t),nt.offset=bt,r.styles.push(nt)}),r}visitReference(e,t){return{type:8,animation:Co(this,S0(e.animation),t),options:ip(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:ip(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:ip(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[c,d]=function I2(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(C2,"")),n=n.replace(/@\*/g,QC).replace(/@\w+/g,t=>QC+"-"+t.substr(1)).replace(/:animating/g,_1),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+c:c,Eo(t.collectedStyles,t.currentQuerySelector,{});const f=Co(this,S0(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:c,limit:i.limit||0,optional:!!i.optional,includeSelf:d,animation:f,originalSelector:e.selector,options:ip(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function HL(){return new a.vHH(3013,un)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:JC(e.timings,t.errors,!0);return{type:12,animation:Co(this,S0(e.animation),t),timings:r,options:null}}}class A2{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function oT(n){return!Array.isArray(n)&&"object"==typeof n}function ip(n){return n?(n=Ym(n)).params&&(n.params=function D2(n){return n?Ym(n):null}(n.params)):n={},n}function C1(n,e,t){return{duration:n,delay:e,easing:t}}function T1(n,e,t,r,i,c,d=null,f=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:c,totalTime:i+c,easing:d,subTimeline:f}}class aT{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const R2=new RegExp(":enter","g"),N2=new RegExp(":leave","g");function I1(n,e,t,r,i,c={},d={},f,y,E=[]){return(new k2).buildKeyframes(n,e,t,r,i,c,d,f,y,E)}class k2{buildKeyframes(e,t,r,i,c,d,f,y,E,A=[]){E=E||new aT;const S=new D1(e,t,E,i,c,A,[]);S.options=y,S.currentTimeline.setStyles([d],null,S.errors,y),Co(this,r,S);const L=S.timelines.filter(B=>B.containsAnimation());if(Object.keys(f).length){let B;for(let G=L.length-1;G>=0;G--){const fe=L[G];if(fe.element===t){B=fe;break}}B&&!B.allowOnlyTimelineStyles()&&B.setStyles([f],null,S.errors,y)}return L.length?L.map(B=>B.buildKeyframes()):[T1(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),c=t.currentTimeline.currentTime,d=this._visitSubInstructions(r,i,i.options);c!=d&&t.transformIntoNewTimeline(d)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,r){let c=t.currentTimeline.currentTime;const d=null!=r.duration?np(r.duration):null,f=null!=r.delay?np(r.delay):null;return 0!==d&&e.forEach(y=>{const E=t.appendInstructionToTimeline(y,d,f);c=Math.max(c,E.duration+E.delay)}),c}visitReference(e,t){t.updateOptions(e.options,!0),Co(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const c=e.options;if(c&&(c.params||c.delay)&&(i=t.createSubContext(c),i.transformIntoNewTimeline(),null!=c.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=uT);const d=np(c.delay);i.delayNextStep(d)}e.steps.length&&(e.steps.forEach(d=>Co(this,d,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const c=e.options&&e.options.delay?np(e.options.delay):0;e.steps.forEach(d=>{const f=t.createSubContext(e.options);c&&f.delayNextStep(c),Co(this,d,f),i=Math.max(i,f.currentTimeline.currentTime),r.push(f.currentTimeline)}),r.forEach(d=>t.currentTimeline.mergeTimelineCollectedStyles(d)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return JC(t.params?XC(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const c=e.style;5==c.type?this.visitKeyframes(c,t):(t.incrementTime(r.duration),this.visitStyle(c,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.getCurrentStyleProperties().length&&r.forwardFrame();const c=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(c):r.setStyles(e.styles,c,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,c=r.duration,f=t.createSubContext().currentTimeline;f.easing=r.easing,e.styles.forEach(y=>{f.forwardTime((y.offset||0)*c),f.setStyles(y.styles,y.easing,t.errors,t.options),f.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(f),t.transformIntoNewTimeline(i+c),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},c=i.delay?np(i.delay):0;c&&(6===t.previousNode.type||0==r&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=uT);let d=r;const f=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=f.length;let y=null;f.forEach((E,A)=>{t.currentQueryIndex=A;const S=t.createSubContext(e.options,E);c&&S.delayNextStep(c),E===t.element&&(y=S.currentTimeline),Co(this,e.animation,S),S.currentTimeline.applyStylesToKeyframe(),d=Math.max(d,S.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(d),y&&(t.currentTimeline.mergeTimelineCollectedStyles(y),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,c=e.timings,d=Math.abs(c.duration),f=d*(t.currentQueryTotal-1);let y=d*t.currentQueryIndex;switch(c.duration<0?"reverse":c.easing){case"reverse":y=f-y;break;case"full":y=r.currentStaggerTime}const A=t.currentTimeline;y&&A.delayNextStep(y);const S=A.currentTime;Co(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-S+(i.startTime-r.currentTimeline.startTime)}}const uT={};class D1{constructor(e,t,r,i,c,d,f,y){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=c,this.errors=d,this.timelines=f,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=uT,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=y||new cT(this._driver,t,0),f.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=np(r.duration)),null!=r.delay&&(i.delay=np(r.delay));const c=r.params;if(c){let d=i.params;d||(d=this.options.params={}),Object.keys(c).forEach(f=>{(!t||!d.hasOwnProperty(f))&&(d[f]=XC(c[f],d,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,c=new D1(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return c.previousNode=this.previousNode,c.currentAnimateTimings=this.currentAnimateTimings,c.options=this._copyOptions(),c.updateOptions(e),c.currentQueryIndex=this.currentQueryIndex,c.currentQueryTotal=this.currentQueryTotal,c.parentContext=this,this.subContextCount++,c}transformIntoNewTimeline(e){return this.previousNode=uT,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+e.delay,easing:""},c=new F2(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(c),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,c,d){let f=[];if(i&&f.push(this.element),e.length>0){e=(e=e.replace(R2,"."+this._enterClassName)).replace(N2,"."+this._leaveClassName);let E=this._driver.query(this.element,e,1!=r);0!==r&&(E=r<0?E.slice(E.length+r,E.length):E.slice(0,r)),f.push(...E)}return!c&&0==f.length&&d.push(function $L(n){return new a.vHH(3014,un)}()),f}}class cT{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new cT(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||fl,this._currentKeyframe[t]=fl}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&(this._previousKeyframe.easing=t);const c=i&&i.params||{},d=function L2(n,e){const t={};let r;return n.forEach(i=>{"*"===i?(r=r||Object.keys(e),r.forEach(c=>{t[c]=fl})):Bd(i,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(d).forEach(f=>{const y=XC(d[f],c,r);this._pendingStyles[f]=y,this._localTimelineStyles.hasOwnProperty(f)||(this._backFill[f]=this._globalTimelineStyles.hasOwnProperty(f)?this._globalTimelineStyles[f]:fl),this._updateStyle(f,y)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(r=>{this._currentKeyframe[r]=e[r]}),Object.keys(this._localTimelineStyles).forEach(r=>{this._currentKeyframe.hasOwnProperty(r)||(this._currentKeyframe[r]=this._localTimelineStyles[r])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const r=this._styleSummary[t],i=e._styleSummary[t];(!r||i.time>r.time)&&this._updateStyle(t,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((f,y)=>{const E=Bd(f,!0);Object.keys(E).forEach(A=>{const S=E[A];"!"==S?e.add(A):S==fl&&t.add(A)}),r||(E.offset=y/this.duration),i.push(E)});const c=e.size?eT(e.values()):[],d=t.size?eT(t.values()):[];if(r){const f=i[0],y=Ym(f);f.offset=0,y.offset=1,i=[f,y]}return T1(this.element,i,c,d,this.duration,this.startTime,this.easing,!1)}}class F2 extends cT{constructor(e,t,r,i,c,d,f=!1){super(e,t,d.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=c,this._stretchStartingKeyframe=f,this.timings={duration:d.duration,delay:d.delay,easing:d.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const c=[],d=r+t,f=t/d,y=Bd(e[0],!1);y.offset=0,c.push(y);const E=Bd(e[0],!1);E.offset=ZR(f),c.push(E);const A=e.length-1;for(let S=1;S<=A;S++){let L=Bd(e[S],!1);L.offset=ZR((t+L.offset*r)/d),c.push(L)}r=d,t=0,i="",e=c}return T1(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function ZR(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class A1{}class U2 extends A1{normalizePropertyName(e,t){return w1(e)}normalizeStyleValue(e,t,r,i){let c="";const d=r.toString().trim();if(V2[t]&&0!==r&&"0"!==r)if("number"==typeof r)c="px";else{const f=r.match(/^[+-]?[\d\.]+([a-z]*)$/);f&&0==f[1].length&&i.push(function RL(n,e){return new a.vHH(3005,un)}())}return d+c}}const V2=(()=>function B2(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function GR(n,e,t,r,i,c,d,f,y,E,A,S,L){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:c,toState:r,toStyles:d,timelines:f,queriedElements:y,preStyleProps:E,postStyleProps:A,totalTime:S,errors:L}}const S1={};class zR{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function j2(n,e,t,r,i){return n.some(c=>c(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){const i=this._stateStyles["*"],c=this._stateStyles[e],d=i?i.buildStyles(t,r):{};return c?c.buildStyles(t,r):d}build(e,t,r,i,c,d,f,y,E,A){const S=[],L=this.ast.options&&this.ast.options.params||S1,G=this.buildStyles(r,f&&f.params||S1,S),fe=y&&y.params||S1,Ve=this.buildStyles(i,fe,S),nt=new Set,pt=new Map,bt=new Map,lt="void"===i,Vt={params:Object.assign(Object.assign({},L),fe)},Qt=A?[]:I1(e,t,this.ast.animation,c,d,G,Ve,Vt,E,S);let Cn=0;if(Qt.forEach(pl=>{Cn=Math.max(pl.duration+pl.delay,Cn)}),S.length)return GR(t,this._triggerName,r,i,lt,G,Ve,[],[],pt,bt,Cn,S);Qt.forEach(pl=>{const gl=pl.element,DP=Eo(pt,gl,{});pl.preStyleProps.forEach(op=>DP[op]=!0);const M0=Eo(bt,gl,{});pl.postStyleProps.forEach(op=>M0[op]=!0),gl!==t&&nt.add(gl)});const xs=eT(nt.values());return GR(t,this._triggerName,r,i,lt,G,Ve,Qt,xs,pt,bt,Cn)}}class H2{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r={},i=Ym(this.defaultParams);return Object.keys(e).forEach(c=>{const d=e[c];null!=d&&(i[c]=d)}),this.styles.styles.forEach(c=>{if("string"!=typeof c){const d=c;Object.keys(d).forEach(f=>{let y=d[f];y.length>1&&(y=XC(y,i,t));const E=this.normalizer.normalizePropertyName(f,t);y=this.normalizer.normalizeStyleValue(f,E,y,t),r[E]=y})}}),r}}class q2{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states={},t.states.forEach(i=>{this.states[i.name]=new H2(i.style,i.options&&i.options.params||{},r)}),WR(this.states,"true","1"),WR(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new zR(e,i,this.states))}),this.fallbackTransition=function Z2(n,e,t){return new zR(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(d,f)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(d=>d.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function WR(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const G2=new aT;class z2{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}register(e,t){const r=[],c=E1(this._driver,t,r,[]);if(r.length)throw function YL(n){return new a.vHH(3503,un)}();this._animations[e]=c}_buildPlayer(e,t,r){const i=e.element,c=DR(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,c,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],c=this._animations[e];let d;const f=new Map;if(c?(d=I1(this._driver,t,c,y1,KC,{},{},r,G2,i),d.forEach(A=>{const S=Eo(f,A.element,{});A.postStyleProps.forEach(L=>S[L]=null)})):(i.push(function QL(){return new a.vHH(3300,un)}()),d=[]),i.length)throw function JL(n){return new a.vHH(3504,un)}();f.forEach((A,S)=>{Object.keys(A).forEach(L=>{A[L]=this._driver.computeStyle(S,L,fl)})});const E=Vd(d.map(A=>{const S=f.get(A.element);return this._buildPlayer(A,{},S)}));return this._playersById[e]=E,E.onDestroy(()=>this.destroy(e)),this.players.push(E),E}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw function XL(n){return new a.vHH(3301,un)}();return t}listen(e,t,r,i){const c=f1(t,"","","");return d1(this._getPlayer(e),r,c,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const c=this._getPlayer(e);switch(r){case"play":c.play();break;case"pause":c.pause();break;case"reset":c.reset();break;case"restart":c.restart();break;case"finish":c.finish();break;case"init":c.init();break;case"setPosition":c.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const KR="ng-animate-queued",x1="ng-animate-disabled",J2=[],YR={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},X2={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ga="__ng_removed";class M1{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function rU(n){return null!=n?n:null}(r?e.value:e),r){const c=Ym(e);delete c.value,this.options=c}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const x0="void",O1=new M1(x0);class eU{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,ma(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.hasOwnProperty(t))throw function e2(n,e){return new a.vHH(3302,un)}();if(null==r||0==r.length)throw function t2(n){return new a.vHH(3303,un)}();if(!function iU(n){return"start"==n||"done"==n}(r))throw function n2(n,e){return new a.vHH(3400,un)}();const c=Eo(this._elementListeners,e,[]),d={name:t,phase:r,callback:i};c.push(d);const f=Eo(this._engine.statesByElement,e,{});return f.hasOwnProperty(t)||(ma(e,YC),ma(e,YC+"-"+t),f[t]=O1),()=>{this._engine.afterFlush(()=>{const y=c.indexOf(d);y>=0&&c.splice(y,1),this._triggers[t]||delete f[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw function r2(n){return new a.vHH(3401,un)}();return t}trigger(e,t,r,i=!0){const c=this._getTrigger(t),d=new R1(this.id,t,e);let f=this._engine.statesByElement.get(e);f||(ma(e,YC),ma(e,YC+"-"+t),this._engine.statesByElement.set(e,f={}));let y=f[t];const E=new M1(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&y&&E.absorbOptions(y.options),f[t]=E,y||(y=O1),E.value!==x0&&y.value===E.value){if(!function aU(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const c=t[i];if(!e.hasOwnProperty(c)||n[c]!==e[c])return!1}return!0}(y.params,E.params)){const fe=[],Ve=c.matchStyles(y.value,y.params,fe),nt=c.matchStyles(E.value,E.params,fe);fe.length?this._engine.reportError(fe):this._engine.afterFlush(()=>{rp(e,Ve),cc(e,nt)})}return}const L=Eo(this._engine.playersByElement,e,[]);L.forEach(fe=>{fe.namespaceId==this.id&&fe.triggerName==t&&fe.queued&&fe.destroy()});let B=c.matchTransition(y.value,E.value,e,E.params),G=!1;if(!B){if(!i)return;B=c.fallbackTransition,G=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:B,fromState:y,toState:E,player:d,isFallbackTransition:G}),G||(ma(e,KR),d.onStart(()=>{Qm(e,KR)})),d.onDone(()=>{let fe=this.players.indexOf(d);fe>=0&&this.players.splice(fe,1);const Ve=this._engine.playersByElement.get(e);if(Ve){let nt=Ve.indexOf(d);nt>=0&&Ve.splice(nt,1)}}),this.players.push(d),L.push(d),d}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,r)=>{delete t[e]}),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,QC,!0);r.forEach(i=>{if(i[ga])return;const c=this._engine.fetchNamespacesByElement(i);c.size?c.forEach(d=>d.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const c=this._engine.statesByElement.get(e),d=new Map;if(c){const f=[];if(Object.keys(c).forEach(y=>{if(d.set(y,c[y].value),this._triggers[y]){const E=this.trigger(e,y,x0,i);E&&f.push(E)}}),f.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,d),r&&Vd(f).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(c=>{const d=c.name;if(i.has(d))return;i.add(d);const y=this._triggers[d].fallbackTransition,E=r[d]||O1,A=new M1(x0),S=new R1(this.id,d,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:d,transition:y,fromState:E,toState:A,player:S,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const c=r.players.length?r.playersByQueriedElement.get(e):[];if(c&&c.length)i=!0;else{let d=e;for(;d=d.parentNode;)if(r.statesByElement.get(d)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const c=e[ga];(!c||c===YR)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){ma(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const c=r.element,d=this._elementListeners.get(c);d&&d.forEach(f=>{if(f.name==r.triggerName){const y=f1(c,r.triggerName,r.fromState.value,r.toState.value);y._data=e,d1(r.player,f.phase,y,f.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const c=r.transition.ast.depCount,d=i.transition.ast.depCount;return 0==c||0==d?c-d:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class tU{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,c)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new eU(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement,c=r.length-1;if(c>=0){let d=!1;if(void 0!==this.driver.getParentElement){let f=this.driver.getParentElement(t);for(;f;){const y=i.get(f);if(y){const E=r.indexOf(y);r.splice(E+1,0,e),d=!0;break}f=this.driver.getParentElement(f)}}else for(let f=c;f>=0;f--)if(this.driver.containsElement(r[f].hostElement,t)){r.splice(f+1,0,e),d=!0;break}d||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r){const i=Object.keys(r);for(let c=0;c<i.length;c++){const d=r[i[c]].namespaceId;if(d){const f=this._fetchNamespace(d);f&&t.add(f)}}}return t}trigger(e,t,r,i){if(lT(t)){const c=this._fetchNamespace(e);if(c)return c.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!lT(t))return;const c=t[ga];if(c&&c.setForRemoval){c.setForRemoval=!1,c.setForMove=!0;const d=this.collectedLeaveElements.indexOf(t);d>=0&&this.collectedLeaveElements.splice(d,1)}if(e){const d=this._fetchNamespace(e);d&&d.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),ma(e,x1)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Qm(e,x1))}removeNode(e,t,r,i){if(lT(t)){const c=e?this._fetchNamespace(e):null;if(c?c.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const d=this.namespacesByHostElement.get(t);d&&d.id!==e&&d.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,c){this.collectedLeaveElements.push(t),t[ga]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:c}}listen(e,t,r,i,c){return lT(t)?this._fetchNamespace(e).listen(t,r,i,c):()=>{}}_buildInstruction(e,t,r,i,c){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,c)}destroyInnerAnimations(e){let t=this.driver.query(e,QC,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,_1,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Vd(this.players).onDone(()=>e());e()})}processLeaveNode(e){var t;const r=e[ga];if(r&&r.setForRemoval){if(e[ga]=YR,r.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(r.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,r.setForRemoval)}(null===(t=e.classList)||void 0===t?void 0:t.contains(x1))&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)ma(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?Vd(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function i2(n){return new a.vHH(3402,un)}()}_flushAnimations(e,t){const r=new aT,i=[],c=new Map,d=[],f=new Map,y=new Map,E=new Map,A=new Set;this.disabledNodes.forEach(dt=>{A.add(dt);const Tt=this.driver.query(dt,".ng-animate-queued",!0);for(let Rt=0;Rt<Tt.length;Rt++)A.add(Tt[Rt])});const S=this.bodyNode,L=Array.from(this.statesByElement.keys()),B=XR(L,this.collectedEnterElements),G=new Map;let fe=0;B.forEach((dt,Tt)=>{const Rt=y1+fe++;G.set(Tt,Rt),dt.forEach(wn=>ma(wn,Rt))});const Ve=[],nt=new Set,pt=new Set;for(let dt=0;dt<this.collectedLeaveElements.length;dt++){const Tt=this.collectedLeaveElements[dt],Rt=Tt[ga];Rt&&Rt.setForRemoval&&(Ve.push(Tt),nt.add(Tt),Rt.hasAnimation?this.driver.query(Tt,".ng-star-inserted",!0).forEach(wn=>nt.add(wn)):pt.add(Tt))}const bt=new Map,lt=XR(L,Array.from(nt));lt.forEach((dt,Tt)=>{const Rt=KC+fe++;bt.set(Tt,Rt),dt.forEach(wn=>ma(wn,Rt))}),e.push(()=>{B.forEach((dt,Tt)=>{const Rt=G.get(Tt);dt.forEach(wn=>Qm(wn,Rt))}),lt.forEach((dt,Tt)=>{const Rt=bt.get(Tt);dt.forEach(wn=>Qm(wn,Rt))}),Ve.forEach(dt=>{this.processLeaveNode(dt)})});const Vt=[],Qt=[];for(let dt=this._namespaceList.length-1;dt>=0;dt--)this._namespaceList[dt].drainQueuedTransitions(t).forEach(Rt=>{const wn=Rt.player,vi=Rt.element;if(Vt.push(wn),this.collectedEnterElements.length){const Ms=vi[ga];if(Ms&&Ms.setForMove){if(Ms.previousTriggersValues&&Ms.previousTriggersValues.has(Rt.triggerName)){const ap=Ms.previousTriggersValues.get(Rt.triggerName),qd=this.statesByElement.get(Rt.element);qd&&qd[Rt.triggerName]&&(qd[Rt.triggerName].value=ap)}return void wn.destroy()}}const lc=!S||!this.driver.containsElement(S,vi),To=bt.get(vi),$d=G.get(vi),gr=this._buildInstruction(Rt,r,$d,To,lc);if(gr.errors&&gr.errors.length)return void Qt.push(gr);if(lc)return wn.onStart(()=>rp(vi,gr.fromStyles)),wn.onDestroy(()=>cc(vi,gr.toStyles)),void i.push(wn);if(Rt.isFallbackTransition)return wn.onStart(()=>rp(vi,gr.fromStyles)),wn.onDestroy(()=>cc(vi,gr.toStyles)),void i.push(wn);const xP=[];gr.timelines.forEach(Ms=>{Ms.stretchStartingKeyframe=!0,this.disabledNodes.has(Ms.element)||xP.push(Ms)}),gr.timelines=xP,r.append(vi,gr.timelines),d.push({instruction:gr,player:wn,element:vi}),gr.queriedElements.forEach(Ms=>Eo(f,Ms,[]).push(wn)),gr.preStyleProps.forEach((Ms,ap)=>{const qd=Object.keys(Ms);if(qd.length){let up=y.get(ap);up||y.set(ap,up=new Set),qd.forEach(V1=>up.add(V1))}}),gr.postStyleProps.forEach((Ms,ap)=>{const qd=Object.keys(Ms);let up=E.get(ap);up||E.set(ap,up=new Set),qd.forEach(V1=>up.add(V1))})});if(Qt.length){const dt=[];Qt.forEach(Tt=>{dt.push(function s2(n,e){return new a.vHH(3505,un)}())}),Vt.forEach(Tt=>Tt.destroy()),this.reportError(dt)}const Cn=new Map,xs=new Map;d.forEach(dt=>{const Tt=dt.element;r.has(Tt)&&(xs.set(Tt,Tt),this._beforeAnimationBuild(dt.player.namespaceId,dt.instruction,Cn))}),i.forEach(dt=>{const Tt=dt.element;this._getPreviousPlayers(Tt,!1,dt.namespaceId,dt.triggerName,null).forEach(wn=>{Eo(Cn,Tt,[]).push(wn),wn.destroy()})});const pl=Ve.filter(dt=>tP(dt,y,E)),gl=new Map;JR(gl,this.driver,pt,E,fl).forEach(dt=>{tP(dt,y,E)&&pl.push(dt)});const M0=new Map;B.forEach((dt,Tt)=>{JR(M0,this.driver,new Set(dt),y,"!")}),pl.forEach(dt=>{const Tt=gl.get(dt),Rt=M0.get(dt);gl.set(dt,Object.assign(Object.assign({},Tt),Rt))});const op=[],AP=[],SP={};d.forEach(dt=>{const{element:Tt,player:Rt,instruction:wn}=dt;if(r.has(Tt)){if(A.has(Tt))return Rt.onDestroy(()=>cc(Tt,wn.toStyles)),Rt.disabled=!0,Rt.overrideTotalTime(wn.totalTime),void i.push(Rt);let vi=SP;if(xs.size>1){let To=Tt;const $d=[];for(;To=To.parentNode;){const gr=xs.get(To);if(gr){vi=gr;break}$d.push(To)}$d.forEach(gr=>xs.set(gr,vi))}const lc=this._buildAnimation(Rt.namespaceId,wn,Cn,c,M0,gl);if(Rt.setRealPlayer(lc),vi===SP)op.push(Rt);else{const To=this.playersByElement.get(vi);To&&To.length&&(Rt.parentPlayer=Vd(To)),i.push(Rt)}}else rp(Tt,wn.fromStyles),Rt.onDestroy(()=>cc(Tt,wn.toStyles)),AP.push(Rt),A.has(Tt)&&i.push(Rt)}),AP.forEach(dt=>{const Tt=c.get(dt.element);if(Tt&&Tt.length){const Rt=Vd(Tt);dt.setRealPlayer(Rt)}}),i.forEach(dt=>{dt.parentPlayer?dt.syncPlayerEvents(dt.parentPlayer):dt.destroy()});for(let dt=0;dt<Ve.length;dt++){const Tt=Ve[dt],Rt=Tt[ga];if(Qm(Tt,KC),Rt&&Rt.hasAnimation)continue;let wn=[];if(f.size){let lc=f.get(Tt);lc&&lc.length&&wn.push(...lc);let To=this.driver.query(Tt,_1,!0);for(let $d=0;$d<To.length;$d++){let gr=f.get(To[$d]);gr&&gr.length&&wn.push(...gr)}}const vi=wn.filter(lc=>!lc.destroyed);vi.length?sU(this,Tt,vi):this.processLeaveNode(Tt)}return Ve.length=0,op.forEach(dt=>{this.players.push(dt),dt.onDone(()=>{dt.destroy();const Tt=this.players.indexOf(dt);this.players.splice(Tt,1)}),dt.play()}),op}elementContainsData(e,t){let r=!1;const i=t[ga];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,c){let d=[];if(t){const f=this.playersByQueriedElement.get(e);f&&(d=f)}else{const f=this.playersByElement.get(e);if(f){const y=!c||c==x0;f.forEach(E=>{E.queued||!y&&E.triggerName!=i||d.push(E)})}}return(r||i)&&(d=d.filter(f=>!(r&&r!=f.namespaceId||i&&i!=f.triggerName))),d}_beforeAnimationBuild(e,t,r){const c=t.element,d=t.isRemovalTransition?void 0:e,f=t.isRemovalTransition?void 0:t.triggerName;for(const y of t.timelines){const E=y.element,A=E!==c,S=Eo(r,E,[]);this._getPreviousPlayers(E,A,d,f,t.toState).forEach(B=>{const G=B.getRealPlayer();G.beforeDestroy&&G.beforeDestroy(),B.destroy(),S.push(B)})}rp(c,t.fromStyles)}_buildAnimation(e,t,r,i,c,d){const f=t.triggerName,y=t.element,E=[],A=new Set,S=new Set,L=t.timelines.map(G=>{const fe=G.element;A.add(fe);const Ve=fe[ga];if(Ve&&Ve.removedBeforeQueried)return new A0(G.duration,G.delay);const nt=fe!==y,pt=function oU(n){const e=[];return eP(n,e),e}((r.get(fe)||J2).map(Cn=>Cn.getRealPlayer())).filter(Cn=>!!Cn.element&&Cn.element===fe),bt=c.get(fe),lt=d.get(fe),Vt=DR(0,this._normalizer,0,G.keyframes,bt,lt),Qt=this._buildPlayer(G,Vt,pt);if(G.subTimeline&&i&&S.add(fe),nt){const Cn=new R1(e,f,fe);Cn.setRealPlayer(Qt),E.push(Cn)}return Qt});E.forEach(G=>{Eo(this.playersByQueriedElement,G.element,[]).push(G),G.onDone(()=>function nU(n,e,t){let r;if(n instanceof Map){if(r=n.get(e),r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}}else if(r=n[e],r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&delete n[e]}return r}(this.playersByQueriedElement,G.element,G))}),A.forEach(G=>ma(G,FR));const B=Vd(L);return B.onDestroy(()=>{A.forEach(G=>Qm(G,FR)),cc(y,t.toStyles)}),S.forEach(G=>{Eo(i,G,[]).push(B)}),B}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new A0(e.duration,e.delay)}}class R1{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new A0,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(r=>d1(e,t,void 0,r))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Eo(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function lT(n){return n&&1===n.nodeType}function QR(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function JR(n,e,t,r,i){const c=[];t.forEach(y=>c.push(QR(y)));const d=[];r.forEach((y,E)=>{const A={};y.forEach(S=>{const L=A[S]=e.computeStyle(E,S,i);(!L||0==L.length)&&(E[ga]=X2,d.push(E))}),n.set(E,A)});let f=0;return t.forEach(y=>QR(y,c[f++])),d}function XR(n,e){const t=new Map;if(n.forEach(f=>t.set(f,[])),0==e.length)return t;const i=new Set(e),c=new Map;function d(f){if(!f)return 1;let y=c.get(f);if(y)return y;const E=f.parentNode;return y=t.has(E)?E:i.has(E)?1:d(E),c.set(f,y),y}return e.forEach(f=>{const y=d(f);1!==y&&t.get(y).push(f)}),t}function ma(n,e){var t;null===(t=n.classList)||void 0===t||t.add(e)}function Qm(n,e){var t;null===(t=n.classList)||void 0===t||t.remove(e)}function sU(n,e,t){Vd(t).onDone(()=>n.processLeaveNode(e))}function eP(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof TR?eP(r.players,e):e.push(r)}}function tP(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(c=>i.add(c)):e.set(n,r),t.delete(n),!0}class dT{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,c)=>{},this._transitionEngine=new tU(e,t,r),this._timelineEngine=new z2(e,t,r),this._transitionEngine.onRemovalComplete=(i,c)=>this.onRemovalComplete(i,c)}registerTrigger(e,t,r,i,c){const d=e+"-"+i;let f=this._triggerCache[d];if(!f){const y=[],A=E1(this._driver,c,y,[]);if(y.length)throw function WL(n,e){return new a.vHH(3404,un)}();f=function $2(n,e,t){return new q2(n,e,t)}(i,A,this._normalizer),this._triggerCache[d]=f}this._transitionEngine.registerTrigger(t,i,f)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[c,d]=AR(r);this._timelineEngine.command(c,t,d,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,c){if("@"==r.charAt(0)){const[d,f]=AR(r);return this._timelineEngine.listen(d,t,f,c)}return this._transitionEngine.listen(e,t,r,i,c)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let cU=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let c=n.initialStylesByElement.get(t);c||n.initialStylesByElement.set(t,c={}),this._initialStyles=c}start(){this._state<1&&(this._startStyles&&cc(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(cc(this._element,this._initialStyles),this._endStyles&&(cc(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(rp(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(rp(this._element,this._endStyles),this._endStyles=null),cc(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function P1(n){let e=null;const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=t[r];lU(i)&&(e=e||{},e[i]=n[i])}return e}function lU(n){return"display"===n||"position"===n}class nP{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,r){return e.animate(t,r)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};if(this.hasStarted()){const t=this._finalKeyframe;Object.keys(t).forEach(r=>{"offset"!=r&&(e[r]=this._finished?t[r]:jR(this.element,r))})}this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class dU{validateStyleProperty(e){return OR(e)}matchesElement(e,t){return!1}containsElement(e,t){return RR(e,t)}getParentElement(e){return g1(e)}query(e,t,r){return PR(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,c,d=[]){const y={duration:r,delay:i,fill:0==i?"both":"forwards"};c&&(y.easing=c);const E={},A=d.filter(L=>L instanceof nP);(function g2(n,e){return 0===n||0===e})(r,i)&&A.forEach(L=>{let B=L.currentSnapshot;Object.keys(B).forEach(G=>E[G]=B[G])}),t=function m2(n,e,t){const r=Object.keys(t);if(r.length&&e.length){let c=e[0],d=[];if(r.forEach(f=>{c.hasOwnProperty(f)||d.push(f),c[f]=t[f]}),d.length)for(var i=1;i<e.length;i++){let f=e[i];d.forEach(function(y){f[y]=jR(n,y)})}}return e}(e,t=t.map(L=>Bd(L,!1)),E);const S=function uU(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=P1(e[0]),e.length>1&&(r=P1(e[e.length-1]))):e&&(t=P1(e)),t||r?new cU(n,t,r):null}(e,t);return new nP(e,t,y,S)}}let hU=(()=>{class n extends vR{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:a.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?wR(t):t;return rP(this._renderer,null,r,"register",[i]),new fU(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(a.FYo),a.LFG(de))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class fU extends class IL{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new pU(this._id,e,t||{},this._renderer)}}class pU{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return rP(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function rP(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const iP="@.disabled";let gU=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(c,d)=>{const f=null==d?void 0:d.parentNode(c);f&&d.removeChild(f,c)}}createRenderer(t,r){const c=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let A=this._rendererCache.get(c);return A||(A=new sP("",c,this.engine),this._rendererCache.set(c,A)),A}const d=r.id,f=r.id+"-"+this._currentId;this._currentId++,this.engine.register(f,t);const y=A=>{Array.isArray(A)?A.forEach(y):this.engine.registerTrigger(d,f,t,A.name,A)};return r.data.animation.forEach(y),new mU(this,f,c,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(c=>{const[d,f]=c;d(f)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(a.FYo),a.LFG(dT),a.LFG(a.R0b))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class sP{constructor(e,t,r){this.namespaceId=e,this.delegate=t,this.engine=r,this.destroyNode=this.delegate.destroyNode?i=>t.destroyNode(i):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==iP?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class mU extends sP{constructor(e,t,r,i){super(t,r,i),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==iP?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.substr(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function yU(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let c=t.substr(1),d="";return"@"!=c.charAt(0)&&([c,d]=function _U(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(c)),this.engine.listen(this.namespaceId,i,c,d,f=>{this.factory.scheduleListenerCallback(f._data||-1,r,f)})}return this.delegate.listen(e,t,r)}}let vU=(()=>{class n extends dT{constructor(t,r,i){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(de),a.LFG(m1),a.LFG(A1))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const oP=new a.OlP("AnimationModuleType"),aP=[{provide:vR,useClass:hU},{provide:A1,useFactory:function bU(){return new U2}},{provide:dT,useClass:vU},{provide:a.FYo,useFactory:function wU(n,e,t){return new gU(n,e,t)},deps:[On,dT,a.R0b]}],uP=[{provide:m1,useFactory:()=>new dU},{provide:oP,useValue:"BrowserAnimations"},...aP],EU=[{provide:m1,useClass:NR},{provide:oP,useValue:"NoopAnimations"},...aP];let CU=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?EU:uP}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:uP,imports:[mu]}),n})();const cP=["toast-component",""];function TU(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"button",5),a.NdJ("click",function(){return a.CHM(t),a.oxw().remove()}),a.TgZ(1,"span",6),a._uU(2,"\xd7"),a.qZA()()}}function IU(n,e){if(1&n&&(a.ynx(0),a._uU(1),a.BQk()),2&n){const t=a.oxw(2);a.xp6(1),a.hij("[",t.duplicatesCount+1,"]")}}function DU(n,e){if(1&n&&(a.TgZ(0,"div"),a._uU(1),a.YNc(2,IU,2,1,"ng-container",4),a.qZA()),2&n){const t=a.oxw();a.Tol(t.options.titleClass),a.uIk("aria-label",t.title),a.xp6(1),a.hij(" ",t.title," "),a.xp6(1),a.Q6J("ngIf",t.duplicatesCount)}}function AU(n,e){if(1&n&&a._UZ(0,"div",7),2&n){const t=a.oxw();a.Tol(t.options.messageClass),a.Q6J("innerHTML",t.message,a.oJD)}}function SU(n,e){if(1&n&&(a.TgZ(0,"div",8),a._uU(1),a.qZA()),2&n){const t=a.oxw();a.Tol(t.options.messageClass),a.uIk("aria-label",t.message),a.xp6(1),a.hij(" ",t.message," ")}}function xU(n,e){if(1&n&&(a.TgZ(0,"div"),a._UZ(1,"div",9),a.qZA()),2&n){const t=a.oxw();a.xp6(1),a.Udp("width",t.width+"%")}}function MU(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"button",5),a.NdJ("click",function(){return a.CHM(t),a.oxw().remove()}),a.TgZ(1,"span",6),a._uU(2,"\xd7"),a.qZA()()}}function OU(n,e){if(1&n&&(a.ynx(0),a._uU(1),a.BQk()),2&n){const t=a.oxw(2);a.xp6(1),a.hij("[",t.duplicatesCount+1,"]")}}function RU(n,e){if(1&n&&(a.TgZ(0,"div"),a._uU(1),a.YNc(2,OU,2,1,"ng-container",4),a.qZA()),2&n){const t=a.oxw();a.Tol(t.options.titleClass),a.uIk("aria-label",t.title),a.xp6(1),a.hij(" ",t.title," "),a.xp6(1),a.Q6J("ngIf",t.duplicatesCount)}}function PU(n,e){if(1&n&&a._UZ(0,"div",7),2&n){const t=a.oxw();a.Tol(t.options.messageClass),a.Q6J("innerHTML",t.message,a.oJD)}}function NU(n,e){if(1&n&&(a.TgZ(0,"div",8),a._uU(1),a.qZA()),2&n){const t=a.oxw();a.Tol(t.options.messageClass),a.uIk("aria-label",t.message),a.xp6(1),a.hij(" ",t.message," ")}}function kU(n,e){if(1&n&&(a.TgZ(0,"div"),a._UZ(1,"div",9),a.qZA()),2&n){const t=a.oxw();a.xp6(1),a.Udp("width",t.width+"%")}}class FU{constructor(e,t){this.component=e,this.injector=t}attach(e,t){return this._attachedHost=e,e.attach(this,t)}detach(){const e=this._attachedHost;if(e)return this._attachedHost=void 0,e.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class fT{constructor(e,t,r,i,c,d){this.toastId=e,this.config=t,this.message=r,this.title=i,this.toastType=c,this.toastRef=d,this._onTap=new Or.x,this._onAction=new Or.x,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(e){this._onAction.next(e)}onAction(){return this._onAction.asObservable()}}const lP={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",payload:null},dP=new a.OlP("ToastConfig");class UU{constructor(e){this._overlayRef=e,this.duplicatesCount=0,this._afterClosed=new Or.x,this._activate=new Or.x,this._manualClose=new Or.x,this._resetTimeout=new Or.x,this._countDuplicate=new Or.x}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(e,t){e&&this._resetTimeout.next(),t&&this._countDuplicate.next(++this.duplicatesCount)}}class VU{constructor(e,t){this._toastPackage=e,this._parentInjector=t}get(e,t,r){return e===fT?this._toastPackage:this._parentInjector.get(e,t,r)}}class BU extends class LU{attach(e,t){return this._attachedPortal=e,this.attachComponentPortal(e,t)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(e){this._disposeFn=e}}{constructor(e,t,r){super(),this._hostDomElement=e,this._componentFactoryResolver=t,this._appRef=r}attachComponentPortal(e,t){const r=this._componentFactoryResolver.resolveComponentFactory(e.component);let i;return i=r.create(e.injector),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.detachView(i.hostView),i.destroy()}),t?this._hostDomElement.insertBefore(this._getComponentRootNode(i),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(i)),i}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}class jU{constructor(e){this._portalHost=e}attach(e,t=!0){return this._portalHost.attach(e,t)}detach(){return this._portalHost.detach()}}let HU=(()=>{class n{constructor(t){this._document=t}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._document.createElement("div");t.classList.add("overlay-container"),t.setAttribute("aria-live","polite"),this._document.body.appendChild(t),this._containerElement=t}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(de))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),$U=(()=>{class n{constructor(t,r,i,c){this._overlayContainer=t,this._componentFactoryResolver=r,this._appRef=i,this._document=c,this._paneElements=new Map}create(t,r){return this._createOverlayRef(this.getPaneElement(t,r))}getPaneElement(t="",r){return this._paneElements.get(r)||this._paneElements.set(r,{}),this._paneElements.get(r)[t]||(this._paneElements.get(r)[t]=this._createPaneElement(t,r)),this._paneElements.get(r)[t]}_createPaneElement(t,r){const i=this._document.createElement("div");return i.id="toast-container",i.classList.add(t),i.classList.add("toast-container"),r?r.getContainerElement().appendChild(i):this._overlayContainer.getContainerElement().appendChild(i),i}_createPortalHost(t){return new BU(t,this._componentFactoryResolver,this._appRef)}_createOverlayRef(t){return new jU(this._createPortalHost(t))}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(HU),a.LFG(a._Vd),a.LFG(a.z2F),a.LFG(de))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),jd=(()=>{class n{constructor(t,r,i,c,d){this.overlay=r,this._injector=i,this.sanitizer=c,this.ngZone=d,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig=Object.assign(Object.assign({},t.default),t.config),t.config.iconClasses&&(this.toastrConfig.iconClasses=Object.assign(Object.assign({},t.default.iconClasses),t.config.iconClasses))}show(t,r,i={},c=""){return this._preBuildNotification(c,t,r,this.applyConfig(i))}success(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",t,r,this.applyConfig(i))}error(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",t,r,this.applyConfig(i))}info(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",t,r,this.applyConfig(i))}warning(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",t,r,this.applyConfig(i))}clear(t){for(const r of this.toasts)if(void 0!==t){if(r.toastId===t)return void r.toastRef.manualClose()}else r.toastRef.manualClose()}remove(t){const r=this._findToast(t);if(!r||(r.activeToast.toastRef.close(),this.toasts.splice(r.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const i=this.toasts[this.currentlyActive].toastRef;i.isInactive()||(this.currentlyActive=this.currentlyActive+1,i.activate())}return!0}findDuplicate(t="",r="",i,c){const{includeTitleDuplicates:d}=this.toastrConfig;for(const f of this.toasts){const y=d&&f.title===t;if((!d||y)&&f.message===r)return f.toastRef.onDuplicate(i,c),f}return null}applyConfig(t={}){return Object.assign(Object.assign({},this.toastrConfig),t)}_findToast(t){for(let r=0;r<this.toasts.length;r++)if(this.toasts[r].toastId===t)return{index:r,activeToast:this.toasts[r]};return null}_preBuildNotification(t,r,i,c){return c.onActivateTick?this.ngZone.run(()=>this._buildNotification(t,r,i,c)):this._buildNotification(t,r,i,c)}_buildNotification(t,r,i,c){if(!c.toastComponent)throw new Error("toastComponent required");const d=this.findDuplicate(i,r,this.toastrConfig.resetTimeoutOnDuplicate&&c.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&i||r)&&this.toastrConfig.preventDuplicates&&null!==d)return d;this.previousToastMessage=r;let f=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(f=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const y=this.overlay.create(c.positionClass,this.overlayContainer);this.index=this.index+1;let E=r;r&&c.enableHtml&&(E=this.sanitizer.sanitize(a.q3G.HTML,r));const A=new UU(y),S=new fT(this.index,c,E,i,t,A),L=new VU(S,this._injector),B=new FU(c.toastComponent,L),G=y.attach(B,this.toastrConfig.newestOnTop);A.componentInstance=G.instance;const fe={toastId:this.index,title:i||"",message:r||"",toastRef:A,onShown:A.afterActivate(),onHidden:A.afterClosed(),onTap:S.onTap(),onAction:S.onAction(),portal:G};return f||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{fe.toastRef.activate()})),this.toasts.push(fe),fe}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(dP),a.LFG($U),a.LFG(a.zs3),a.LFG(us),a.LFG(a.R0b))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),qU=(()=>{class n{constructor(t,r,i){this.toastrService=t,this.toastPackage=r,this.ngZone=i,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=r.message,this.title=r.title,this.options=r.config,this.originalTimeout=r.config.timeOut,this.toastClasses=`${r.toastType} ${r.config.toastClass}`,this.sub=r.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=r.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=r.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=r.toastRef.countDuplicate().subscribe(c=>{this.duplicatesCount=c})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state=Object.assign(Object.assign({},this.state),{value:"active"}),!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state=Object.assign(Object.assign({},this.state),{value:"active"}),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state=Object.assign(Object.assign({},this.state),{value:"removed"}),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(t,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(t),r)):this.timeout=setTimeout(()=>t(),r)}outsideInterval(t,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(t),r)):this.intervalId=setInterval(()=>t(),r)}runInsideAngular(t){this.ngZone?this.ngZone.run(()=>t()):t()}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(jd),a.Y36(fT),a.Y36(a.R0b))},n.\u0275cmp=a.Xpm({type:n,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(t,r){1&t&&a.NdJ("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),2&t&&(a.d8E("@flyInOut",r.state),a.Tol(r.toastClasses),a.Udp("display",r.displayStyle))},attrs:cP,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(t,r){1&t&&(a.YNc(0,TU,3,0,"button",0),a.YNc(1,DU,3,5,"div",1),a.YNc(2,AU,1,3,"div",2),a.YNc(3,SU,2,4,"div",3),a.YNc(4,xU,2,2,"div",4)),2&t&&(a.Q6J("ngIf",r.options.closeButton),a.xp6(1),a.Q6J("ngIf",r.title),a.xp6(1),a.Q6J("ngIf",r.message&&r.options.enableHtml),a.xp6(1),a.Q6J("ngIf",r.message&&!r.options.enableHtml),a.xp6(1),a.Q6J("ngIf",r.options.progressBar))},directives:[Gn],encapsulation:2,data:{animation:[DL("flyInOut",[u1("inactive",D0({opacity:0})),u1("active",D0({opacity:1})),u1("removed",D0({opacity:0})),ER("inactive => active",bR("{{ easeTime }}ms {{ easing }}")),ER("active => removed",bR("{{ easeTime }}ms {{ easing }}"))])]}}),n})();const ZU=Object.assign(Object.assign({},lP),{toastComponent:qU});let GU=(()=>{class n{static forRoot(t={}){return{ngModule:n,providers:[{provide:dP,useValue:{default:ZU,config:t}}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[ts]]}),n})(),zU=(()=>{class n{constructor(t,r,i){this.toastrService=t,this.toastPackage=r,this.appRef=i,this.width=-1,this.toastClasses="",this.state="inactive",this.message=r.message,this.title=r.title,this.options=r.config,this.originalTimeout=r.config.timeOut,this.toastClasses=`${r.toastType} ${r.config.toastClass}`,this.sub=r.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=r.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=r.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=r.toastRef.countDuplicate().subscribe(c=>{this.duplicatesCount=c})}get displayStyle(){if("inactive"===this.state)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state="active",!(!0===this.options.disableTimeOut||"timeOut"===this.options.disableTimeOut)&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state="active",this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=(new Date).getTime()+(this.originalTimeout||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){"removed"!==this.state&&(clearTimeout(this.timeout),this.state="removed",this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){"removed"!==this.state&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state||(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(jd),a.Y36(fT),a.Y36(a.z2F))},n.\u0275cmp=a.Xpm({type:n,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(t,r){1&t&&a.NdJ("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),2&t&&(a.Tol(r.toastClasses),a.Udp("display",r.displayStyle))},attrs:cP,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(t,r){1&t&&(a.YNc(0,MU,3,0,"button",0),a.YNc(1,RU,3,5,"div",1),a.YNc(2,PU,1,3,"div",2),a.YNc(3,NU,2,4,"div",3),a.YNc(4,kU,2,2,"div",4)),2&t&&(a.Q6J("ngIf",r.options.closeButton),a.xp6(1),a.Q6J("ngIf",r.title),a.xp6(1),a.Q6J("ngIf",r.message&&r.options.enableHtml),a.xp6(1),a.Q6J("ngIf",r.message&&!r.options.enableHtml),a.xp6(1),a.Q6J("ngIf",r.options.progressBar))},directives:[Gn],encapsulation:2}),n})();Object.assign(Object.assign({},lP),{toastComponent:zU});let hP=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-rutinas"]],decls:81,vars:0,consts:[[1,"container-fluid"],[1,"container-fluid","bg-trasparent","my-4","p-3",2,"position","relative"],[1,"row","row-cols-1","row-cols-xs-2","row-cols-sm-2","row-cols-lg-4","g-3"],[1,"col","mb-4","py-5"],[1,"card","h-80","shadow-sm","text-center"],[1,"card-body"],[1,"clearfix","mb-2"],[1,"card-title"],[1,"d-grid","gap-0","my-0"],[1,"card-text"],[1,"nav","justify-content-center"],["href","#",1,"btn","btn-primary"],["routerLink","/listar-rutinas"],["routerLink","/crear-rutina"],[1,"clearfix","mb-0"],["routerLink","/rapidas",1,"btn","btn-primary"],["routerLink","/quemagrasa"],["routerLink","/pierna-y-gluteo"],["routerLink","/cardio-en-casa"],["routerLink","/abdominales"],[1,"d-grid","gap-0","my-4"],[1,"col","py-5"],[1,"clearfix","mb-3"],[1,"d-grid","gap-2","my-4"],[1,"d-grid","gap-0","my-2"],["routerLink","/estiramientos",1,"btn","btn-primary"]],template:function(t,r){1&t&&(a.TgZ(0,"div",0)(1,"main")(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6)(8,"h2",7)(9,"strong"),a._uU(10,"Rutinas"),a.qZA()()(),a.TgZ(11,"div",8)(12,"p",9),a._uU(13,"En este espacio puedes crear y personalizar tus rutinas."),a.qZA(),a._UZ(14,"br"),a.qZA(),a.TgZ(15,"ul",10)(16,"li")(17,"a",11),a._uU(18,"Mis rutinas"),a.qZA(),a.TgZ(19,"ul")(20,"li")(21,"a",12),a._uU(22,"Ver rutinas"),a.qZA()(),a.TgZ(23,"li")(24,"a",13),a._uU(25,"Crear nueva rutina"),a.qZA()()()()()()()(),a.TgZ(26,"div",3)(27,"div",4)(28,"div",5)(29,"div",14)(30,"h2",7)(31,"strong"),a._uU(32,"Rutinas r\xe1pidas"),a.qZA()(),a.TgZ(33,"ul",10)(34,"li")(35,"a",15),a._uU(36," M\xe1s sobre rutinas r\xe1pidas"),a.qZA(),a.TgZ(37,"ul")(38,"li")(39,"a",16),a._uU(40,"Quemagrasa"),a.qZA()(),a.TgZ(41,"li")(42,"a",17),a._uU(43,"Pierna y gl\xfateo"),a.qZA()(),a.TgZ(44,"li")(45,"a",18),a._uU(46,"Cardio en casa"),a.qZA()(),a.TgZ(47,"li")(48,"a",19),a._uU(49,"Abdominales"),a.qZA()()()()()(),a.TgZ(50,"div",20)(51,"p",9),a._uU(52,"Aqu\xed podr\xe1s encontrar rutinas de ejercicio pr\xe1cticas y que no demoran mas de 15 min!"),a.qZA()()()()(),a.TgZ(53,"div",21)(54,"div",4)(55,"div",5)(56,"div",22)(57,"h2",7)(58,"strong"),a._uU(59,"Retos"),a.qZA()()(),a.TgZ(60,"div",23)(61,"p",9),a._uU(62,"\xbfPlaneas un entrenamiento pero no quieres invertir mucho tiempo? entonces accede a nuestros retos."),a.qZA()(),a.TgZ(63,"ul",10)(64,"li")(65,"a",11),a._uU(66," M\xe1s sobre Retos"),a.qZA()()()()()(),a.TgZ(67,"div",21)(68,"div",4)(69,"div",5)(70,"div",22)(71,"h2",7)(72,"strong"),a._uU(73,"Estiramientos"),a.qZA()()(),a.TgZ(74,"div",24)(75,"p",9),a._uU(76,"No te ejercites sin antes haber calentado, evita lesiones.Aqu\xed te sugerimos algunos ejercicios."),a.qZA()(),a.TgZ(77,"ul",10)(78,"li")(79,"a",25),a._uU(80," M\xe1s sobre Estiramientos"),a.qZA()()()()()()()()()())},directives:[Fu],styles:[".container-fluid[_ngcontent-%COMP%]{background-color:#333}.card[_ngcontent-%COMP%]{background-color:#fff}ul[_ngcontent-%COMP%], ol[_ngcontent-%COMP%]{list-style:none}.nav[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{float:left}.nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{background-color:#fd7d3d;color:#000;text-decoration:none;padding:10px 12px;display:block}.nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#000;color:#fff}.nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:none;position:absolute;min-width:140px}.nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover > ul[_ngcontent-%COMP%]{display:block}.nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{position:relative}.nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{right:-140px;top:0px}"]}),n})(),fP=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-ejercicios"]],decls:69,vars:0,consts:[[1,"container-fluid"],[1,"container-fluid","bg-trasparent","my-4","p-3",2,"position","relative"],[1,"row","row-cols-1","row-cols-xs-2","row-cols-sm-2","row-cols-lg-4","g-3","my-3"],[1,"col"],[1,"card","h-79","shadow-sm","text-center"],["src","https://i.pinimg.com/originals/64/41/a3/6441a32e732c6dbeeb26e22bd0aef8bd.jpg","alt","...",1,"card-img-top","img-responsive"],[1,"card-body"],[1,"card-title"],["routerLink","/pectorales",1,"btn","btn-primary"],[1,"card","h-81","shadow-sm","text-center"],["src","https://i.pinimg.com/originals/92/01/50/920150fbc9d76fcce4ae52f7639d3ae4.jpg","alt","...",1,"card-img-top","img-responsive"],["routerLink","/espalda",1,"btn","btn-primary"],[1,"card","h-80","shadow-sm","text-center"],["src","https://i.pinimg.com/originals/ad/28/65/ad2865724041901eda909a0c14decfdd.jpg","alt","...",1,"card-img-top","img-responsive"],["routerLink","/pierna",1,"btn","btn-primary"],["routerLink","/triceps",1,"btn","btn-primary"],["src","https://i.pinimg.com/originals/ee/09/7f/ee097f7a91a4c8dcb4e29848ed4c61a1.jpg","alt","...",1,"card-img-top","img-responsive"],["routerLink","/abdomen",1,"btn","btn-primary"],["src","https://i.pinimg.com/originals/5c/21/4e/5c214efb89b19927d9b37c18c23f6a05.jpg","alt","...",1,"card-img-top","img-responsive"],["routerLink","/antebrazo",1,"btn","btn-primary"],["src","https://i.pinimg.com/originals/27/22/3b/27223ba06962009f3812cc45106317cf.jpg","alt","...",1,"card-img-top","img-responsive"],["routerLink","/biceps",1,"btn","btn-primary"],["src","https://i.pinimg.com/originals/d9/50/38/d95038df71b314ba09014c6a1ca1f9dd.jpg","alt","...",1,"card-img-top","img-responsive"],["routerLink","/gluteos",1,"btn","btn-primary"]],template:function(t,r){1&t&&(a.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),a._UZ(5,"img",5),a.TgZ(6,"div",6)(7,"h3",7),a._uU(8,"Pectorales"),a.qZA(),a.TgZ(9,"a",8),a._uU(10,"Ver gu\xeda"),a.qZA()()()(),a.TgZ(11,"div",3)(12,"div",9),a._UZ(13,"img",10),a.TgZ(14,"div",6)(15,"h3",7),a._uU(16,"Espalda"),a.qZA(),a.TgZ(17,"a",11),a._uU(18,"Ver gu\xeda"),a.qZA()()()(),a.TgZ(19,"div",3)(20,"div",12),a._UZ(21,"img",13),a.TgZ(22,"div",6)(23,"h3",7),a._uU(24,"Pierna"),a.qZA(),a.TgZ(25,"a",14),a._uU(26,"Ver gu\xeda"),a.qZA()()()(),a.TgZ(27,"div",3)(28,"div",9),a._UZ(29,"img",10),a.TgZ(30,"div",6)(31,"h3",7),a._uU(32,"Tr\xedceps"),a.qZA(),a.TgZ(33,"a",15),a._uU(34,"Ver gu\xeda"),a.qZA()()()()(),a.TgZ(35,"div",2)(36,"div",3)(37,"div",4),a._UZ(38,"img",16),a.TgZ(39,"div",6)(40,"h3",7),a._uU(41,"Abdomen"),a.qZA(),a.TgZ(42,"a",17),a._uU(43,"Ver gu\xeda"),a.qZA()()()(),a.TgZ(44,"div",3)(45,"div",9),a._UZ(46,"img",18),a.TgZ(47,"div",6)(48,"h3",7),a._uU(49,"Antebrazo"),a.qZA(),a.TgZ(50,"a",19),a._uU(51,"Ver gu\xeda"),a.qZA()()()(),a.TgZ(52,"div",3)(53,"div",12),a._UZ(54,"img",20),a.TgZ(55,"div",6)(56,"h3",7),a._uU(57,"Biceps"),a.qZA(),a.TgZ(58,"a",21),a._uU(59,"Ver gu\xeda"),a.qZA()()()(),a.TgZ(60,"div",3)(61,"div",9),a._UZ(62,"img",22),a.TgZ(63,"div",6)(64,"h3",7),a._uU(65,"Gl\xfateos"),a.qZA(),a.TgZ(66,"a",23),a._uU(67,"Ver gu\xeda"),a.qZA()()()()()()(),a._UZ(68,"router-outlet"))},directives:[Fu,ta],styles:[".container-fluid[_ngcontent-%COMP%]{background-color:#333;height:100vh;font-family:Arial,sans-serif}.card[_ngcontent-%COMP%]{background-color:#fd7d3d}"]}),n})(),pP=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-blog"]],decls:111,vars:0,consts:[[1,"container","mt-5"],[1,"row"],[1,"col-lg-8"],[1,"mb-4"],[1,"fw-bolder","mb-1"],[1,"text-muted","fst-italic","mb-2"],["href","#!",1,"badge","bg-secondary","text-decoration-none","link-light"],["src","https://i.pinimg.com/originals/52/55/6d/52556d5966ddb83d822b6d254cccf4e4.jpg","alt","...",1,"img-fluid","rounded"],[1,"mb-5"],[1,"fs-5","mb-4"],[1,"fw-bolder","mb-4","mt-5"],[1,"card","bg-light"],[1,"card-body"],["rows","3","placeholder","Join the discussion and leave a comment!",1,"form-control"],[1,"d-flex","mb-4"],[1,"flex-shrink-0"],["src","https://i.pinimg.com/originals/2a/ba/f9/2abaf90400d13ffa160296580a953456.jpg","alt","...","width","50px","height","50 px",1,"rounded-circle"],[1,"ms-3"],[1,"fw-bold"],[1,"d-flex","mt-4"],["src","https://i.pinimg.com/originals/9c/a0/b4/9ca0b412cacec815757fe1575a9cf8c6.jpg","alt","...","height","50 px",1,"rounded-circle"],["href"," "],[1,"d-flex"],["src","https://i.pinimg.com/originals/a1/f9/92/a1f992e7e0a8cce5a9134ae34afae668.jpg","alt","...","width","50px","height","50 px",1,"rounded-circle"],[1,"col-lg-4"],[1,"card","mb-4"],[1,"card-header"],[1,"input-group"],["type","text","placeholder","Enter search term...","aria-label","Enter search term...","aria-describedby","button-search",1,"form-control"],["id","button-search","type","button",1,"btn","btn-primary"],[1,"col-sm-6"],[1,"list-unstyled","mb-0"],["href","#!"]],template:function(t,r){1&t&&(a.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"article")(4,"header",3)(5,"h1",4),a._uU(6,"Bienvenido a este espacio de Blog Post!"),a.qZA(),a.TgZ(7,"div",5),a._uU(8,"Publicado el 6 de Mayo, 2022 by Gym Routine"),a.qZA(),a.TgZ(9,"a",6),a._uU(10,"Blog"),a.qZA()(),a.TgZ(11,"figure",3),a._UZ(12,"img",7),a.qZA(),a.TgZ(13,"section",8)(14,"p",9),a._uU(15,"Reduce el estr\xe9s comenzando a planificar un espacio para ti mismo, sacando toda la tensi\xf3n por medio de ejercicio y buena alimentaci\xf3n. Este es un espacio para escucharte y Gym routine se preocupa por tu salud fisica y mental."),a.qZA(),a.TgZ(16,"h2",10),a._uU(17,"Sabias que..?"),a.qZA(),a.TgZ(18,"p",9),a._uU(19,"El cuerpo humano tiene m\xe1s de 650 m\xfasculos y cada fibra muscular es m\xe1s delgada que un cabello. Sin embargo, cada una es capaz de soportar mil veces su peso. Imag\xednate todo lo que el cuerpo puede lograr si trabajas de manera adecuada."),a.qZA(),a.TgZ(20,"p",9),a._uU(21,"A cualquier edad se puede comenzar a hacer ejercicio, pero cuanto antes te ayudar\xe1 a prevenir m\xe1s problemas. Las personas que no hacen ejercicio pueden perder entre 3 y 5 % de masa muscular por d\xe9cada a partir de los 30 a\xf1os. Y al llegar a los 65 a\xf1os habr\xe1n perdido hasta el 80 % de la fuerza muscular. Esto los hace menos independientes que una persona que se haya mantenido activa durante su vida."),a.qZA(),a.TgZ(22,"p",9),a._uU(23,"El ejercicio f\xedsico no s\xf3lo es bueno sino que es necesario, imprescindible si quieres llevar un estilo de vida saludable. Eso s\xed, no vale hacerlo de cualquier forma: debes tener en cuenta los consejos de los expertos para evitar lesiones y mejorar constantemente, ya que siempre hay secretos y cosas que no conoces de hacer ejercicio."),a.qZA(),a.TgZ(24,"p",9),a._uU(25," Esto no es todo sobre la actividad f\xedsica, pero sin duda son datos que necesitas saber si quieres entrar al mundo fitness. Si conoces alguna otra informaci\xf3n d\xe9janos un comentario y t\xf3mate unos minutos para ver nuestras versiones de aplicaci\xf3n Gym Routine.Gracias por leernos!"),a.qZA()()(),a.TgZ(26,"section",8)(27,"div",11)(28,"div",12)(29,"form",3),a._UZ(30,"textarea",13),a.qZA(),a.TgZ(31,"div",14)(32,"div",15),a._UZ(33,"img",16),a.qZA(),a.TgZ(34,"div",17)(35,"div",18),a._uU(36,"Diana Padilla"),a.qZA(),a._uU(37," Exclente informaci\xf3n, gracias por el aporte, en donde puedo albergar mis consejos a otros participantes? "),a.TgZ(38,"div",19)(39,"div",15),a._UZ(40,"img",20),a.qZA(),a.TgZ(41,"div",17)(42,"div",18),a._uU(43,"Gym Routine"),a.qZA(),a._uU(44,' Hola Diana, nos alegra mucho leer tu opin\xf3n, puedes ingresar al apartado "'),a.TgZ(45,"a",21),a._uU(46,"Mi opini\xf3n"),a.qZA(),a._uU(47,'" y con gusto te leeremos!. '),a.qZA()(),a.TgZ(48,"div",19)(49,"div",15),a._UZ(50,"img",16),a.qZA(),a.TgZ(51,"div",17)(52,"div",18),a._uU(53,"Diana Padilla"),a.qZA(),a._uU(54," Perfecto!, gracias. "),a.qZA()()()(),a.TgZ(55,"div",22)(56,"div",15),a._UZ(57,"img",23),a.qZA(),a.TgZ(58,"div",17)(59,"div",18),a._uU(60,"Luis Ocegueda"),a.qZA(),a._uU(61," Hola, hace poco me suscrib\xed al blog, soy entrenador yme gustar\xeda hacer una aclaraci\xf3n para todas aquellas personas que piensan que podemos quemar la grasa localizada, no puedes elegir d\xf3nde quieres localizar la quema de grasas, realidad es un lema que las compa\xf1\xedas publicitarias han explotado durante d\xe9cadas.No puedes quemar la grasa de la tripa o las cartucheras antes que la del resto del cuerpo, ojal\xe1 les sirva como aportaci\xf3n, gracias. "),a.qZA()()()()()(),a.TgZ(62,"div",24)(63,"div",25)(64,"div",26),a._uU(65,"Search"),a.qZA(),a.TgZ(66,"div",12)(67,"div",27),a._UZ(68,"input",28),a.TgZ(69,"button",29),a._uU(70,"Go!"),a.qZA()()()(),a.TgZ(71,"div",25)(72,"div",26),a._uU(73,"Categories"),a.qZA(),a.TgZ(74,"div",12)(75,"div",1)(76,"div",30)(77,"ul",31)(78,"li")(79,"a",32),a._uU(80,"Rutinas de otros usuarios"),a.qZA()(),a.TgZ(81,"li")(82,"a",32),a._uU(83,"Plan de alimentaci\xf3n"),a.qZA()(),a.TgZ(84,"li")(85,"a",32),a._uU(86,"H\xe1bitos complementarios"),a.qZA()()()(),a.TgZ(87,"div",30)(88,"ul",31)(89,"li")(90,"a",32),a._uU(91,"Mi opini\xf3n"),a.qZA()(),a.TgZ(92,"li")(93,"a",32),a._uU(94,"Grupo en instagram"),a.qZA()()()()()()(),a.TgZ(95,"div",25)(96,"div",26),a._uU(97,"Recomendaciones"),a.qZA(),a.TgZ(98,"div",12),a._uU(99,"-Debes adaptar tus horarios de comida a tus horarios de entrenamiento"),a._UZ(100,"br"),a._uU(101,"-Haz ejercicios de calentamiento (5-10 minutos) y estiramiento"),a._UZ(102,"br"),a._uU(103," -Mantente Hidratado"),a._UZ(104,"br"),a._uU(105," -Viste de manera c\xf3moda"),a._UZ(106,"br"),a._uU(107," -No te esfuerces mas de lo necesario"),a._UZ(108,"br"),a._uU(109," -Haz las cosas con buena actitud e inspiera a otros"),a.qZA()()()()(),a._UZ(110,"router-outlet"))},directives:[Zc,Xa,Gh,ta],styles:["p[_ngcontent-%COMP%]{font-family:Times New Roman,Times,serif;text-align:justify}"]}),n})();var WU=P(655);function N1(n){return n instanceof a.Rgc}function k1(n){return"function"==typeof n}function gP(n){return"string"==typeof n}let KU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["dynamic-view"]],inputs:{content:"content"},decls:1,vars:1,consts:[[3,"innerHTML"]],template:function(t,r){1&t&&a._UZ(0,"div",0),2&t&&a.Q6J("innerHTML",r.content,a.oJD)},encapsulation:2}),n})();class YU{constructor(e){this.args=e,this.wrapper=null,this.args.vcr?(this.viewRef=this.args.vcr.createEmbeddedView(this.args.tpl,this.args.context||{}),this.viewRef.detectChanges()):(this.viewRef=this.args.tpl.createEmbeddedView(this.args.context||{}),this.viewRef.detectChanges(),this.args.appRef.attachView(this.viewRef))}detectChanges(){this.viewRef.detectChanges()}getElement(){const e=this.viewRef.rootNodes;return 1===e.length&&e[0]===Node.ELEMENT_NODE?this.element=e[0]:(this.element=document.createElement("div"),this.element.append(...e)),this.element}destroy(){var e;1!==this.viewRef.rootNodes[0]&&(null===(e=this.element)||void 0===e||e.parentNode.removeChild(this.element),this.element=null),this.args.vcr||this.args.appRef.detachView(this.viewRef),this.viewRef.destroy(),this.viewRef=null}}class QU{constructor(e){this.value=e}getElement(){return this.value}detectChanges(){}destroy(){}}class JU{constructor(e){if(this.options=e,e.vcr)this.compRef=e.vcr.createComponent(e.component,{index:e.vcr.length,injector:e.injector||e.vcr.injector});else{const t=e.resolver.resolveComponentFactory(e.component);this.compRef=t.create(e.injector),e.appRef.attachView(this.compRef.hostView)}}get ref(){return this.compRef}setInput(e,t){return this.compRef.instance[e]=t,this}setInputs(e){return Object.keys(e).forEach(t=>{this.compRef.instance[t]=e[t]}),this}detectChanges(){return this.compRef.hostView.detectChanges(),this}appendTo(e){return e.appendChild(this.getElement()),this}removeFrom(e){return e.removeChild(this.getElement()),this}getRawContent(){return this.getElement().outerHTML}getElement(){return this.compRef.location.nativeElement}destroy(){this.compRef.destroy(),!this.options.vcr&&this.options.appRef.detachView(this.compRef.hostView),this.compRef=null}}let mP=(()=>{class n{constructor(t,r,i){this.resolver=t,this.injector=r,this.appRef=i}createComponent(t,r={}){return new JU({component:t,vcr:r.vcr,injector:r.injector||this.injector,appRef:this.appRef,resolver:this.resolver})}createTemplate(t,r={}){return new YU({vcr:r.vcr,appRef:this.appRef,tpl:t,context:r.context})}createView(t,r={}){if(N1(t))return this.createTemplate(t,r);if(k1(t))return this.createComponent(t,r);if(gP(t))return new QU(t);throw"Type of content is not supported"}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(a._Vd),a.LFG(a.zs3),a.LFG(a.z2F))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),XU=(()=>{class n{constructor(t,r,i){this.defaultTpl=t,this.vcr=r,this.viewService=i}ngOnInit(){this.resolveContentType()}ngOnChanges(t){t.view&&!t.view.isFirstChange()&&this.resolveContentType()}resolveContentType(){var t,r;null===(t=this.viewRef)||void 0===t||t.destroy(),gP(this.view)?(this.viewRef=this.viewService.createComponent(KU,{vcr:this.vcr,injector:this.injector}),this.viewRef.setInput("content",this.view).detectChanges()):this.viewRef=this.viewService.createView(this.view||this.defaultTpl,{vcr:this.vcr,injector:null!==(r=this.injector)&&void 0!==r?r:this.vcr.injector,context:this.context})}ngOnDestroy(){var t;null===(t=this.viewRef)||void 0===t||t.destroy()}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.Rgc),a.Y36(a.s_b),a.Y36(mP))},n.\u0275dir=a.lG2({type:n,selectors:[["","dynamicView",""]],inputs:{view:["dynamicView","view"],injector:["dynamicViewInjector","injector"],context:["dynamicViewContext","context"]},features:[a.TTD]}),n})(),eV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();const{isArray:tV}=Array;const sV=["*"],oV=function(n,e){return{"border-color":n,"border-right-color":e}};function aV(n,e){if(1&n&&(a.TgZ(0,"div"),a._uU(1,"\n        "),a._UZ(2,"hot-toast-error",2),a._uU(3,"\n      "),a.qZA()),2&n){const t=a.oxw(3);a.xp6(2),a.Q6J("theme",t.theme)}}function uV(n,e){if(1&n&&(a.TgZ(0,"div"),a._uU(1,"\n        "),a._UZ(2,"hot-toast-checkmark",2),a._uU(3,"\n      "),a.qZA()),2&n){const t=a.oxw(3);a.xp6(2),a.Q6J("theme",t.theme)}}function cV(n,e){if(1&n&&(a.TgZ(0,"div"),a._uU(1,"\n        "),a._UZ(2,"hot-toast-warning",2),a._uU(3,"\n      "),a.qZA()),2&n){const t=a.oxw(3);a.xp6(2),a.Q6J("theme",t.theme)}}function lV(n,e){if(1&n&&(a.TgZ(0,"div"),a._uU(1,"\n        "),a._UZ(2,"hot-toast-info",2),a._uU(3,"\n      "),a.qZA()),2&n){const t=a.oxw(3);a.xp6(2),a.Q6J("theme",t.theme)}}function dV(n,e){if(1&n&&(a.TgZ(0,"div",4),a._uU(1,"\n    "),a.TgZ(2,"div",5),a._uU(3,"\n      "),a.YNc(4,aV,4,1,"div",6),a._uU(5,"\n      "),a.YNc(6,uV,4,1,"div",6),a._uU(7,"\n      "),a.YNc(8,cV,4,1,"div",6),a._uU(9,"\n      "),a.YNc(10,lV,4,1,"div",6),a._uU(11,"\n    "),a.qZA(),a._uU(12,"\n  "),a.qZA()),2&n){const t=a.oxw(2);a.xp6(2),a.Q6J("ngSwitch",t.type),a.xp6(2),a.Q6J("ngSwitchCase","error"),a.xp6(2),a.Q6J("ngSwitchCase","success"),a.xp6(2),a.Q6J("ngSwitchCase","warning"),a.xp6(2),a.Q6J("ngSwitchCase","info")}}function hV(n,e){if(1&n&&(a.TgZ(0,"div",1),a._uU(1,"\n  "),a._UZ(2,"hot-toast-loader",2),a._uU(3,"\n  "),a.YNc(4,dV,13,5,"div",3),a._uU(5,"\n"),a.qZA()),2&n){const t=a.oxw();a.xp6(2),a.Q6J("theme",t.theme),a.xp6(2),a.Q6J("ngIf","loading"!==t.type)}}const fV=["hotToastBarBase"];function pV(n,e){if(1&n&&(a.ynx(0),a._uU(1,"\n          "),a.TgZ(2,"hot-toast-animated-icon",10),a._uU(3),a.qZA(),a._uU(4,"\n        "),a.BQk()),2&n){const t=a.oxw(2);a.xp6(2),a.Q6J("iconTheme",t.toast.iconTheme),a.xp6(1),a.Oqu(t.toast.icon)}}function gV(n,e){if(1&n&&(a._uU(0,"\n          "),a.TgZ(1,"div"),a._uU(2,"\n            "),a.GkF(3,11),a._uU(4,"\n          "),a.qZA(),a._uU(5,"\n        ")),2&n){const t=a.oxw(2);a.xp6(3),a.Q6J("dynamicView",t.toast.icon)}}function mV(n,e){if(1&n&&(a.ynx(0),a._uU(1,"\n        "),a.YNc(2,pV,5,2,"ng-container",4),a._uU(3,"\n        "),a.YNc(4,gV,6,1,"ng-template",null,9,a.W1O),a._uU(6,"\n      "),a.BQk()),2&n){const t=a.MAs(5),r=a.oxw();a.xp6(2),a.Q6J("ngIf",r.isIconString)("ngIfElse",t)}}function yV(n,e){if(1&n&&(a._uU(0,"\n        "),a._UZ(1,"hot-toast-indicator",12),a._uU(2,"\n      ")),2&n){const t=a.oxw();a.xp6(1),a.Q6J("theme",t.toast.iconTheme)("type",t.toast.type)}}function _V(n,e){1&n&&a.GkF(0)}function vV(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"button",13),a.NdJ("click",function(){return a.CHM(t),a.oxw().close()}),a.qZA()}if(2&n){const t=a.oxw();a.Q6J("ngStyle",t.toast.closeStyle)}}function bV(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"hot-toast",3),a.NdJ("height",function(i){const d=a.CHM(t).$implicit;return a.oxw().updateHeight(i,d)})("beforeClosed",function(){const c=a.CHM(t).$implicit;return a.oxw().beforeClosed(c)})("afterClosed",function(i){return a.CHM(t),a.oxw().afterClosed(i)}),a.qZA()}if(2&n){const t=e.$implicit,r=e.index,i=a.oxw();a.Q6J("toast",t)("offset",i.calculateOffset(t.id,t.position))("toastRef",i.toastRefs[r])}}const yP={blank:4e3,error:4e3,success:4e3,loading:3e4,warning:4e3,info:4e3};class vP{constructor(e){this.toast=e,this._onClosed=new Or.x}set dispose(e){this._dispose=e}getToast(){return this.toast}appendTo(e){const{dispose:t,updateMessage:r,updateToast:i,afterClosed:c}=e.addToast(this);return this.dispose=t,this.updateMessage=r,this.updateToast=i,this.afterClosed=function rV(...n){return 1===(n=function nV(n){return 1===n.length&&tV(n[0])?n[0]:n}(n)).length?(0,Yl.Xf)(n[0]):new Ii.y(function iV(n){return e=>{let t=[];for(let r=0;t&&!e.closed&&r<n.length;r++)t.push((0,Yl.Xf)(n[r]).subscribe((0,di.x)(e,i=>{if(t){for(let c=0;c<t.length;c++)c!==r&&t[c].unsubscribe();t=null}e.next(i)})))}}(n))}(this._onClosed.asObservable(),c),this}close(e={dismissedByAction:!1}){this._dispose(),this._onClosed.next({dismissedByAction:e.dismissedByAction,id:this.toast.id}),this._onClosed.complete()}get data(){return this.toast.data}}let TV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["hot-toast-animated-icon"]],inputs:{iconTheme:"iconTheme"},ngContentSelectors:sV,decls:5,vars:2,consts:[[1,"hot-toast-animated-icon"]],template:function(t,r){1&t&&(a.F$t(),a.TgZ(0,"div",0),a._uU(1,"\n  "),a.Hsn(2),a._uU(3,"\n"),a.qZA(),a._uU(4,"\n")),2&t&&a.Udp("color",null==r.iconTheme?null:r.iconTheme.primary)},styles:["@keyframes hotToastEnter{0%{transform:scale(0)}to{transform:scale(1)}}.hot-toast-animated-icon[_ngcontent-%COMP%]{animation:var(--hot-toast-animated-icon-animation, hotToastEnter .3s ease-in-out forwards);position:var(--hot-toast-animated-icon-position, relative);transform:var(--hot-toast-animated-icon-transform, scale(0))}@media (prefers-reduced-motion: reduce){.hot-toast-animated-icon[_ngcontent-%COMP%]{animation-duration:var(--hot-toast-animated-icon-reduced-motion-animation-duration, none);opacity:var(--hot-toast-animated-icon-reduced-motion-opacity, 1);transform:var(--hot-toast-animated-icon-reduced-motion-transform, scale(1))}}"],changeDetection:0}),n})(),IV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["hot-toast-loader"]],inputs:{theme:"theme"},decls:2,vars:4,consts:[[1,"hot-toast-loader-icon",3,"ngStyle"]],template:function(t,r){1&t&&(a._UZ(0,"div",0),a._uU(1,"\n")),2&t&&a.Q6J("ngStyle",a.WLB(1,oV,null==r.theme?null:r.theme.primary,null==r.theme?null:r.theme.secondary))},directives:[dc],styles:["@keyframes hotToastRotate{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.hot-toast-loader-icon[_ngcontent-%COMP%]{animation:var(--hot-toast-loader-icon-animation, hotToastRotate 1s linear infinite);border:var(--hot-toast-loader-icon-border, 2px solid);border-bottom-color:var(--hot-toast-loader-icon-border-color, #e0e0e0);border-left-color:var(--hot-toast-loader-icon-border-color, #e0e0e0);border-radius:var(--hot-toast-loader-icon-border-radius, 100%);border-right-color:var(--hot-toast-loader-icon-border-right-color, #616161);border-top-color:var(--hot-toast-loader-icon-border-color, #e0e0e0);box-sizing:var(--hot-toast-loader-icon-box-sizing, border-box);height:var(--hot-toast-loader-icon-height, 18px);padding-top:var(--hot-toast-loader-icon-padding-top, 2px);width:var(--hot-toast-loader-icon-width, 18px)}@media (prefers-reduced-motion: reduce){.hot-toast-loader-icon[_ngcontent-%COMP%]{animation-duration:var(--hot-toast-loader-icon-reduced-motion-animation-duration, 5s)}}"],changeDetection:0}),n})(),DV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["hot-toast-error"]],inputs:{theme:"theme"},decls:2,vars:4,consts:[[1,"hot-toast-error-icon"]],template:function(t,r){1&t&&(a._UZ(0,"div",0),a._uU(1,"\n")),2&t&&a.Udp("--error-primary",null==r.theme?null:r.theme.primary)("--error-secondary",null==r.theme?null:r.theme.secondary)},styles:['@keyframes hotToastErrorCircleAnimation{0%{opacity:0;transform:scale(0) rotate(45deg)}to{opacity:1;transform:scale(1) rotate(45deg)}}@keyframes hotToastFirstLineAnimation{0%{opacity:0;transform:scale(0)}to{opacity:1;transform:scale(1)}}@keyframes hotToastSecondLineAnimation{0%{opacity:0;transform:scale(0) rotate(90deg)}to{opacity:1;transform:scale(1) rotate(90deg)}}.hot-toast-error-icon[_ngcontent-%COMP%]{animation:var(--hot-toast-error-icon-animation, hotToastErrorCircleAnimation .3s cubic-bezier(.175, .885, .32, 1.275) forwards);animation-delay:var(--hot-toast-error-icon-animation-delay, .1s);background:var(--hot-toast-error-icon-background, var(--error-primary, #ff4b4b));border-radius:var(--hot-toast-error-icon-border-radius, 10px);height:var(--hot-toast-error-icon-height, 20px);opacity:var(--hot-toast-error-icon-opacity, 0);position:var(--hot-toast-error-icon-position, relative);transform:var(--hot-toast-error-icon-transform, rotate(45deg));width:var(--hot-toast-error-icon-width, 20px)}@media (prefers-reduced-motion: reduce){.hot-toast-error-icon[_ngcontent-%COMP%]{animation-duration:var(--hot-toast-error-icon-reduced-motion-animation-duration, 0ms)}}.hot-toast-error-icon[_ngcontent-%COMP%]:after, .hot-toast-error-icon[_ngcontent-%COMP%]:before{animation:var(--hot-toast-error-icon-after-before-animation, hotToastFirstLineAnimation .15s ease-out forwards);animation-delay:var(--hot-toast-error-icon-after-before-animation-delay, .15s);background:var(--hot-toast-error-icon-after-before-background, var(--error-secondary, #fff));border-radius:var(--hot-toast-error-icon-after-before-border-radius, 3px);bottom:var(--hot-toast-error-icon-after-before-bottom, 9px);content:var(--hot-toast-error-icon-after-before-content, "");height:var(--hot-toast-error-icon-after-before-height, 2px);left:var(--hot-toast-error-icon-after-before-left, 4px);opacity:var(--hot-toast-error-icon-after-before-opacity, 0);position:var(--hot-toast-error-icon-after-before-position, absolute);width:var(--hot-toast-error-icon-after-before-width, 12px)}@media (prefers-reduced-motion: reduce){.hot-toast-error-icon[_ngcontent-%COMP%]:after, .hot-toast-error-icon[_ngcontent-%COMP%]:before{animation-duration:var(--hot-toast-error-icon-after-before-reduced-motion-animation-duration, 0ms)}}.hot-toast-error-icon[_ngcontent-%COMP%]:before{animation:var(--hot-toast-error-icon-before-animation, hotToastSecondLineAnimation .15s ease-out forwards);animation-delay:var(--hot-toast-error-icon-before-animation-delay, .18s);transform:var(--hot-toast-error-icon-before-transform, rotate(90deg))}@media (prefers-reduced-motion: reduce){.hot-toast-error-icon[_ngcontent-%COMP%]:before{animation-duration:var(--hot-toast-error-icon-before-reduced-motion-animation-duration, 0ms)}}'],changeDetection:0}),n})(),AV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["hot-toast-checkmark"]],inputs:{theme:"theme"},decls:2,vars:4,consts:[[1,"hot-toast-checkmark-icon"]],template:function(t,r){1&t&&(a._UZ(0,"div",0),a._uU(1,"\n")),2&t&&a.Udp("--check-primary",null==r.theme?null:r.theme.primary)("--check-secondary",null==r.theme?null:r.theme.secondary)},styles:['@keyframes hotToastCircleAnimation{0%{opacity:0;transform:scale(0) rotate(45deg)}to{opacity:1;transform:scale(1) rotate(45deg)}}@keyframes hotToastCheckmarkAnimation{0%{height:0;opacity:0;width:0}40%{height:0;opacity:1;width:6px}to{height:10px;opacity:1}}.hot-toast-checkmark-icon[_ngcontent-%COMP%]{animation:var(--hot-toast-checkmark-icon-animation, hotToastCircleAnimation .3s cubic-bezier(.175, .885, .32, 1.275) forwards);animation-delay:var(--hot-toast-checkmark-icon-animation-delay, .1s);background-color:var(--hot-toast-checkmark-icon-background-color, var(--check-primary, #61d345));border-radius:var(--hot-toast-checkmark-icon-border-radius, 10px);height:var(--hot-toast-checkmark-icon-height, 20px);opacity:var(--hot-toast-checkmark-icon-opacity, 0);position:var(--hot-toast-checkmark-icon-position, relative);transform:var(--hot-toast-checkmark-icon-transform, rotate(45deg));width:var(--hot-toast-checkmark-icon-width, 20px)}@media (prefers-reduced-motion: reduce){.hot-toast-checkmark-icon[_ngcontent-%COMP%]{animation-duration:var(--hot-toast-checkmark-icon-reduced-motion-animation-duration, 0ms)}}.hot-toast-checkmark-icon[_ngcontent-%COMP%]:after{animation:var(--hot-toast-checkmark-icon-after-animation, hotToastCheckmarkAnimation .2s ease-out forwards);animation-delay:var(--hot-toast-checkmark-icon-after-animation-delay, .2s);border-bottom-style:solid;border-bottom-width:var(--hot-toast-checkmark-icon-after-border-bottom, 2px);border-color:var(--hot-toast-checkmark-icon-after-border-color, var(--check-secondary, #fff));border-right-style:solid;border-right-width:var(--hot-toast-checkmark-icon-after-border-right, 2px);bottom:var(--hot-toast-checkmark-icon-after-bottom, 6px);box-sizing:var(--hot-toast-checkmark-icon-after-box-sizing, border-box);content:var(--hot-toast-checkmark-icon-after-content, "");height:var(--hot-toast-checkmark-icon-after-height, 10px);left:var(--hot-toast-checkmark-icon-after-left, 6px);opacity:var(--hot-toast-checkmark-icon-after-opacity, 0);position:var(--hot-toast-checkmark-icon-after-position, absolute);width:var(--hot-toast-checkmark-icon-after-width, 6px)}@media (prefers-reduced-motion: reduce){.hot-toast-checkmark-icon[_ngcontent-%COMP%]:after{animation-duration:var(--hot-toast-checkmark-icon-after-reduced-motion-animation-duration, 0ms)}}'],changeDetection:0}),n})(),SV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["hot-toast-warning"]],inputs:{theme:"theme"},decls:2,vars:4,consts:[[1,"hot-toast-warning-icon"]],template:function(t,r){1&t&&(a._UZ(0,"div",0),a._uU(1,"\n")),2&t&&a.Udp("--warn-primary",null==r.theme?null:r.theme.primary)("--warn-secondary",null==r.theme?null:r.theme.secondary)},styles:['@keyframes animate-warn-background{0%{opacity:0;transform:scale(0)}to{opacity:1;transform:scale(1)}}@keyframes animate-warn-line{0%{height:0;opacity:0}40%{height:4.8px;opacity:1}to{height:8px;opacity:1}}.hot-toast-warning-icon[_ngcontent-%COMP%]{animation:var(--hot-toast-warning-icon-animation, animate-warn-background .3s cubic-bezier(.175, .885, .32, 1.275) forwards);animation-delay:var(--hot-toast-warning-icon-animation-delay, .1s);background-color:var(--hot-toast-warning-icon-background-color, var(--warn-primary, #ffab00));border-radius:var(--hot-toast-warning-icon-border-radius, 50%);display:var(--hot-toast-warning-icon-display, block);height:var(--hot-toast-warning-icon-height, 20px);opacity:var(--hot-toast-warning-icon-opacity, 0);position:var(--hot-toast-warning-icon-position, relative);transform:var(--hot-toast-warning-icon-transform, scale(0));width:var(--hot-toast-warning-icon-width, 20px)}.hot-toast-warning-icon[_ngcontent-%COMP%]:after, .hot-toast-warning-icon[_ngcontent-%COMP%]:before{background-color:var(--hot-toast-warning-icon-after-before-background-color, var(--warn-secondary, #fff));border-radius:var(--hot-toast-warning-icon-after-before-border-radius, 3px);box-sizing:var(--hot-toast-warning-icon-after-before-box-sizing, border-box);content:var(--hot-toast-warning-icon-after-before-content, "");display:var(--hot-toast-warning-icon-after-before-display, block);left:var(--hot-toast-warning-icon-after-before-left, 8.5px);position:var(--hot-toast-warning-icon-after-before-position, absolute);width:var(--hot-toast-warning-icon-after-before-width, 2.5px)}.hot-toast-warning-icon[_ngcontent-%COMP%]:after{animation:var(--hot-toast-warning-icon-after-animation, animate-warn-line .2s ease-out forwards);animation-delay:var(--hot-toast-warning-icon-after-animation-delay, .2s);height:var(--hot-toast-warning-icon-after-height, 0);opacity:var(--hot-toast-warning-icon-after-opacity, 0);top:var(--hot-toast-warning-icon-after-top, 4px)}.hot-toast-warning-icon[_ngcontent-%COMP%]:before{bottom:var(--hot-toast-warning-icon-before-bottom, 4px);height:var(--hot-toast-warning-icon-before-height, 2px)}'],changeDetection:0}),n})(),xV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["hot-toast-info"]],inputs:{theme:"theme"},decls:2,vars:4,consts:[[1,"hot-toast-info-icon"]],template:function(t,r){1&t&&(a._UZ(0,"div",0),a._uU(1,"\n")),2&t&&a.Udp("--warn-primary",null==r.theme?null:r.theme.primary)("--warn-secondary",null==r.theme?null:r.theme.secondary)},styles:['@keyframes animate-info-background{0%{opacity:0;transform:scale(0)}to{opacity:1;transform:scale(1)}}@keyframes animate-info-line{0%{height:0;opacity:0}40%{height:4.8px;opacity:1}to{height:8px;opacity:1}}.hot-toast-info-icon[_ngcontent-%COMP%]{animation:var(--hot-toast-info-icon-animation, animate-info-background .3s cubic-bezier(.175, .885, .32, 1.275) forwards);animation-delay:var(--hot-toast-info-icon-animation-delay, .1s);background-color:var(--hot-toast-info-icon-background-color, var(--info-primary, #0d6efd));border-radius:var(--hot-toast-info-icon-border-radius, 50%);display:var(--hot-toast-info-icon-display, block);height:var(--hot-toast-info-icon-height, 20px);opacity:var(--hot-toast-info-icon-opacity, 0);position:var(--hot-toast-info-icon-position, relative);transform:var(--hot-toast-info-icon-transform, scale(0));width:var(--hot-toast-info-icon-width, 20px)}.hot-toast-info-icon[_ngcontent-%COMP%]:after, .hot-toast-info-icon[_ngcontent-%COMP%]:before{background-color:var(--hot-toast-info-icon-after-before-background-color, var(--info-secondary, #fff));border-radius:var(--hot-toast-info-icon-after-before-border-radius, 3px);box-sizing:var(--hot-toast-info-icon-after-before-box-sizing, border-box);content:var(--hot-toast-info-icon-after-before-content, "");display:var(--hot-toast-info-icon-after-before-display, block);left:var(--hot-toast-info-icon-after-before-left, 8.5px);position:var(--hot-toast-info-icon-after-before-position, absolute);width:var(--hot-toast-info-icon-after-before-width, 2.5px)}.hot-toast-info-icon[_ngcontent-%COMP%]:after{animation:var(--hot-toast-info-icon-after-animation, animate-info-line .2s ease-out forwards);animation-delay:var(--hot-toast-info-icon-after-animation-delay, .2s);height:var(--hot-toast-info-icon-after-height, 0);opacity:var(--hot-toast-info-icon-after-opacity, 0);top:var(--hot-toast-info-icon-after-bottom, 8px)}.hot-toast-info-icon[_ngcontent-%COMP%]:before{height:var(--hot-toast-info-icon-before-height, 2px);top:var(--hot-toast-info-icon-before-top, 4px)}'],changeDetection:0}),n})(),MV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["hot-toast-indicator"]],inputs:{theme:"theme",type:"type"},decls:2,vars:1,consts:[["class","hot-toast-indicator-wrapper",4,"ngIf"],[1,"hot-toast-indicator-wrapper"],[3,"theme"],["class","hot-toast-status-wrapper",4,"ngIf"],[1,"hot-toast-status-wrapper"],[3,"ngSwitch"],[4,"ngSwitchCase"]],template:function(t,r){1&t&&(a.YNc(0,hV,6,2,"div",0),a._uU(1,"\n")),2&t&&a.Q6J("ngIf","blank"!==r.type)},directives:[IV,DV,AV,SV,xV,Gn,ui,Qr],styles:[".hot-toast-indicator-wrapper[_ngcontent-%COMP%]{align-items:var(--hot-toast-indicator-wrapper-align-items, center);display:var(--hot-toast-indicator-wrapper-display, flex);justify-content:var(--hot-toast-indicator-wrapper-justify-content, center);min-height:var(--hot-toast-indicator-wrapper-min-height, 20px);min-width:var(--hot-toast-indicator-wrapper-min-width, 20px);position:var(--hot-toast-indicator-wrapper-position, relative)}.hot-toast-status-wrapper[_ngcontent-%COMP%]{position:var(--hot-toast-status-wrapper-position, absolute)}"],changeDetection:0}),n})(),bP=(()=>{class n{constructor(t,r,i){this.injector=t,this.renderer=r,this.ngZone=i,this.offset=0,this.height=new a.vpe,this.beforeClosed=new a.vpe,this.afterClosed=new a.vpe,this.isManualClose=!1,this.unlisteners=[]}ngOnInit(){N1(this.toast.message)&&(this.context={$implicit:this.toastRef}),k1(this.toast.message)&&(this.toastComponentInjector=a.zs3.create({providers:[{provide:vP,useValue:this.toastRef}],parent:this.toast.injector||this.injector}))}ngAfterViewInit(){const t=this.toastBarBase.nativeElement;requestAnimationFrame(()=>{this.height.emit(t.offsetHeight)}),this.ngZone.runOutsideAngular(()=>{this.unlisteners.push(this.renderer.listen(t,"animationstart",r=>{this.isExitAnimation(r)&&this.ngZone.run(()=>this.beforeClosed.emit())}),this.renderer.listen(t,"animationend",r=>{this.isExitAnimation(r)&&this.ngZone.run(()=>this.afterClosed.emit({dismissedByAction:this.isManualClose,id:this.toast.id}))}))}),this.setToastAttributes()}get containerPositionStyle(){const t=this.toast.position.includes("top"),r=t?{top:0}:{bottom:0},i=this.toast.position.includes("left")?{left:0}:this.toast.position.includes("right")?{right:0}:{left:0,right:0,justifyContent:"center"};return Object.assign(Object.assign({transform:`translateY(${this.offset*(t?1:-1)}px)`},r),i)}get toastBarBaseStyles(){const t=this.toast.position.includes("top"),r=`hotToastEnterAnimation${t?"Negative":"Positive"} 350ms cubic-bezier(0.21, 1.02, 0.73, 1) forwards`,c=this.toast.autoClose?`${r}, hotToastExitAnimation${t?"Negative":"Positive"} 800ms forwards cubic-bezier(0.06, 0.71, 0.55, 1) ${this.toast.duration}ms`:r;return Object.assign(Object.assign({},this.toast.style),{animation:c})}get isIconString(){return"string"==typeof this.toast.icon}close(){this.isManualClose=!0;((n,e)=>{this.toastBarBase.nativeElement.style.animation=e})(0,`hotToastExitAnimation${this.toast.position.includes("top")?"Negative":"Positive"} 800ms forwards cubic-bezier(0.06, 0.71, 0.55, 1)`)}ngOnDestroy(){for(this.close();this.unlisteners.length;)this.unlisteners.pop()()}isExitAnimation(t){return t.animationName.includes("hotToastExitAnimation")}setToastAttributes(){const t=this.toast.attributes;for(const[r,i]of Object.entries(t))this.renderer.setAttribute(this.toastBarBase.nativeElement,r,i)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.zs3),a.Y36(a.Qsj),a.Y36(a.R0b))},n.\u0275cmp=a.Xpm({type:n,selectors:[["hot-toast"]],viewQuery:function(t,r){if(1&t&&a.Gf(fV,5),2&t){let i;a.iGM(i=a.CRH())&&(r.toastBarBase=i.first)}},inputs:{toast:"toast",offset:"offset",defaultConfig:"defaultConfig",toastRef:"toastRef"},outputs:{height:"height",beforeClosed:"beforeClosed",afterClosed:"afterClosed"},decls:25,vars:14,consts:[[1,"hot-toast-bar-base-container",3,"ngStyle","ngClass"],[1,"hot-toast-bar-base",3,"ngStyle","ngClass"],["hotToastBarBase",""],["aria-hidden","true",1,"hot-toast-icon"],[4,"ngIf","ngIfElse"],["indicator",""],[1,"hot-toast-message"],[4,"dynamicView","dynamicViewContext","dynamicViewInjector"],["type","button","class","hot-toast-close-btn","aria-label","Close",3,"ngStyle","click",4,"ngIf"],["iconTemplateOrComponent",""],[3,"iconTheme"],[3,"dynamicView"],[3,"theme","type"],["type","button","aria-label","Close",1,"hot-toast-close-btn",3,"ngStyle","click"]],template:function(t,r){if(1&t&&(a.TgZ(0,"div",0),a._uU(1,"\n  "),a.TgZ(2,"div",1,2),a._uU(4,"\n    "),a.TgZ(5,"div",3),a._uU(6,"\n      "),a.YNc(7,mV,7,2,"ng-container",4),a._uU(8,"\n\n      "),a.YNc(9,yV,3,2,"ng-template",null,5,a.W1O),a._uU(11,"\n    "),a.qZA(),a._uU(12,"\n\n    "),a.TgZ(13,"div",6),a._uU(14,"\n      "),a.TgZ(15,"div"),a._uU(16,"\n        "),a.YNc(17,_V,1,0,"ng-container",7),a._uU(18,"\n      "),a.qZA(),a._uU(19,"\n    "),a.qZA(),a._uU(20,"\n\n    "),a.YNc(21,vV,1,1,"button",8),a._uU(22,"\n  "),a.qZA(),a._uU(23,"\n"),a.qZA(),a._uU(24,"\n")),2&t){const i=a.MAs(10);a.Q6J("ngStyle",r.containerPositionStyle)("ngClass","hot-toast-theme-"+r.toast.theme),a.xp6(2),a.Udp("--hot-toast-animation-state",r.isManualClose?"running":"paused"),a.Q6J("ngStyle",r.toastBarBaseStyles)("ngClass",r.toast.className),a.uIk("aria-live",r.toast.ariaLive)("role",r.toast.role),a.xp6(5),a.Q6J("ngIf",void 0!==r.toast.icon)("ngIfElse",i),a.xp6(10),a.Q6J("dynamicView",r.toast.message)("dynamicViewContext",r.context)("dynamicViewInjector",r.toastComponentInjector),a.xp6(4),a.Q6J("ngIf",r.toast.dismissible)}},directives:[TV,MV,dc,Ws,Gn,XU],styles:[".hot-toast-bar-base[_ngcontent-%COMP%]{align-items:var(--hot-toast-align-items, center);background-color:var(--hot-toast-bg, #fff);border-radius:var(--hot-toast-border-radius, 4px);box-shadow:var(--hot-toast-shadow, 0 3px 10px rgba(0, 0, 0, .1), 0 3px 3px rgba(0, 0, 0, .05));color:var(--hot-toast-color, #363636);display:var(--hot-toast-display, flex);line-height:var(--hot-toast-line, 1.3);margin:var(--hot-toast-margin, 16px);max-width:var(--hot-toast-max-width, 350px);padding:var(--hot-toast-padding, 8px 10px);pointer-events:var(--hot-toast-pointer-events, auto);width:var(--hot-toast-width, -moz-fit-content);width:var(--hot-toast-width, fit-content);will-change:var(--hot-toast-will-change, transform)}.hot-toast-bar-base[_ngcontent-%COMP%]:hover, .hot-toast-bar-base[_ngcontent-%COMP%]:focus{animation-play-state:var(--hot-toast-animation-state, paused)!important}@media (prefers-reduced-motion: reduce){.hot-toast-bar-base[_ngcontent-%COMP%]{animation-duration:var(--hot-toast-reduced-motion-animation-duration, 10ms)!important}}.hot-toast-message[_ngcontent-%COMP%]{color:var(--hot-toast-message-color, inherit);display:var(--hot-toast-message-display, flex);flex:var(--hot-toast-message-flex, 1);justify-content:var(--hot-toast-message-justify-content, center);margin:var(--hot-toast-message-margin, 4px 10px)}.hot-toast-bar-base-container[_ngcontent-%COMP%]{display:var(--hot-toast-container-display, flex);pointer-events:var(--hot-toast-container-pointer-events, none);position:var(--hot-toast-container-position, absolute);transition:var(--hot-toast-container-transition, transform .23s cubic-bezier(.21, 1.02, .73, 1))}@media (prefers-reduced-motion: reduce){.hot-toast-bar-base-container[_ngcontent-%COMP%]{transition-duration:var(--hot-toast-container-reduced-motion-transition-duration, 10ms)!important}}.hot-toast-bar-base-container.hot-toast-theme-snackbar[_ngcontent-%COMP%]   .hot-toast-bar-base[_ngcontent-%COMP%]{background:var(--hot-toast-snackbar-bg, #323232);box-shadow:var(--hot-toast-snackbar-shadow, 0 3px 5px -1px rgba(0, 0, 0, .2), 0 6px 10px 0 rgba(0, 0, 0, .14), 0 1px 18px 0 rgba(0, 0, 0, .12));color:var(--hot-toast-snackbar-color, white)}.hot-toast-bar-base-container.hot-toast-theme-snackbar[_ngcontent-%COMP%]   .hot-toast-close-btn[_ngcontent-%COMP%]{filter:var(--hot-toast-snackbar-close-btn-filter, invert(1) grayscale(100%) brightness(200%))}@keyframes hotToastEnterAnimationNegative{0%{opacity:.5;transform:translateY(-80px) scale(.6)}to{opacity:1;transform:translate(0) scale(1)}}@keyframes hotToastEnterAnimationPositive{0%{opacity:.5;transform:translateY(80px) scale(.6)}to{opacity:1;transform:translate(0) scale(1)}}@keyframes hotToastExitAnimationPositive{0%{opacity:1;transform:translateZ(-1px) scale(1)}to{opacity:0;transform:translate3d(0,130px,-1px) scale(.5)}}@keyframes hotToastExitAnimationNegative{0%{opacity:1;transform:translateZ(-1px) scale(1)}to{opacity:0;transform:translate3d(0,-130px,-1px) scale(.5)}}.hot-toast-close-btn[_ngcontent-%COMP%]{align-self:var(--hot-toast-close-btn-align-self, flex-start);background-color:var(--hot-toast-close-btn-background-color, transparent);background-image:var(--hot-toast-close-btn-background-image, url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='%23000'%3e%3cpath d='M.293.293a1 1 0 011.414 0L8 6.586 14.293.293a1 1 0 111.414 1.414L9.414 8l6.293 6.293a1 1 0 01-1.414 1.414L8 9.414l-6.293 6.293a1 1 0 01-1.414-1.414L6.586 8 .293 1.707a1 1 0 010-1.414z'/%3e%3c/svg%3e\"));background-position:var(--hot-toast-close-btn-background-position, center);background-repeat:var(--hot-toast-close-btn-background-repeat, no-repeat);background-size:var(--hot-toast-close-btn-background-size, .75em);border:var(--hot-toast-close-btn-border, 0);border-radius:var(--hot-toast-close-btn-border-radius, .25rem);box-sizing:var(--hot-toast-close-btn-box-sizing, content-box);display:var(--hot-toast-close-btn-display, flex);height:var(--hot-toast-close-btn-height, .8em);margin-top:var(--hot-toast-close-btn-margin-top, .25em);opacity:var(--hot-toast-close-btn-opacity, .5);padding:var(--hot-toast-close-btn-padding, .25em);width:var(--hot-toast-close-btn-width, .8em)}.hot-toast-close-btn[_ngcontent-%COMP%]:focus{box-shadow:var(--hot-toast-close-btn-box-shadow, 0 0 0 .125rem rgba(13, 110, 253, .25));outline:var(--hot-toast-close-btn-outline, none)}.hot-toast-close-btn[_ngcontent-%COMP%]:hover, .hot-toast-close-btn[_ngcontent-%COMP%]:focus{opacity:var(--hot-toast-close-btn-opacity, .75)}.hot-toast-icon[_ngcontent-%COMP%]{align-self:var(--hot-toast-icon-align-self, flex-start);padding-top:var(--hot-toast-icon-padding-top, .25em)}"],changeDetection:0}),n})(),OV=(()=>{class n{constructor(t){this.cdr=t,this.toasts=[],this.toastRefs=[],this._onClosed=new Or.x,this.onClosed$=this._onClosed.asObservable()}trackById(t,r){return r.id}calculateOffset(t,r){const i=this.toasts.filter(f=>f.visible&&f.position===r),c=i.findIndex(f=>f.id===t);return-1!==c?i.slice(...this.defaultConfig.reverseOrder?[c+1]:[0,c]).reduce((f,y)=>f+(y.height||0)+8,0):0}updateHeight(t,r){r.height=t,this.cdr.detectChanges()}addToast(t){this.toastRefs.push(t);const r=t.getToast();return this.toasts.push(t.getToast()),this.cdr.detectChanges(),{dispose:()=>{this.closeToast(r.id)},updateMessage:i=>{r.message=i,this.cdr.detectChanges()},updateToast:i=>{this.updateToasts(r,i),this.cdr.detectChanges()},afterClosed:this.getAfterClosed(r)}}closeToast(t){if(t){const r=this.hotToastComponentList.find(i=>i.toast.id===t);r&&r.close()}else this.hotToastComponentList.forEach(r=>r.close())}beforeClosed(t){t.visible=!1}afterClosed(t){this.toasts.findIndex(i=>i.id===t.id)>-1&&(this._onClosed.next(t),this.toasts=this.toasts.filter(i=>i.id!==t.id),this.toastRefs=this.toastRefs.filter(i=>i.getToast().id!==t.id),this.cdr.detectChanges())}hasToast(t){return this.toasts.findIndex(r=>r.id===t)>-1}getAfterClosed(t){return this.onClosed$.pipe(Ai(r=>r.id===t.id))}updateToasts(t,r){this.toasts=this.toasts.map(i=>Object.assign(Object.assign({},i),i.id===t.id&&Object.assign(Object.assign({},t),r)))}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.sBO))},n.\u0275cmp=a.Xpm({type:n,selectors:[["hot-toast-container"]],viewQuery:function(t,r){if(1&t&&a.Gf(bP,5),2&t){let i;a.iGM(i=a.CRH())&&(r.hotToastComponentList=i)}},inputs:{defaultConfig:"defaultConfig"},decls:8,vars:2,consts:[[2,"position","fixed","z-index","9999","top","0","right","0","bottom","0","left","0","pointer-events","none"],[2,"position","relative","height","100%"],[3,"toast","offset","toastRef","height","beforeClosed","afterClosed",4,"ngFor","ngForOf","ngForTrackBy"],[3,"toast","offset","toastRef","height","beforeClosed","afterClosed"]],template:function(t,r){1&t&&(a.TgZ(0,"div",0),a._uU(1,"\n  "),a.TgZ(2,"div",1),a._uU(3,"\n    "),a.YNc(4,bV,1,3,"hot-toast",2),a._uU(5,"\n  "),a.qZA(),a._uU(6,"\n"),a.qZA(),a._uU(7,"\n")),2&t&&(a.xp6(4),a.Q6J("ngForOf",r.toasts)("ngForTrackBy",r.trackById))},directives:[bP,en],encapsulation:2,changeDetection:0}),n})();class F1{constructor(){this.reverseOrder=!1,this.ariaLive="polite",this.role="status",this.position="top-center",this.autoClose=!0,this.theme="toast",this.attributes={},this.success={content:""},this.error={content:""},this.loading={content:""},this.blank={content:""},this.warning={content:""}}}class NV{constructor(){this.storage="local",this.key="ngneat/hototast-${id}",this.count=1,this.enabled=!1}}let L1=(()=>{class n{constructor(t,r,i){this._viewService=t,this.platformId=r,this._isInitialized=!1,this._defaultConfig=new F1,this._defaultPersistConfig=new NV,i&&(this._defaultConfig=Object.assign(Object.assign({},this._defaultConfig),i))}get defaultConfig(){return this._defaultConfig}set defaultConfig(t){this._defaultConfig=Object.assign(Object.assign({},this._defaultConfig),t),this._componentRef&&this._componentRef.setInput("defaultConfig",this._defaultConfig)}show(t,r){return this.createToast(t||this._defaultConfig.blank.content,"blank",Object.assign(Object.assign({},this._defaultConfig),r))}error(t,r){var i;return this.createToast(t||this._defaultConfig.error.content,"error",Object.assign(Object.assign(Object.assign({},this._defaultConfig),null===(i=this._defaultConfig)||void 0===i?void 0:i.error),r))}success(t,r){var i;return this.createToast(t||this._defaultConfig.success.content,"success",Object.assign(Object.assign(Object.assign({},this._defaultConfig),null===(i=this._defaultConfig)||void 0===i?void 0:i.success),r))}loading(t,r){var i;return this.createToast(t||this._defaultConfig.loading.content,"loading",Object.assign(Object.assign(Object.assign({},this._defaultConfig),null===(i=this._defaultConfig)||void 0===i?void 0:i.loading),r))}warning(t,r){var i;return this.createToast(t||this._defaultConfig.warning.content,"warning",Object.assign(Object.assign(Object.assign({},this._defaultConfig),null===(i=this._defaultConfig)||void 0===i?void 0:i.warning),r))}info(t,r){var i;return this.createToast(t||this._defaultConfig.warning.content,"info",Object.assign(Object.assign(Object.assign({},this._defaultConfig),null===(i=this._defaultConfig)||void 0===i?void 0:i.warning),r))}observe(t){return r=>{var i,c,d,f,y,E;let A,S=0;const L=null!==(i=t.loading)&&void 0!==i?i:null===(c=this._defaultConfig.loading)||void 0===c?void 0:c.content,B=null!==(d=t.success)&&void 0!==d?d:null===(f=this._defaultConfig.success)||void 0===f?void 0:f.content,G=null!==(y=t.error)&&void 0!==y?y:null===(E=this._defaultConfig.error)||void 0===E?void 0:E.content;return K0(()=>(L&&(A=this.createLoadingToast(L),S=Date.now()),r.pipe((0,qi.b)(Object.assign(Object.assign({},B&&{next:fe=>{A=this.createOrUpdateToast(t,fe,A,"success",0===S?S:Date.now()-S)}}),G&&{error:fe=>{A=this.createOrUpdateToast(t,fe,A,"error",0===S?S:Date.now()-S)}})))))}}close(t){this._componentRef&&this._componentRef.ref.instance.closeToast(t)}init(){mr(this.platformId)||(this._componentRef=this._viewService.createComponent(OV).setInput("defaultConfig",this._defaultConfig).appendTo(document.body))}createOrUpdateToast(t,r,i,c,d){let f=null,y={};if(({content:f,options:y}=this.getContentAndOptions(c,t[c]||(this._defaultConfig[c]?this._defaultConfig[c].content:""))),f=((n,e)=>(n=>"function"==typeof n)(n)?n(e):n)(f,r),i){i.updateMessage(f);const E=Object.assign(Object.assign({type:c,duration:d+yP[c]},y),y.duration&&{duration:d+y.duration});i.updateToast(E)}else this.createToast(f,c,y);return i}createToast(t,r,i,c){var d,f,y,E,A,S;this._isInitialized||(this._isInitialized=!0,this.init());const L=Date.now(),B=null!==(d=null==i?void 0:i.id)&&void 0!==d?d:L.toString();if(!this.isDuplicate(B)&&(!(null===(f=i.persist)||void 0===f?void 0:f.enabled)||(null===(y=i.persist)||void 0===y?void 0:y.enabled)&&this.handleStorageValue(B,i))){const G=Object.assign({ariaLive:null!==(E=null==i?void 0:i.ariaLive)&&void 0!==E?E:"polite",createdAt:L,duration:null!==(A=null==i?void 0:i.duration)&&void 0!==A?A:yP[r],id:B,message:t,role:null!==(S=null==i?void 0:i.role)&&void 0!==S?S:"status",type:r,visible:!0,observableMessages:null!=c?c:void 0},i);return new vP(G).appendTo(this._componentRef.ref.instance)}}isDuplicate(t){return this._componentRef.ref.instance.hasToast(t)}handleStorageValue(t,r){let i=1;const c=Object.assign(Object.assign({},this._defaultPersistConfig),r.persist),d="local"===c.storage?localStorage:sessionStorage,f=c.key.replace(/\${id}/g,t);let y=d.getItem(f);return y?(y=parseInt(y,10),i=y>0?y-1:y):i=c.count,d.setItem(f,i.toString()),i}getContentAndOptions(t,r){let i,c=Object.assign(Object.assign({},this._defaultConfig),this._defaultConfig[t]);if("string"==typeof r||N1(r)||k1(r))i=r;else{let d;({content:i}=r),d=(0,WU._T)(r,["content"]),c=Object.assign(Object.assign({},c),d)}return{content:i,options:c}}createLoadingToast(t){let r=null,i={};return({content:r,options:i}=this.getContentAndOptions("loading",t)),this.loading(r,i)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(mP),a.LFG(a.Lbi),a.LFG(F1,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),wP=(()=>{class n{static forRoot(t){return{ngModule:n,providers:[{provide:F1,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[ts,eV]]}),n})(),EP=(()=>{class n{constructor(t,r,i,c){this.userService=t,this.toastr=r,this.router=i,this.toast=c,this.loginForm=new qc({email:new Pr("",[vs.required,vs.email]),password:new Pr("",vs.required)})}ngOnInit(){}get email(){return this.loginForm.get("email")}get password(){return this.loginForm.get("password")}submit(){if(this.loginForm.valid){const{email:t,password:r}=this.loginForm.value;this.userService.login(t,r).pipe(this.toast.observe({success:"Logged in successfully",loading:"Logging in...",error:({message:i})=>`There was an error: ${i} `})).subscribe(()=>{this.router.navigate(["/home"])})}}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Ql),a.Y36(jd),a.Y36(ei),a.Y36(L1))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-iniciar-sesion"]],decls:30,vars:2,consts:[[1,"container-fluid"],[1,"contenedor__todo"],[1,"caja__trasera"],[1,"caja__trasera-register"],["routerLink","/register","id","btn__registrarse"],[1,"contenedor__login-register"],[1,"formulario__login",3,"formGroup","ngSubmit"],["type","text","placeholder","Email","name","usuario","formControlName","email"],["type","password","placeholder","Contrase\xf1a","name","contrasena","formControlName","password"],["type","submit","name","loguearse","value","Entrar",2,"color","black","height","60px","width","300px"],[1,"formulario__register",3,"formGroup"],["type","text","placeholder","Nombre(s)","name","nombre","required",""],["type","text","placeholder","Apellido paterno","name","paterno","required",""],["type","text","placeholder","Apellido Materno","name","materno","required",""],["type","text","placeholder","Correo Electronico","name","correo","required",""],["type","text","placeholder","Usuario","name","usuario","required",""],["type","password","placeholder","Contrase\xf1a","name","contrasena","required",""],["type","password","placeholder","Contrase\xf1a de confirmaci\xf3n","name","confirmacion","required",""],["type","submit","name","registrarse","value","Registrarse",2,"color","black","height","60px","width","300px"]],template:function(t,r){1&t&&(a.TgZ(0,"div",0),a._UZ(1,"br"),a.TgZ(2,"div",1)(3,"div",2)(4,"div",3)(5,"h3"),a._uU(6,"\xbfA\xfan no tienes una cuenta?"),a.qZA(),a.TgZ(7,"p"),a._uU(8,"Reg\xedstrate para que puedas iniciar sesi\xf3n"),a.qZA(),a.TgZ(9,"button",4),a._uU(10,"Reg\xedstrarse"),a.qZA()()(),a.TgZ(11,"div",5)(12,"form",6),a.NdJ("ngSubmit",function(){return r.submit()}),a.TgZ(13,"h2"),a._uU(14,"Iniciar Sesi\xf3n"),a.qZA(),a._UZ(15,"input",7)(16,"input",8)(17,"input",9),a.qZA(),a.TgZ(18,"form",10)(19,"h2"),a._uU(20,"Reg\xedstrarse"),a.qZA(),a._UZ(21,"input",11)(22,"input",12)(23,"input",13)(24,"input",14)(25,"input",15)(26,"input",16)(27,"input",17)(28,"input",18),a.qZA()()()(),a._UZ(29,"router-outlet")),2&t&&(a.xp6(12),a.Q6J("formGroup",r.loginForm),a.xp6(6),a.Q6J("formGroup",r.loginForm))},directives:[go,Zc,Xa,pd,Rh,Hc,Kh,ta],styles:[".container-fluid[_ngcontent-%COMP%]{background-color:#333}input[type=submit][_ngcontent-%COMP%]{width:30%;margin:auto;background:#46A2FD;color:#fff;border:none;cursor:pointer}.error[_ngcontent-%COMP%]{color:red}.contenedor__todo[_ngcontent-%COMP%]{width:100%;max-width:800px;margin:auto;position:relative}.caja__trasera[_ngcontent-%COMP%]{width:100%;padding:10px 20px;display:flex;justify-content:right;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);background-color:#ff9500c0}.caja__trasera[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin:100px 40px;color:#fff;transition:all .5s}.caja__trasera[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .caja__trasera[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:30px}.caja__trasera[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-weight:400;font-size:26px}.caja__trasera[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;font-weight:300}.caja__trasera[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 40px;border:2px solid #fff;font-size:14px;background:transparent;font-weight:600;cursor:pointer;color:#fff;outline:none;transition:all .3s}.caja__trasera[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#fff;color:#fd4646}.contenedor__login-register[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;max-width:380px;position:relative;top:-185px;left:10px;transition:left .5s cubic-bezier(.175,.885,.32,1.275)}.contenedor__login-register[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{width:100%;padding:80px 20px;background:white;position:absolute;border-radius:20px}.contenedor__login-register[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:30px;text-align:center;margin-bottom:20px;color:#fd7d3d}.contenedor__login-register[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;margin-top:20px;padding:10px;border:none;background:#F2F2F2;font-size:16px;outline:none}.contenedor__login-register[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 40px;margin-top:40px;border:none;font-size:14px;background:#46A2FD;font-weight:600;cursor:pointer;color:#fff;outline:none}.formulario__login[_ngcontent-%COMP%]{opacity:1;display:block}.formulario__register[_ngcontent-%COMP%]{display:none}@media screen and (max-width: 850px){main[_ngcontent-%COMP%]{margin-top:50px}.caja__trasera[_ngcontent-%COMP%]{max-width:350px;height:300px;flex-direction:column;margin:auto}.caja__trasera[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin:0;position:absolute}.contenedor__login-register[_ngcontent-%COMP%]{top:-10px;left:-5px;margin:auto}.contenedor__login-register[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{position:relative}}"]}),n})();const kV=[{path:"rutinas",component:hP},{path:"ejercicios",component:fP},{path:"blog",component:pP},{path:"inicio-sesion",component:EP}];let FV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[s_.forRoot(kV)],s_]}),n})();function LV(n,e){1&n&&a._UZ(0,"h5")}let UV=(()=>{class n{constructor(t){this.userService=t,this.user$=this.userService.currentUser$}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Ql))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-home"]],decls:39,vars:3,consts:[[1,"container-fluid"],[4,"ngIf"],[1,"text-center","mt",2,"color","#fd7d3d"],[1,"text-center","letra",2,"color","rgb(253, 253, 253)"],[1,"col-md-12","text-center"],["src","https://i.pinimg.com/originals/dd/c3/94/ddc3940e033e44f5a4dfc142d5c28add.jpg","alt","...","width","350","height","220",1,"rounded","img-fluid"],[1,"row"],[1,"col-sm-2"],[1,"card"],[1,"card-body"],["src","https://i.pinimg.com/originals/ca/f2/e7/caf2e737656120ca86c43272b153ba6b.jpg","alt","Card image cap","width","130","height","160",1,"card-img-left","img-fluid"],[1,"col-sm-3","text-center"],[1,"card-title","text-center","mt",2,"color","#fd7d3d"],["href","#",1,"btn","btn-primary"],[1,"col-sm-6"],[1,"card-title","text-center","mt","font-weight-bold",2,"color","#ffffff"],[1,"card-text","text-center",2,"color","#f8f8f8"],[1,"row","g-3"],[1,"col-md-6","text-center"],["disabled","",1,"btn","btn-primary"],[1,"col-md-3","text-center"],["type"," ","placeholder","Correo electr\xf3nico",1,"form-control"],["href","#","type","submit","routerLink","/inicio-sesion",1,"btn","btn-outline-secondary","rounded-pill","mb-3"]],template:function(t,r){1&t&&(a.TgZ(0,"div",0),a.YNc(1,LV,1,0,"h5",1),a.ALo(2,"async"),a.TgZ(3,"h1",2),a._uU(4,"Rutinas gratis"),a.qZA(),a.TgZ(5,"h5",3),a._uU(6,"Reg\xedstrate y empieza a ponerte en forma"),a.qZA(),a._UZ(7,"br"),a.TgZ(8,"div",4),a._UZ(9,"img",5),a.qZA(),a.TgZ(10,"div",6)(11,"div",7)(12,"div",8)(13,"div",9),a._UZ(14,"img",10),a.qZA()()(),a.TgZ(15,"div",11)(16,"div",8)(17,"div",9)(18,"h5",12),a._uU(19,"DESCARGA NUESTRA APP!"),a.qZA(),a.TgZ(20,"a",13),a._uU(21,"Disponible en versi\xf3n m\xf3vil y escritorio"),a.qZA()()()(),a.TgZ(22,"div",14)(23,"div",8)(24,"div",9)(25,"h3",15),a._uU(26,"\xbfQui\xe9nes somos?"),a.qZA(),a.TgZ(27,"p",16),a._uU(28,"Somos una comunidad enfocada a ofrecer rutinas para ser llevadas a cabo desde casa con la ventaja de tener ejercicios personalizados. Seguimos creciendo gracias a ti."),a.qZA()()()(),a.TgZ(29,"form",17)(30,"div",18)(31,"button",19),a._uU(32,"Recibe novedades que Gym Routine trae para ti"),a.qZA()(),a.TgZ(33,"div",20),a._UZ(34,"input",21),a.qZA(),a.TgZ(35,"div",20)(36,"a",22),a._uU(37," Recibir notificaciones "),a.qZA()()()()(),a._UZ(38,"router-outlet")),2&t&&(a.xp6(1),a.Q6J("ngIf",a.lcZ(2,1,r.user$)))},directives:[Gn,Zc,Xa,Gh,Fu,ta],pipes:[lu],styles:["a[_ngcontent-%COMP%]:hover{color:#000!important;background-color:#fd7d3d!important}.btn-outline-secondary[_ngcontent-%COMP%]{color:#fd7d3d!important;border-color:#ff9500;border-radius:5px}.btn-primary[_ngcontent-%COMP%]{background-color:#fd7d3d!important;border-color:#ff9500;color:#000}.mt[_ngcontent-%COMP%]{margin-top:50px!important}.card[_ngcontent-%COMP%]{background-color:#333;border-color:#333}.reg[_ngcontent-%COMP%]{color:#fff}.foot-letter[_ngcontent-%COMP%]{color:#f8f8f8}.container-fluid[_ngcontent-%COMP%]{background-color:#333;height:145vh}.letra[_ngcontent-%COMP%]{font-family:Helvetica,Arial,sans-serif;font-size:medium}"]}),n})(),sp=(()=>{class n{constructor(t){this.firestore=t,this.rutina$=new Or.x}guardarRutina(t){return this.firestore.collection("rutinas").add(t)}obtenerRutinas(){return this.firestore.collection("rutinas",t=>t.orderBy("nombre","asc")).snapshotChanges()}eliminarRutina(t){return this.firestore.collection("rutinas").doc(t).delete()}editarRutina(t,r){return this.firestore.collection("rutinas").doc(t).update(r)}addRutinaEdit(t){this.rutina$.next(t)}getRutinaEdit(){return this.rutina$.asObservable()}obtenerRapidas(){return this.firestore.collection("rapidas",t=>t.orderBy("nombre","asc")).snapshotChanges()}obtenerPyg(){return this.firestore.collection("pyg",t=>t.orderBy("nombre","asc")).snapshotChanges()}obtenerCardioc(){return this.firestore.collection("cardio_casa",t=>t.orderBy("nombre","asc")).snapshotChanges()}obtenerAbdominales(){return this.firestore.collection("abdominales",t=>t.orderBy("nombre","asc")).snapshotChanges()}obtenerRetos(){return this.firestore.collection("retos",t=>t.orderBy("reto","desc")).snapshotChanges()}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(a1))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),CP=(()=>{class n{constructor(t,r,i){this.fb=t,this._rutinaService=r,this.toastr=i,this.titulo="Crear Rutina",this.form=this.fb.group({nombre:["",vs.required],descripcion:["",vs.required],duracion:["",vs.required],serie:["",vs.required],repeticion:["",vs.required],tiempo:["",vs.required]})}ngOnInit(){this._rutinaService.getRutinaEdit().subscribe(t=>{console.log(t),this.id=t.id,this.titulo="Editar Rutina",this.form.patchValue({nombre:t.nombre,descripcion:t.descripcion,duracion:t.duracion,serie:t.serie,repeticion:t.repeticion,tiempo:t.tiempo})})}guardarRutina(){void 0===this.id?this.agregarRutina():this.editarRutina(this.id)}editarRutina(t){this._rutinaService.editarRutina(t,{nombre:this.form.value.nombre,descripcion:this.form.value.descripcion,duracion:this.form.value.duracion,serie:this.form.value.serie,repeticion:this.form.value.repeticion,tiempo:this.form.value.tiempo}).then(()=>{this.titulo="Agregar Rutina",this.form.reset(),this.id=void 0,this.toastr.info("Tarjeta actualizada correctamente")},i=>{console.log(i)})}agregarRutina(){this._rutinaService.guardarRutina({nombre:this.form.value.nombre,descripcion:this.form.value.descripcion,duracion:this.form.value.duracion,serie:this.form.value.serie,repeticion:this.form.value.repeticion,tiempo:this.form.value.tiempo}).then(()=>{console.log("Rutina Registrada"),this.toastr.success("La rutina fue registrada con \xe9xito","Rutina registrada"),this.form.reset()},r=>{this.toastr.error("Opps!, algo sali\xf3 mal","Int\xe9ntalo de nuevo"),console.log(r)})}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(yx),a.Y36(sp),a.Y36(jd))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-crear-rutina"]],decls:42,vars:5,consts:[[1,"container-fluid"],[1,"container","mt-0"],[1,"row"],[1,"col-lg-8","offset-lg-2"],[1,"card"],[1,"card-body"],[1,"titulo","mb-3"],[3,"formGroup","ngSubmit"],[1,"mb-3"],["for","exampleFormControlInput1",1,"form-label"],["type","text ","formControlName","nombre","id","nombre","placeholder","nombre del ejercicio",1,"form-control"],["for","exampleFormControlTextarea1",1,"form-label"],["formControlName","descripcion","id","descripcion","rows","3",1,"form-control"],[1,"col-lg-3","text-center"],["type","number","min","1","max","20","formControlName","duracion","id","duracion","placeholder","Tiempo",1,"form-control","text-center"],[1,"col-lg-2","lg-1"],["type","number","min","1","max","20","formControlName","serie","id","series","placeholder","series",1,"form-control","text-center"],[1,"col-lg-3","lg-1"],["type","number","min","3","max","20","formControlName","repeticion","id","repeticion","placeholder","repeticiones",1,"form-control","text-center"],["type","number","min","1","max","20","formControlName","tiempo","id","","placeholder","descanso",1,"form-control","text-center"],["type","submit",1,"btn","btn-primary",2,"margin-left","45%",3,"disabled"]],template:function(t,r){1&t&&(a.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),a._UZ(4,"br"),a.TgZ(5,"div",4)(6,"div",5)(7,"h3",6),a._uU(8),a.ALo(9,"uppercase"),a.qZA(),a.TgZ(10,"form",7),a.NdJ("ngSubmit",function(){return r.guardarRutina()}),a.TgZ(11,"div",8)(12,"label",9),a._uU(13,"Nombre del ejercicio:"),a.qZA(),a._UZ(14,"input",10),a.qZA(),a.TgZ(15,"div",8)(16,"label",11),a._uU(17,"Ejercicio y descripci\xf3n"),a.qZA(),a._UZ(18,"textarea",12),a.qZA(),a.TgZ(19,"div",2)(20,"div",13)(21,"label",9),a._uU(22,"Duraci\xf3n por serie"),a.qZA(),a._UZ(23,"input",14),a.qZA(),a.TgZ(24,"div",15)(25,"label",9),a._uU(26,"Series"),a.qZA(),a._UZ(27,"input",16),a.qZA(),a.TgZ(28,"div",17)(29,"label",9),a._uU(30,"Repetici\xf3n por serie"),a.qZA(),a._UZ(31,"input",18),a.qZA(),a.TgZ(32,"div",17)(33,"label",9),a._uU(34,"Tiempo de descanso:"),a.qZA(),a._UZ(35,"input",19),a.qZA(),a.TgZ(36,"div",8),a._UZ(37,"br"),a.TgZ(38,"button",20),a._uU(39,"Crear"),a.qZA()()(),a._UZ(40,"br"),a.qZA()()()()()(),a._UZ(41,"br"),a.qZA()),2&t&&(a.xp6(8),a.Oqu(a.lcZ(9,3,r.titulo)),a.xp6(2),a.Q6J("formGroup",r.form),a.xp6(28),a.Q6J("disabled",r.form.invalid))},directives:[Zc,Xa,pd,Rh,Hc,Kh,Yh,Lg,Wh],pipes:[hc],styles:[".container-fluid[_ngcontent-%COMP%]{background-color:#333}.btn-primary[_ngcontent-%COMP%]{background-color:#fd7d3d!important;border-color:#ff9500;color:#000}"]}),n})();function VV(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"tr",4)(1,"td"),a._uU(2),a.qZA(),a.TgZ(3,"td"),a._uU(4),a.qZA(),a.TgZ(5,"td"),a._uU(6),a.qZA(),a.TgZ(7,"td"),a._uU(8),a.qZA(),a.TgZ(9,"td"),a._uU(10),a.qZA(),a.TgZ(11,"td"),a._uU(12),a.qZA(),a.TgZ(13,"td",4)(14,"i",6),a.NdJ("click",function(){const c=a.CHM(t).$implicit;return a.oxw().editarRutina(c)}),a.qZA()(),a.TgZ(15,"td",4)(16,"i",7),a.NdJ("click",function(){const c=a.CHM(t).$implicit;return a.oxw().eliminarRutina(c.id)}),a.qZA()()()}if(2&n){const t=e.$implicit;a.xp6(2),a.Oqu(t.nombre),a.xp6(2),a.Oqu(t.descripcion),a.xp6(2),a.Oqu(t.duracion),a.xp6(2),a.Oqu(t.serie),a.xp6(2),a.Oqu(t.repeticion),a.xp6(2),a.Oqu(t.tiempo)}}let BV=(()=>{class n{constructor(t,r){this._rutinaService=t,this._toastr=r,this.listRutinas=[]}ngOnInit(){this.obtenerRutinas()}obtenerRutinas(){this._rutinaService.obtenerRutinas().subscribe(t=>{this.listRutinas=[],t.forEach(r=>{this.listRutinas.push(Object.assign({id:r.payload.doc.id},r.payload.doc.data()))}),console.log(this.listRutinas)})}eliminarRutina(t){this._rutinaService.eliminarRutina(t).then(()=>{this._toastr.error("Rutina eliminada correctamente")},r=>{this._toastr.error("Oppss! Algo ha salido mal","Intenta de nuevo"),console.log(r)})}editarRutina(t){this._rutinaService.addRutinaEdit(t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(sp),a.Y36(jd))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-listar-rutinas"]],decls:25,vars:1,consts:[[1,"card"],[1,"card-body"],[1,"titulo","mb-3"],[1,"table"],[1,"text-center"],["class","text-center",4,"ngFor","ngForOf"],[1,"far","fa-edit","text-info",3,"click"],[1,"far","fa-solid","fa-trash","text-danger",3,"click"]],template:function(t,r){1&t&&(a.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),a._uU(3,"Tus rutinas"),a.qZA(),a.TgZ(4,"table",3)(5,"tbody")(6,"tr",4)(7,"th"),a._uU(8,"Nombre"),a.qZA(),a.TgZ(9,"th"),a._uU(10,"Ejercicio y descripci\xf3n"),a.qZA(),a.TgZ(11,"th"),a._uU(12,"Duraci\xf3n por serie"),a.qZA(),a.TgZ(13,"th"),a._uU(14,"N\xfamero de series"),a.qZA(),a.TgZ(15,"th"),a._uU(16,"Numero de repeticiones por serie"),a.qZA(),a.TgZ(17,"th"),a._uU(18,"Tiempo de descanso"),a.qZA(),a.TgZ(19,"th"),a._uU(20,"Editar "),a.qZA(),a.TgZ(21,"th"),a._uU(22,"Eliminar "),a.qZA()(),a.YNc(23,VV,17,6,"tr",5),a.qZA()()(),a._UZ(24,"app-crear-rutina"),a.qZA()),2&t&&(a.xp6(23),a.Q6J("ngForOf",r.listRutinas))},directives:[en,CP],styles:[".far[_ngcontent-%COMP%]{cursor:pointer}.card[_ngcontent-%COMP%]{background-color:#f2e5bb46}table[_ngcontent-%COMP%]{border-style:dashed;border-color:#ff9500}"]}),n})();const U1_firebase={apiKey:"AIzaSyD2wrgGQ4fizse1SNtKoStrPCcc7X5dYts",authDomain:"gym-routine-ec70a.firebaseapp.com",projectId:"gym-routine-ec70a",storageBucket:"gym-routine-ec70a.appspot.com",messagingSenderId:"444824048426",appId:"1:444824048426:web:e3e4903b73cb0de4208453"};function jV(n,e){if(1&n&&(a.TgZ(0,"div",4)(1,"div",5)(2,"div",6),a._UZ(3,"img",7),a.qZA(),a.TgZ(4,"div",8)(5,"div",9)(6,"h5",10),a._uU(7),a.qZA(),a.TgZ(8,"h6",11),a._uU(9),a.qZA(),a.TgZ(10,"p",12),a._uU(11),a.qZA()(),a.TgZ(12,"div",13),a._uU(13),a.qZA()()()()),2&n){const t=e.$implicit;a.xp6(3),a.s9C("src",t.img,a.LSH),a.xp6(4),a.Oqu(t.categoria),a.xp6(2),a.Oqu(t.nombre),a.xp6(2),a.Oqu(t.descripcion),a.xp6(2),a.Oqu(t.recomendacion)}}let HV=(()=>{class n{constructor(t,r){this._rutinaService=t,this._toastr=r,this.listQuemagrasa=[]}ngOnInit(){this.obtenerRapidas()}obtenerRapidas(){this._rutinaService.obtenerRapidas().subscribe(t=>{this.listQuemagrasa=[],t.forEach(r=>{this.listQuemagrasa.push(Object.assign({id:r.payload.doc.id},r.payload.doc.data()))}),console.log(this.listQuemagrasa)})}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(sp),a.Y36(jd))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-quemagrasa"]],decls:5,vars:1,consts:[[1,"container-fluid"],[1,"text-center"],[1,"row"],["class","card mb-3","style","max-width: 540px;",4,"ngFor","ngForOf"],[1,"card","mb-3",2,"max-width","540px"],[1,"row","g-0"],[1,"col-md-4"],["alt","...",1,"img-fluid","rounded-start",3,"src"],[1,"col-md-8"],[1,"card-body"],[1,"card-title","text-center"],[1,"card-subtitle","mb-2","text-muted","text-center"],[1,"card-text","text-justify"],[1,"card-footer","bg-transparent","border-success","text-muted","text-center"]],template:function(t,r){1&t&&(a.TgZ(0,"div",0)(1,"h3",1),a._uU(2," R\xfatinas r\xe1pidas Quemagrasa!"),a.qZA(),a.TgZ(3,"div",2),a.YNc(4,jV,14,5,"div",3),a.qZA()()),2&t&&(a.xp6(4),a.Q6J("ngForOf",r.listQuemagrasa))},directives:[en],styles:[".card[_ngcontent-%COMP%]{margin-left:5%}.container-fluid[_ngcontent-%COMP%]{background-color:#333}h3[_ngcontent-%COMP%]{color:#ff9500}"]}),n})();function $V(n,e){if(1&n&&(a.TgZ(0,"div",4)(1,"div",5)(2,"div",6),a._UZ(3,"img",7),a.qZA(),a.TgZ(4,"div",8)(5,"div",9)(6,"h5",10),a._uU(7),a.qZA(),a.TgZ(8,"h6",11),a._uU(9),a.qZA(),a.TgZ(10,"p",12),a._uU(11),a.qZA()(),a.TgZ(12,"div",13),a._uU(13),a.qZA()()()()),2&n){const t=e.$implicit;a.xp6(3),a.s9C("src",t.img,a.LSH),a.xp6(4),a.Oqu(t.categoria),a.xp6(2),a.Oqu(t.nombre),a.xp6(2),a.Oqu(t.descripcion),a.xp6(2),a.Oqu(t.recomendacion)}}let qV=(()=>{class n{constructor(t){this._rutinaService=t,this.listPiernas=[]}ngOnInit(){this.obtenerPyg()}obtenerPyg(){this._rutinaService.obtenerPyg().subscribe(t=>{this.listPiernas=[],t.forEach(r=>{this.listPiernas.push(Object.assign({id:r.payload.doc.id},r.payload.doc.data()))}),console.log(this.listPiernas)})}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(sp))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-pierna-y-glueteo"]],decls:5,vars:1,consts:[[1,"container-fluid"],[1,"text-center"],[1,"row"],["class","card mb-3","style","max-width: 540px;",4,"ngFor","ngForOf"],[1,"card","mb-3",2,"max-width","540px"],[1,"row","g-0"],[1,"col-md-4"],["alt","...",1,"img-fluid","rounded-start",3,"src"],[1,"col-md-8"],[1,"card-body"],[1,"card-title","text-center"],[1,"card-subtitle","mb-2","text-muted","text-center"],[1,"card-text","text-justify"],[1,"card-footer","bg-transparent","border-success","text-muted","text-center"]],template:function(t,r){1&t&&(a.TgZ(0,"div",0)(1,"h3",1),a._uU(2," R\xfatinas r\xe1pidas para Pierna y Gl\xfateo!"),a.qZA(),a.TgZ(3,"div",2),a.YNc(4,$V,14,5,"div",3),a.qZA()()),2&t&&(a.xp6(4),a.Q6J("ngForOf",r.listPiernas))},directives:[en],styles:[".card[_ngcontent-%COMP%]{margin-left:5%}.container-fluid[_ngcontent-%COMP%]{background-color:#333}h3[_ngcontent-%COMP%]{color:#ff9500}"]}),n})();function ZV(n,e){if(1&n&&(a.TgZ(0,"div",4)(1,"div",5)(2,"div",6),a._UZ(3,"img",7),a.qZA(),a.TgZ(4,"div",8)(5,"div",9)(6,"h5",10),a._uU(7),a.qZA(),a.TgZ(8,"h6",11),a._uU(9),a.qZA(),a.TgZ(10,"p",12),a._uU(11),a.qZA()(),a.TgZ(12,"div",13),a._uU(13),a.qZA()()()()),2&n){const t=e.$implicit;a.xp6(3),a.s9C("src",t.img,a.LSH),a.xp6(4),a.Oqu(t.categoria),a.xp6(2),a.Oqu(t.nombre),a.xp6(2),a.Oqu(t.descripcion),a.xp6(2),a.Oqu(t.recomendacion)}}let GV=(()=>{class n{constructor(t){this._rutinaService=t,this.listcardioc=[]}ngOnInit(){this.obtenerCardioc()}obtenerCardioc(){this._rutinaService.obtenerCardioc().subscribe(t=>{this.listcardioc=[],t.forEach(r=>{this.listcardioc.push(Object.assign({id:r.payload.doc.id},r.payload.doc.data()))}),console.log(this.listcardioc)})}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(sp))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-cardio-en-casa"]],decls:5,vars:1,consts:[[1,"container-fluid"],[1,"text-center"],[1,"row"],["class","card mb-3","style","max-width: 540px;",4,"ngFor","ngForOf"],[1,"card","mb-3",2,"max-width","540px"],[1,"row","g-0"],[1,"col-md-4"],["alt","...",1,"img-fluid","rounded-start",3,"src"],[1,"col-md-8"],[1,"card-body"],[1,"card-title","text-center"],[1,"card-subtitle","mb-2","text-muted","text-center"],[1,"card-text","text-justify"],[1,"card-footer","bg-transparent","border-success","text-muted","text-center"]],template:function(t,r){1&t&&(a.TgZ(0,"div",0)(1,"h3",1),a._uU(2," R\xfatinas r\xe1pidas para cardio en casa!"),a.qZA(),a.TgZ(3,"div",2),a.YNc(4,ZV,14,5,"div",3),a.qZA()()),2&t&&(a.xp6(4),a.Q6J("ngForOf",r.listcardioc))},directives:[en],styles:[".card[_ngcontent-%COMP%]{margin-left:5%}.container-fluid[_ngcontent-%COMP%]{background-color:#333}h3[_ngcontent-%COMP%]{color:#ff9500}"]}),n})();function zV(n,e){if(1&n&&(a.TgZ(0,"div",4)(1,"div",5)(2,"div",6),a._UZ(3,"img",7),a.qZA(),a.TgZ(4,"div",8)(5,"div",9)(6,"h5",10),a._uU(7),a.qZA(),a.TgZ(8,"h6",11),a._uU(9),a.qZA(),a.TgZ(10,"p",12),a._uU(11),a.qZA()(),a.TgZ(12,"div",13),a._uU(13),a.qZA()()()()),2&n){const t=e.$implicit;a.xp6(3),a.s9C("src",t.img,a.LSH),a.xp6(4),a.Oqu(t.categoria),a.xp6(2),a.Oqu(t.nombre),a.xp6(2),a.Oqu(t.descripcion),a.xp6(2),a.Oqu(t.recomendacion)}}let WV=(()=>{class n{constructor(t){this._rutinaService=t,this.listabdominales=[]}ngOnInit(){this.obtenerAbdominales()}obtenerAbdominales(){this._rutinaService.obtenerAbdominales().subscribe(t=>{this.listabdominales=[],t.forEach(r=>{this.listabdominales.push(Object.assign({id:r.payload.doc.id},r.payload.doc.data()))}),console.log(this.listabdominales)})}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(sp))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-abdominales"]],decls:5,vars:1,consts:[[1,"container-fluid"],[1,"text-center"],[1,"row"],["class","card mb-3","style","max-width: 540px;",4,"ngFor","ngForOf"],[1,"card","mb-3",2,"max-width","540px"],[1,"row","g-0"],[1,"col-md-4"],["alt","...",1,"img-fluid","rounded-start",3,"src"],[1,"col-md-8"],[1,"card-body"],[1,"card-title","text-center"],[1,"card-subtitle","mb-2","text-muted","text-center"],[1,"card-text","text-justify"],[1,"card-footer","bg-transparent","border-success","text-muted","text-center"]],template:function(t,r){1&t&&(a.TgZ(0,"div",0)(1,"h3",1),a._uU(2," R\xfatinas r\xe1pidas para cardio en casa!"),a.qZA(),a.TgZ(3,"div",2),a.YNc(4,zV,14,5,"div",3),a.qZA()()),2&t&&(a.xp6(4),a.Q6J("ngForOf",r.listabdominales))},directives:[en],styles:[".card[_ngcontent-%COMP%]{margin-left:5%}.container-fluid[_ngcontent-%COMP%]{background-color:#333}h3[_ngcontent-%COMP%]{color:#ff9500}"]}),n})();function KV(n,e){if(1&n&&(a.TgZ(0,"div",2)(1,"div",3),a._uU(2),a.qZA(),a.TgZ(3,"div",4)(4,"h5",5),a._uU(5),a.qZA(),a.TgZ(6,"p",6),a._uU(7),a.qZA(),a.TgZ(8,"a",7),a._uU(9,"Comenzar"),a.qZA()(),a.TgZ(10,"div",8),a._uU(11),a.qZA()()),2&n){const t=e.$implicit;a.xp6(2),a.hij(" ",t.numRet," "),a.xp6(3),a.Oqu(t.reto),a.xp6(2),a.Oqu(t.descripcion),a.xp6(4),a.hij(" ",t.dias," ")}}let YV=(()=>{class n{constructor(t,r){this._retoService=t,this._toastr=r,this.listRetos=[]}ngOnInit(){this.obtenerRetos()}obtenerRetos(){this._retoService.obtenerRetos().subscribe(t=>{this.listRetos=[],t.forEach(r=>{this.listRetos.push(Object.assign({id:r.payload.doc.id},r.payload.doc.data()))}),console.log(this.listRetos)})}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(sp),a.Y36(jd))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-retos"]],decls:2,vars:1,consts:[[1,"container-fluid"],["class","card text-center",4,"ngFor","ngForOf"],[1,"card","text-center"],[1,"card-header"],[1,"card-body"],[1,"card-subtitle"],[1,"card-text"],["href","#",1,"btn","btn-primary"],[1,"card-footer","text-muted"]],template:function(t,r){1&t&&(a.TgZ(0,"div",0),a.YNc(1,KV,12,4,"div",1),a.qZA()),2&t&&(a.xp6(1),a.Q6J("ngForOf",r.listRetos))},directives:[en],styles:["src[_ngcontent-%COMP%]{height:5px}.container-fluid[_ngcontent-%COMP%]{background-color:#333}.card-header[_ngcontent-%COMP%]{background-color:#ff9500}.btn-primary[_ngcontent-%COMP%]{background-color:#fd7d3d!important;border-color:#ff9500;color:#000}"]}),n})(),Hd=(()=>{class n{constructor(t){this.firestore=t,this.ejercicio$=new Or.x}obtenerPectorales(){return this.firestore.collection("pectorales",t=>t.orderBy("ejercicio","asc")).snapshotChanges()}obtenerAbdomen(){return this.firestore.collection("abdomen",t=>t.orderBy("ejercicio","asc")).snapshotChanges()}obtenerAntebrazo(){return this.firestore.collection("antebrazo",t=>t.orderBy("ejercicio","asc")).snapshotChanges()}obtenerBiceps(){return this.firestore.collection("biceps",t=>t.orderBy("ejercicio","asc")).snapshotChanges()}obtenerPierna(){return this.firestore.collection("pierna",t=>t.orderBy("ejercicio","asc")).snapshotChanges()}obtenerTriceps(){return this.firestore.collection("triceps",t=>t.orderBy("ejercicio","asc")).snapshotChanges()}obtenerEspalda(){return this.firestore.collection("espalda",t=>t.orderBy("ejercicio","asc")).snapshotChanges()}obtenerGluteos(){return this.firestore.collection("gluetos",t=>t.orderBy("ejercicio","asc")).snapshotChanges()}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(a1))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function QV(n,e){if(1&n&&(a.TgZ(0,"div",4)(1,"div",5)(2,"h2",6)(3,"strong"),a._uU(4),a.qZA()(),a._UZ(5,"img",7),a.TgZ(6,"h4",8),a._uU(7,"Ejecuci\xf3n del Ejercicio"),a.qZA(),a.TgZ(8,"p",9),a._uU(9),a.qZA(),a.TgZ(10,"p",10),a._uU(11),a.qZA(),a.TgZ(12,"a",11),a._uU(13,"Ver V\xeddeo"),a.qZA()()()),2&n){const t=e.$implicit;a.xp6(4),a.Oqu(t.ejercicio),a.xp6(1),a.s9C("src",t.img,a.LSH),a.xp6(4),a.hij("",t.indicacion," "),a.xp6(2),a.Oqu(t.pasos),a.xp6(1),a.s9C("href",t.link,a.LSH)}}let TP=(()=>{class n{constructor(t){this._ejercicioService=t,this.listEjercicios=[]}ngOnInit(){this.obtenerPectorales()}obtenerPectorales(){this._ejercicioService.obtenerPectorales().subscribe(t=>{this.listEjercicios=[],t.forEach(r=>{this.listEjercicios.push(Object.assign({id:r.payload.doc.id},r.payload.doc.data()))}),console.log(this.listEjercicios)})}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Hd))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-pectorales"]],decls:5,vars:1,consts:[[1,"container-fluid"],[1,"row"],[1,"text-center","mt-3","titulo"],["class","card text-center mx-2 my-2","style","max-width: 28rem;",4,"ngFor","ngForOf"],[1,"card","text-center","mx-2","my-2",2,"max-width","28rem"],[1,"card-body"],[1,"card-title"],["max-with","50px","max-height","100px","alt","...",1,"card-img-top","img-fluid",3,"src"],[1,"card-subtitle","mb-2","text-muted","text-center"],[1,"card-text"],[1,"card-text","text-justify"],[1,"btn","btn-primary",3,"href"]],template:function(t,r){1&t&&(a.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),a._uU(3,"Ejercicios de Pectorales"),a.qZA(),a.YNc(4,QV,14,5,"div",3),a.qZA()()),2&t&&(a.xp6(4),a.Q6J("ngForOf",r.listEjercicios))},directives:[en],styles:[".container-fluid[_ngcontent-%COMP%]{background-color:#ffffff10!important}.row[_ngcontent-%COMP%]{background-color:#333}.btn-primary[_ngcontent-%COMP%]{background-color:#fd7d3d}a[_ngcontent-%COMP%]:hover{color:#000!important;background-color:#fd7d3d!important}.titulo[_ngcontent-%COMP%]{color:#fd7d3d}"]}),n})();function JV(n,e){1&n&&(a.TgZ(0,"div",13),a._uU(1,"Se requiere de un nombre*"),a.qZA())}function XV(n,e){1&n&&(a.TgZ(0,"div",13),a._uU(1,"Se requiere de un correo* "),a.qZA())}function e3(n,e){1&n&&(a.TgZ(0,"div",13),a._uU(1,"Se requiere de una contrase\xf1a* "),a.qZA())}function t3(n,e){1&n&&(a.TgZ(0,"div",13),a._uU(1,"Se requiere de una confirmaci\xf3n* "),a.qZA())}function n3(n,e){1&n&&(a.TgZ(0,"div",13),a._uU(1,"Las contrase\xf1as no coinciden* "),a.qZA())}let i3=(()=>{class n{constructor(t,r,i){this.userService=t,this.toast=r,this.router=i,this.signUpForm=new qc({name:new Pr("",vs.required),email:new Pr("",[vs.email,vs.required]),password:new Pr("",vs.required),confirmPassword:new Pr("",vs.required)},{validators:n=>{var e,t;const r=null===(e=n.get("password"))||void 0===e?void 0:e.value,i=null===(t=n.get("confirmPassword"))||void 0===t?void 0:t.value;return r&&i&&r!==i?{passwordsDonMatch:!0}:null}})}ngOnInit(){}get name(){return this.signUpForm.get("name")}get email(){return this.signUpForm.get("email")}get password(){return this.signUpForm.get("password")}get confirmPassword(){return this.signUpForm.get("confirmPassword")}submit(){if(this.signUpForm.valid)return;const{name:t,email:r,password:i}=this.signUpForm.value;this.userService.signUp(t,r,i).pipe(this.toast.observe({success:"Has ingresado correctamente",loading:"Iniciando sesion",error:c=>`${null==c?void 0:c.message}`})).subscribe(()=>{this.router.navigate(["/blog"])})}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Ql),a.Y36(L1),a.Y36(ei))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-register"]],decls:28,vars:6,consts:[[1,"container-fluid"],[1,"contenedor__todo","my-5"],[1,"caja__trasera","my-5"],[1,"caja__trasera-register"],["routerLink","/inicio-sesion","id","btn__iniciar-sesion"],[1,"contenedor__login-register"],[1,"",3,"formGroup","ngSubmit"],["type","text","placeholder","Nombre","name","name","required","","formControlName","name"],["class","msj-errores",4,"ngIf"],["type","text","placeholder","Correo Electronico","name","correo","required","","formControlName","email"],["type","password","placeholder","Contrase\xf1a","name","contrasena","required","","formControlName","password"],["type","password","placeholder","Contrase\xf1a de confirmaci\xf3n","name","confirmacion","required","","formControlName","confirmPassword"],["type","submit","name","registrarse","value","Registrarse",2,"color","black","height","60px","width","300px"],[1,"msj-errores"]],template:function(t,r){1&t&&(a.TgZ(0,"div",0),a._UZ(1,"br"),a.TgZ(2,"div",1)(3,"div",2)(4,"div",3)(5,"h3"),a._uU(6,"\xbfYa tienes una cuenta?"),a.qZA(),a.TgZ(7,"p"),a._uU(8,"Inicia sesi\xf3n para entrar en la p\xe1gina"),a.qZA(),a.TgZ(9,"button",4),a._uU(10,"Iniciar Sesi\xf3n"),a.qZA()()(),a.TgZ(11,"div",5)(12,"form",6),a.NdJ("ngSubmit",function(){return r.submit()}),a.TgZ(13,"h2"),a._uU(14,"Reg\xedstrarse"),a.qZA(),a._UZ(15,"input",7),a.YNc(16,JV,2,0,"div",8),a._UZ(17,"input",9),a.YNc(18,XV,2,0,"div",8),a._UZ(19,"input",10),a.YNc(20,e3,2,0,"div",8),a._UZ(21,"input",11),a.YNc(22,t3,2,0,"div",8),a.YNc(23,n3,2,0,"div",8),a._UZ(24,"input",12),a.qZA()()(),a._UZ(25,"br")(26,"br"),a.qZA(),a._UZ(27,"router-outlet")),2&t&&(a.xp6(12),a.Q6J("formGroup",r.signUpForm),a.xp6(4),a.Q6J("ngIf",null==r.name||null==r.name.errors?null:r.name.errors.required),a.xp6(2),a.Q6J("ngIf",null==r.email||null==r.email.errors?null:r.email.errors.required),a.xp6(2),a.Q6J("ngIf",null==r.password||null==r.password.errors?null:r.password.errors.required),a.xp6(2),a.Q6J("ngIf",null==r.confirmPassword||null==r.confirmPassword.errors?null:r.confirmPassword.errors.required),a.xp6(1),a.Q6J("ngIf",null==r.signUpForm.errors?null:r.signUpForm.errors.passwordsDontMatch))},directives:[go,Zc,Xa,pd,Rh,Ug,Hc,Kh,Gn,ta],styles:[".container-fluid[_ngcontent-%COMP%]{background-color:#333}input[type=submit][_ngcontent-%COMP%]{width:30%;margin:auto;background:#46A2FD;color:#fff;border:none;cursor:pointer}.error[_ngcontent-%COMP%]{color:red}.contenedor__todo[_ngcontent-%COMP%]{width:100%;max-width:800px;margin:auto;position:relative}.caja__trasera[_ngcontent-%COMP%]{width:100%;padding:10px 20px;display:flex;justify-content:right;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);background-color:#ff9500c0}.caja__trasera[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin:100px 40px;color:#fff;transition:all .5s}.caja__trasera[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .caja__trasera[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:30px}.caja__trasera[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-weight:400;font-size:26px}.caja__trasera[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;font-weight:300}.caja__trasera[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 40px;border:2px solid #fff;font-size:14px;background:transparent;font-weight:600;cursor:pointer;color:#fff;outline:none;transition:all .3s}.caja__trasera[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#fff;color:#fd4646}.contenedor__login-register[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;max-width:380px;position:relative;top:-185px;left:10px;transition:left .5s cubic-bezier(.175,.885,.32,1.275)}.contenedor__login-register[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{width:100%;padding:80px 20px;background:white;position:absolute;border-radius:20px}.contenedor__login-register[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:30px;text-align:center;margin-bottom:20px;color:#fd7d3d}.contenedor__login-register[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;margin-top:20px;padding:10px;border:none;background:#F2F2F2;font-size:16px;outline:none}.contenedor__login-register[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 40px;margin-top:40px;border:none;font-size:14px;background:#46A2FD;font-weight:600;cursor:pointer;color:#fff;outline:none}.msj-errores[_ngcontent-%COMP%]{color:#fd4646}.formulario__login[_ngcontent-%COMP%]{opacity:1;display:block}.formulario__register[_ngcontent-%COMP%]{display:none}@media screen and (max-width: 850px){main[_ngcontent-%COMP%]{margin-top:50px}.caja__trasera[_ngcontent-%COMP%]{max-width:350px;height:300px;flex-direction:column;margin:auto}.caja__trasera[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin:0;position:absolute}.contenedor__login-register[_ngcontent-%COMP%]{top:-10px;left:-5px;margin:auto}.contenedor__login-register[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{position:relative}}"]}),n})(),IP=(()=>{class n{constructor(t,r,i,c){this.userService=t,this.router=r,this.toast=i,this.toastr=c}canActivate(t,r){return this.userService.currentUser$.pipe((0,Ut.U)(i=>!!i||(this.toastr.error("Opps!, Parece que estas intentando acceder a un sitio que requiere autentificaci\xf3n"),this.toastr.error("Inicia Sesi\xf3n"),this.router.navigate(["/inicio-sesion"]),!1)))}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Ql),a.LFG(ei),a.LFG(L1),a.LFG(jd))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function s3(n,e){if(1&n&&(a.TgZ(0,"div",4)(1,"div",5)(2,"h2",6)(3,"strong"),a._uU(4),a.qZA()(),a._UZ(5,"img",7),a.TgZ(6,"h4",8),a._uU(7,"Ejecuci\xf3n del Ejercicio"),a.qZA(),a.TgZ(8,"p",9),a._uU(9),a.qZA(),a.TgZ(10,"p",10),a._uU(11),a.qZA(),a.TgZ(12,"a",11),a._uU(13,"Ver V\xeddeo"),a.qZA()()()),2&n){const t=e.$implicit;a.xp6(4),a.Oqu(t.ejercicio),a.xp6(1),a.s9C("src",t.img,a.LSH),a.xp6(4),a.hij("",t.indicacion," "),a.xp6(2),a.Oqu(t.pasos),a.xp6(1),a.s9C("href",t.link,a.LSH)}}let o3=(()=>{class n{constructor(t){this._ejercicioService=t,this.listEjercicios=[]}ngOnInit(){this.obtenerPierna()}obtenerPierna(){this._ejercicioService.obtenerPierna().subscribe(t=>{this.listEjercicios=[],t.forEach(r=>{this.listEjercicios.push(Object.assign({id:r.payload.doc.id},r.payload.doc.data()))}),console.log(this.listEjercicios)})}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Hd))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-pierna"]],decls:5,vars:1,consts:[[1,"container-fluid"],[1,"row"],[1,"text-center","mt-3","titulo"],["class","card text-center mx-2 my-2","style","max-width: 28rem;",4,"ngFor","ngForOf"],[1,"card","text-center","mx-2","my-2",2,"max-width","28rem"],[1,"card-body"],[1,"card-title"],["max-with","50px","max-height","100px","alt","...",1,"card-img-top","img-fluid",3,"src"],[1,"card-subtitle","mb-2","text-muted","text-center"],[1,"card-text"],[1,"card-text","text-justify"],[1,"btn","btn-primary",3,"href"]],template:function(t,r){1&t&&(a.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),a._uU(3,"Ejercicios de Pierna"),a.qZA(),a.YNc(4,s3,14,5,"div",3),a.qZA()()),2&t&&(a.xp6(4),a.Q6J("ngForOf",r.listEjercicios))},directives:[en],styles:[".container-fluid[_ngcontent-%COMP%]{background-color:#ffffff10!important}.row[_ngcontent-%COMP%]{background-color:#333}.btn-primary[_ngcontent-%COMP%]{background-color:#fd7d3d}a[_ngcontent-%COMP%]:hover{color:#000!important;background-color:#fd7d3d!important}.titulo[_ngcontent-%COMP%]{color:#fd7d3d}"]}),n})();function a3(n,e){if(1&n&&(a.TgZ(0,"div",4)(1,"div",5)(2,"h2",6)(3,"strong"),a._uU(4),a.qZA()(),a._UZ(5,"img",7),a.TgZ(6,"h4",8),a._uU(7,"Ejecuci\xf3n del Ejercicio"),a.qZA(),a.TgZ(8,"p",9),a._uU(9),a.qZA(),a.TgZ(10,"p",10),a._uU(11),a.qZA(),a.TgZ(12,"a",11),a._uU(13,"Ver V\xeddeo"),a.qZA()()()),2&n){const t=e.$implicit;a.xp6(4),a.Oqu(t.ejercicio),a.xp6(1),a.s9C("src",t.img,a.LSH),a.xp6(4),a.hij("",t.indicacion," "),a.xp6(2),a.Oqu(t.pasos),a.xp6(1),a.s9C("href",t.link,a.LSH)}}let u3=(()=>{class n{constructor(t){this._ejercicioService=t,this.listEjercicios=[]}ngOnInit(){this.obtenerTriceps()}obtenerTriceps(){this._ejercicioService.obtenerTriceps().subscribe(t=>{this.listEjercicios=[],t.forEach(r=>{this.listEjercicios.push(Object.assign({id:r.payload.doc.id},r.payload.doc.data()))}),console.log(this.listEjercicios)})}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Hd))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-triceps"]],decls:5,vars:1,consts:[[1,"container-fluid"],[1,"row"],[1,"text-center","mt-3","titulo"],["class","card text-center mx-2 my-2","style","max-width: 28rem;",4,"ngFor","ngForOf"],[1,"card","text-center","mx-2","my-2",2,"max-width","28rem"],[1,"card-body"],[1,"card-title"],["max-with","50px","max-height","100px","alt","...",1,"card-img-top","img-fluid",3,"src"],[1,"card-subtitle","mb-2","text-muted","text-center"],[1,"card-text"],[1,"card-text","text-justify"],[1,"btn","btn-primary",3,"href"]],template:function(t,r){1&t&&(a.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),a._uU(3,"Ejercicios de Tr\xedceps"),a.qZA(),a.YNc(4,a3,14,5,"div",3),a.qZA()()),2&t&&(a.xp6(4),a.Q6J("ngForOf",r.listEjercicios))},directives:[en],styles:[".container-fluid[_ngcontent-%COMP%]{background-color:#ffffff10!important}.row[_ngcontent-%COMP%]{background-color:#333}.btn-primary[_ngcontent-%COMP%]{background-color:#fd7d3d}a[_ngcontent-%COMP%]:hover{color:#000!important;background-color:#fd7d3d!important}.titulo[_ngcontent-%COMP%]{color:#fd7d3d}"]}),n})();function c3(n,e){if(1&n&&(a.TgZ(0,"div",4)(1,"div",5)(2,"h2",6)(3,"strong"),a._uU(4),a.qZA()(),a._UZ(5,"img",7),a.TgZ(6,"h4",8),a._uU(7,"Ejecuci\xf3n del Ejercicio"),a.qZA(),a.TgZ(8,"p",9),a._uU(9),a.qZA(),a.TgZ(10,"p",10),a._uU(11),a.qZA(),a.TgZ(12,"a",11),a._uU(13,"Ver V\xeddeo"),a.qZA()()()),2&n){const t=e.$implicit;a.xp6(4),a.Oqu(t.ejercicio),a.xp6(1),a.s9C("src",t.img,a.LSH),a.xp6(4),a.hij("",t.indicacion," "),a.xp6(2),a.Oqu(t.pasos),a.xp6(1),a.s9C("href",t.link,a.LSH)}}let l3=(()=>{class n{constructor(t){this._ejercicioService=t,this.listEjercicios=[]}ngOnInit(){this.obtenerAbdomen()}obtenerAbdomen(){this._ejercicioService.obtenerAbdomen().subscribe(t=>{this.listEjercicios=[],t.forEach(r=>{this.listEjercicios.push(Object.assign({id:r.payload.doc.id},r.payload.doc.data()))}),console.log(this.listEjercicios)})}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Hd))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-abdomen"]],decls:5,vars:1,consts:[[1,"container-fluid"],[1,"row"],[1,"text-center","mt-3","titulo"],["class","card text-center mx-2 my-2","style","max-width: 28rem;",4,"ngFor","ngForOf"],[1,"card","text-center","mx-2","my-2",2,"max-width","28rem"],[1,"card-body"],[1,"card-title"],["max-with","50px","max-height","100px","alt","...",1,"card-img-top","img-fluid",3,"src"],[1,"card-subtitle","mb-2","text-muted","text-center"],[1,"card-text"],[1,"card-text","text-justify"],[1,"btn","btn-primary",3,"href"]],template:function(t,r){1&t&&(a.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),a._uU(3,"Ejercicios de Abdomen"),a.qZA(),a.YNc(4,c3,14,5,"div",3),a.qZA()()),2&t&&(a.xp6(4),a.Q6J("ngForOf",r.listEjercicios))},directives:[en],styles:[".container-fluid[_ngcontent-%COMP%]{background-color:#ffffff10!important}.row[_ngcontent-%COMP%]{background-color:#333}.btn-primary[_ngcontent-%COMP%]{background-color:#fd7d3d}a[_ngcontent-%COMP%]:hover{color:#000!important;background-color:#fd7d3d!important}.titulo[_ngcontent-%COMP%]{color:#fd7d3d}"]}),n})();function d3(n,e){if(1&n&&(a.TgZ(0,"div",4)(1,"div",5)(2,"h2",6)(3,"strong"),a._uU(4),a.qZA()(),a._UZ(5,"img",7),a.TgZ(6,"h4",8),a._uU(7,"Ejecuci\xf3n del Ejercicio"),a.qZA(),a.TgZ(8,"p",9),a._uU(9),a.qZA(),a.TgZ(10,"p",10),a._uU(11),a.qZA(),a.TgZ(12,"a",11),a._uU(13,"Ver V\xeddeo"),a.qZA()()()),2&n){const t=e.$implicit;a.xp6(4),a.Oqu(t.ejercicio),a.xp6(1),a.s9C("src",t.img,a.LSH),a.xp6(4),a.hij("",t.indicacion," "),a.xp6(2),a.Oqu(t.pasos),a.xp6(1),a.s9C("href",t.link,a.LSH)}}let h3=(()=>{class n{constructor(t){this._ejercicioService=t,this.listEjercicios=[]}ngOnInit(){this.obtenerAntebrazo()}obtenerAntebrazo(){this._ejercicioService.obtenerAntebrazo().subscribe(t=>{this.listEjercicios=[],t.forEach(r=>{this.listEjercicios.push(Object.assign({id:r.payload.doc.id},r.payload.doc.data()))}),console.log(this.listEjercicios)})}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Hd))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-antebrazo"]],decls:5,vars:1,consts:[[1,"container-fluid"],[1,"row"],[1,"text-center","mt-3","titulo"],["class","card text-center mx-2 my-2","style","max-width: 28rem;",4,"ngFor","ngForOf"],[1,"card","text-center","mx-2","my-2",2,"max-width","28rem"],[1,"card-body"],[1,"card-title"],["max-with","50px","max-height","100px","alt","...",1,"card-img-top","img-fluid",3,"src"],[1,"card-subtitle","mb-2","text-muted","text-center"],[1,"card-text"],[1,"card-text","text-justify"],[1,"btn","btn-primary",3,"href"]],template:function(t,r){1&t&&(a.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),a._uU(3,"Ejercicios de Antebrazo"),a.qZA(),a.YNc(4,d3,14,5,"div",3),a.qZA()()),2&t&&(a.xp6(4),a.Q6J("ngForOf",r.listEjercicios))},directives:[en],styles:[".container-fluid[_ngcontent-%COMP%]{background-color:#ffffff10!important}.row[_ngcontent-%COMP%]{background-color:#333}.btn-primary[_ngcontent-%COMP%]{background-color:#fd7d3d}a[_ngcontent-%COMP%]:hover{color:#000!important;background-color:#fd7d3d!important}.titulo[_ngcontent-%COMP%]{color:#fd7d3d}"]}),n})();function f3(n,e){if(1&n&&(a.TgZ(0,"div",4)(1,"div",5)(2,"h2",6)(3,"strong"),a._uU(4),a.qZA()(),a._UZ(5,"img",7),a.TgZ(6,"h4",8),a._uU(7,"Ejecuci\xf3n del Ejercicio"),a.qZA(),a.TgZ(8,"p",9),a._uU(9),a.qZA(),a.TgZ(10,"p",10),a._uU(11),a.qZA(),a.TgZ(12,"a",11),a._uU(13,"Ver V\xeddeo"),a.qZA()()()),2&n){const t=e.$implicit;a.xp6(4),a.Oqu(t.ejercicio),a.xp6(1),a.s9C("src",t.img,a.LSH),a.xp6(4),a.hij("",t.indicacion," "),a.xp6(2),a.Oqu(t.pasos),a.xp6(1),a.s9C("href",t.link,a.LSH)}}let p3=(()=>{class n{constructor(t){this._ejercicioService=t,this.listEjercicios=[]}ngOnInit(){this.obtenerBiceps()}obtenerBiceps(){this._ejercicioService.obtenerBiceps().subscribe(t=>{this.listEjercicios=[],t.forEach(r=>{this.listEjercicios.push(Object.assign({id:r.payload.doc.id},r.payload.doc.data()))}),console.log(this.listEjercicios)})}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Hd))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-biceps"]],decls:5,vars:1,consts:[[1,"container-fluid"],[1,"row"],[1,"text-center","mt-3","titulo"],["class","card text-center mx-2 my-2","style","max-width: 28rem;",4,"ngFor","ngForOf"],[1,"card","text-center","mx-2","my-2",2,"max-width","28rem"],[1,"card-body"],[1,"card-title"],["max-with","50px","max-height","100px","alt","...",1,"card-img-top","img-fluid",3,"src"],[1,"card-subtitle","mb-2","text-muted","text-center"],[1,"card-text"],[1,"card-text","text-justify"],[1,"btn","btn-primary",3,"href"]],template:function(t,r){1&t&&(a.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),a._uU(3,"Ejercicios de B\xedceps"),a.qZA(),a.YNc(4,f3,14,5,"div",3),a.qZA()()),2&t&&(a.xp6(4),a.Q6J("ngForOf",r.listEjercicios))},directives:[en],styles:[".container-fluid[_ngcontent-%COMP%]{background-color:#ffffff10!important}.row[_ngcontent-%COMP%]{background-color:#333}.btn-primary[_ngcontent-%COMP%]{background-color:#fd7d3d}a[_ngcontent-%COMP%]:hover{color:#000!important;background-color:#fd7d3d!important}.titulo[_ngcontent-%COMP%]{color:#fd7d3d}"]}),n})();function g3(n,e){if(1&n&&(a.TgZ(0,"div",4)(1,"div",5)(2,"h2",6)(3,"strong"),a._uU(4),a.qZA()(),a._UZ(5,"img",7),a.TgZ(6,"h4",8),a._uU(7,"Ejecuci\xf3n del Ejercicio"),a.qZA(),a.TgZ(8,"p",9),a._uU(9),a.qZA(),a.TgZ(10,"p",10),a._uU(11),a.qZA(),a.TgZ(12,"a",11),a._uU(13,"Ver V\xeddeo"),a.qZA()()()),2&n){const t=e.$implicit;a.xp6(4),a.Oqu(t.ejercicio),a.xp6(1),a.s9C("src",t.img,a.LSH),a.xp6(4),a.hij("",t.indicacion," "),a.xp6(2),a.Oqu(t.pasos),a.xp6(1),a.s9C("href",t.link,a.LSH)}}let m3=(()=>{class n{constructor(t){this._ejercicioService=t,this.listEjercicios=[]}ngOnInit(){this.obtenerGluteos()}obtenerGluteos(){this._ejercicioService.obtenerGluteos().subscribe(t=>{this.listEjercicios=[],t.forEach(r=>{this.listEjercicios.push(Object.assign({id:r.payload.doc.id},r.payload.doc.data()))}),console.log(this.listEjercicios)})}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Hd))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-gluteos"]],decls:5,vars:1,consts:[[1,"container-fluid"],[1,"row"],[1,"text-center","mt-3","titulo"],["class","card text-center mx-2 my-2","style","max-width: 28rem;",4,"ngFor","ngForOf"],[1,"card","text-center","mx-2","my-2",2,"max-width","28rem"],[1,"card-body"],[1,"card-title"],["max-with","50px","max-height","100px","alt","...",1,"card-img-top","img-fluid",3,"src"],[1,"card-subtitle","mb-2","text-muted","text-center"],[1,"card-text"],[1,"card-text","text-justify"],[1,"btn","btn-primary",3,"href"]],template:function(t,r){1&t&&(a.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),a._uU(3,"Ejercicios de Gl\xfateos"),a.qZA(),a.YNc(4,g3,14,5,"div",3),a.qZA()()),2&t&&(a.xp6(4),a.Q6J("ngForOf",r.listEjercicios))},directives:[en],styles:[".container-fluid[_ngcontent-%COMP%]{background-color:#ffffff10!important}.row[_ngcontent-%COMP%]{background-color:#333}.btn-primary[_ngcontent-%COMP%]{background-color:#fd7d3d}a[_ngcontent-%COMP%]:hover{color:#000!important;background-color:#fd7d3d!important}.titulo[_ngcontent-%COMP%]{color:#fd7d3d}"]}),n})();function y3(n,e){if(1&n&&(a.TgZ(0,"div",4)(1,"div",5)(2,"h2",6)(3,"strong"),a._uU(4),a.qZA()(),a._UZ(5,"img",7),a.TgZ(6,"h4",8),a._uU(7,"Ejecuci\xf3n del Ejercicio"),a.qZA(),a.TgZ(8,"p",9),a._uU(9),a.qZA(),a.TgZ(10,"p",10),a._uU(11),a.qZA(),a.TgZ(12,"a",11),a._uU(13,"Ver V\xeddeo"),a.qZA()()()),2&n){const t=e.$implicit;a.xp6(4),a.Oqu(t.ejercicio),a.xp6(1),a.s9C("src",t.img,a.LSH),a.xp6(4),a.hij("",t.indicacion," "),a.xp6(2),a.Oqu(t.pasos),a.xp6(1),a.s9C("href",t.link,a.LSH)}}let _3=(()=>{class n{constructor(t){this._ejercicioService=t,this.listEjercicios=[]}ngOnInit(){this.obtenerEspalda()}obtenerEspalda(){this._ejercicioService.obtenerEspalda().subscribe(t=>{this.listEjercicios=[],t.forEach(r=>{this.listEjercicios.push(Object.assign({id:r.payload.doc.id},r.payload.doc.data()))}),console.log(this.listEjercicios)})}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Hd))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-espalda"]],decls:5,vars:1,consts:[[1,"container-fluid"],[1,"row"],[1,"text-center","mt-3","titulo"],["class","card text-center mx-2 my-2","style","max-width: 28rem;",4,"ngFor","ngForOf"],[1,"card","text-center","mx-2","my-2",2,"max-width","28rem"],[1,"card-body"],[1,"card-title"],["max-with","50px","max-height","100px","alt","...",1,"card-img-top","img-fluid",3,"src"],[1,"card-subtitle","mb-2","text-muted","text-center"],[1,"card-text"],[1,"card-text","text-justify"],[1,"btn","btn-primary",3,"href"]],template:function(t,r){1&t&&(a.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),a._uU(3,"Ejercicios de Espalda"),a.qZA(),a.YNc(4,y3,14,5,"div",3),a.qZA()()),2&t&&(a.xp6(4),a.Q6J("ngForOf",r.listEjercicios))},directives:[en],styles:[".container-fluid[_ngcontent-%COMP%]{background-color:#ffffff10!important}.row[_ngcontent-%COMP%]{background-color:#333}.btn-primary[_ngcontent-%COMP%]{background-color:#fd7d3d}a[_ngcontent-%COMP%]:hover{color:#000!important;background-color:#fd7d3d!important}.titulo[_ngcontent-%COMP%]{color:#fd7d3d}"]}),n})(),v3=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-estiramientos"]],decls:2,vars:0,consts:[[1,"ratio","ratio-16x9"],["src","https://www.youtube.com/watch?v=cfHCmkUnXHw","title","YouTube video","allowfullscreen",""]],template:function(t,r){1&t&&(a.TgZ(0,"div",0),a._UZ(1,"iframe",1),a.qZA())},styles:[""]}),n})(),b3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n,bootstrap:[rx]}),n.\u0275inj=a.cJS({providers:[],imports:[[mu,FV,AI,Qh,Bg,bo.hO.initializeApp(U1_firebase),TL,CU,wP,GU.forRoot(),s_.forRoot([{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:UV},{path:"rutinas",component:hP},{path:"ejercicios",component:fP},{path:"blog",component:pP},{path:"inicio-sesion",component:EP},{path:"register",component:i3},{path:"crear-rutina",component:CP,canActivate:[IP]},{path:"listar-rutinas",component:BV,canActivate:[IP]},{path:"quemagrasa",component:HV},{path:"pierna-y-gluteo",component:qV},{path:"cardio-en-casa",component:GV},{path:"abdominales",component:WV},{path:"retos",component:YV},{path:"estiramientos",component:v3},{path:"pectorales",component:TP},{path:"antebrazo",component:h3},{path:"abdomen",component:l3},{path:"biceps",component:p3},{path:"espalda",component:_3},{path:"gluetos",component:m3},{path:"pectorales",component:TP},{path:"pierna",component:o3},{path:"triceps",component:u3}]),no(()=>Ll(U1_firebase)),ly(()=>w()),wP.forRoot()]]}),n})();(0,a.G48)(),xl().bootstrapModule(b3).catch(n=>console.error(n))},5867:(et,Ie,P)=>{P.d(Ie,{C6:()=>a.getApps,KN:()=>a.registerVersion,Mq:()=>a.getApp,ZF:()=>a.initializeApp});var a=P(9681);(0,a.registerVersion)("firebase","9.8.1","app")},127:(et,Ie,P)=>{P.d(Ie,{Z:()=>a.Z});var a=P(3942);a.Z.registerVersion("firebase","9.8.1","app-compat")},5881:(et,Ie,P)=>{P.r(Ie);var a=P(5861),U=P(3942),R=P(198),se=P(2090),de=(P(9681),P(1877),P(4859));function ae(){return window}function j(){return(j=(0,a.Z)(function*(ue,K,z){var Ae;const{BuildInfo:Ke}=ae();(0,R.aq)(K.sessionId,"AuthEvent did not contain a session ID");const at=yield De(K.sessionId),Mt={};return(0,R.ar)()?Mt.ibi=Ke.packageName:(0,R.as)()?Mt.apn=Ke.packageName:(0,R.at)(ue,"operation-not-supported-in-this-environment"),Ke.displayName&&(Mt.appDisplayName=Ke.displayName),Mt.sessionId=at,(0,R.au)(ue,z,K.type,void 0,null!==(Ae=K.eventId)&&void 0!==Ae?Ae:void 0,Mt)})).apply(this,arguments)}function Ge(){return(Ge=(0,a.Z)(function*(ue){const{BuildInfo:K}=ae(),z={};(0,R.ar)()?z.iosBundleId=K.packageName:(0,R.as)()?z.androidPackageName=K.packageName:(0,R.at)(ue,"operation-not-supported-in-this-environment"),yield(0,R.av)(ue,z)})).apply(this,arguments)}function $e(){return($e=(0,a.Z)(function*(ue,K,z){const{cordova:Ae}=ae();let Ke=()=>{};try{yield new Promise((at,Mt)=>{let Kt=null;function Bt(){var jt;at();const Dr=null===(jt=Ae.plugins.browsertab)||void 0===jt?void 0:jt.close;"function"==typeof Dr&&Dr(),"function"==typeof(null==z?void 0:z.close)&&z.close()}function qn(){Kt||(Kt=window.setTimeout(()=>{Mt((0,R.aw)(ue,"redirect-cancelled-by-user"))},2e3))}function Kr(){"visible"===(null==document?void 0:document.visibilityState)&&qn()}K.addPassiveListener(Bt),document.addEventListener("resume",qn,!1),(0,R.as)()&&document.addEventListener("visibilitychange",Kr,!1),Ke=()=>{K.removePassiveListener(Bt),document.removeEventListener("resume",qn,!1),document.removeEventListener("visibilitychange",Kr,!1),Kt&&window.clearTimeout(Kt)}})}finally{Ke()}})).apply(this,arguments)}function De(ue){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,a.Z)(function*(ue){const K=qe(ue),z=yield crypto.subtle.digest("SHA-256",K);return Array.from(new Uint8Array(z)).map(Ke=>Ke.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function qe(ue){if((0,R.aq)(/[0-9a-zA-Z]+/.test(ue),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(ue);const K=new ArrayBuffer(ue.length),z=new Uint8Array(K);for(let Ae=0;Ae<ue.length;Ae++)z[Ae]=ue.charCodeAt(Ae);return z}class Re extends R.aA{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(K=>{this.resolveInialized=K})}addPassiveListener(K){this.passiveListeners.add(K)}removePassiveListener(K){this.passiveListeners.delete(K)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(K){return this.resolveInialized(),this.passiveListeners.forEach(z=>z(K)),super.onEvent(K)}initialized(){var K=this;return(0,a.Z)(function*(){yield K.initPromise})()}}function ee(ue){return he.apply(this,arguments)}function he(){return(he=(0,a.Z)(function*(ue){const K=yield te()._get(ie(ue));return K&&(yield te()._remove(ie(ue))),K})).apply(this,arguments)}function Y(){const ue=[],K="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let z=0;z<20;z++){const Ae=Math.floor(Math.random()*K.length);ue.push(K.charAt(Ae))}return ue.join("")}function te(){return(0,R.ay)(R.b)}function ie(ue){return(0,R.az)("authEvent",ue.config.apiKey,ue.name)}function Ue(ue){if(!(null==ue?void 0:ue.includes("?")))return{};const[K,...z]=ue.split("?");return(0,se.zd)(z.join("?"))}function Qe(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,R.aw)("no-auth-event")}}function Zt(){var ue;return(null===(ue=null==self?void 0:self.location)||void 0===ue?void 0:ue.protocol)||null}function In(ue=(0,se.z$)()){return!("file:"!==Zt()&&"ionic:"!==Zt()||!ue.toLowerCase().match(/iphone|ipad|ipod|android/))}function si(){try{const ue=self.localStorage,K=R.aI();if(ue)return ue.setItem(K,"1"),ue.removeItem(K),!function xi(ue=(0,se.z$)()){return function Tr(){return(0,se.w1)()&&11===(null==document?void 0:document.documentMode)}()||function Sn(ue=(0,se.z$)()){return/Edge\/\d+/.test(ue)}(ue)}()||(0,se.hl)()}catch(ue){return bi()&&(0,se.hl)()}return!1}function bi(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Wn(){return(function tn(){return"http:"===Zt()||"https:"===Zt()}()||(0,se.ru)()||In())&&!function Si(){return(0,se.b$)()||(0,se.UG)()}()&&si()&&!bi()}function Mi(){return In()&&"undefined"!=typeof document}function Lr(){return(Lr=(0,a.Z)(function*(){return!!Mi()&&new Promise(ue=>{const K=setTimeout(()=>{ue(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(K),ue(!0)})})})).apply(this,arguments)}const nn={LOCAL:"local",NONE:"none",SESSION:"session"},Ir=R.ax,ar="persistence";function Dn(ue){return ur.apply(this,arguments)}function ur(){return(ur=(0,a.Z)(function*(ue){yield ue._initializationPromise;const K=Wt(),z=R.az(ar,ue.config.apiKey,ue.name);K&&K.setItem(z,ue._getPersistence())})).apply(this,arguments)}function Wt(){var ue;try{return(null===(ue=function Tn(){return"undefined"!=typeof window?window:null}())||void 0===ue?void 0:ue.sessionStorage)||null}catch(K){return null}}const ct=R.ax;class it{constructor(){this.browserResolver=R.ay(R.k),this.cordovaResolver=R.ay(class Xt{constructor(){this._redirectPersistence=R.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=R.aB,this._overrideRedirectResult=R.aC}_initialize(K){var z=this;return(0,a.Z)(function*(){const Ae=K._key();let Ke=z.eventManagers.get(Ae);return Ke||(Ke=new Re(K),z.eventManagers.set(Ae,Ke),z.attachCallbackListeners(K,Ke)),Ke})()}_openPopup(K){(0,R.at)(K,"operation-not-supported-in-this-environment")}_openRedirect(K,z,Ae,Ke){var at=this;return(0,a.Z)(function*(){!function ge(ue){var K,z,Ae,Ke,at,Mt,Kt,Bt,qn,Kr;const jt=ae();(0,R.ax)("function"==typeof(null===(K=null==jt?void 0:jt.universalLinks)||void 0===K?void 0:K.subscribe),ue,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,R.ax)(void 0!==(null===(z=null==jt?void 0:jt.BuildInfo)||void 0===z?void 0:z.packageName),ue,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,R.ax)("function"==typeof(null===(at=null===(Ke=null===(Ae=null==jt?void 0:jt.cordova)||void 0===Ae?void 0:Ae.plugins)||void 0===Ke?void 0:Ke.browsertab)||void 0===at?void 0:at.openUrl),ue,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,R.ax)("function"==typeof(null===(Bt=null===(Kt=null===(Mt=null==jt?void 0:jt.cordova)||void 0===Mt?void 0:Mt.plugins)||void 0===Kt?void 0:Kt.browsertab)||void 0===Bt?void 0:Bt.isAvailable),ue,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,R.ax)("function"==typeof(null===(Kr=null===(qn=null==jt?void 0:jt.cordova)||void 0===qn?void 0:qn.InAppBrowser)||void 0===Kr?void 0:Kr.open),ue,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(K);const Mt=yield at._initialize(K);yield Mt.initialized(),Mt.resetRedirect(),(0,R.aD)(),yield at._originValidation(K);const Kt=function Ee(ue,K,z=null){return{type:K,eventId:z,urlResponse:null,sessionId:Y(),postBody:null,tenantId:ue.tenantId,error:(0,R.aw)(ue,"no-auth-event")}}(K,Ae,Ke);yield function We(ue,K){return te()._set(ie(ue),K)}(K,Kt);const Bt=yield function q(ue,K,z){return j.apply(this,arguments)}(K,Kt,z),qn=yield function Me(ue){const{cordova:K}=ae();return new Promise(z=>{K.plugins.browsertab.isAvailable(Ae=>{let Ke=null;Ae?K.plugins.browsertab.openUrl(ue):Ke=K.InAppBrowser.open(ue,(0,R.ap)()?"_blank":"_system","location=yes"),z(Ke)})})}(Bt);return function Le(ue,K,z){return $e.apply(this,arguments)}(K,Mt,qn)})()}_isIframeWebStorageSupported(K,z){throw new Error("Method not implemented.")}_originValidation(K){const z=K._key();return this.originValidationPromises[z]||(this.originValidationPromises[z]=function re(ue){return Ge.apply(this,arguments)}(K)),this.originValidationPromises[z]}attachCallbackListeners(K,z){const{universalLinks:Ae,handleOpenURL:Ke,BuildInfo:at}=ae(),Mt=setTimeout((0,a.Z)(function*(){yield ee(K),z.onEvent(Qe())}),500),Kt=function(){var Kr=(0,a.Z)(function*(jt){clearTimeout(Mt);const Dr=yield ee(K);let Ri=null;Dr&&(null==jt?void 0:jt.url)&&(Ri=function Ce(ue,K){var z,Ae;const Ke=function ce(ue){const K=Ue(ue),z=K.link?decodeURIComponent(K.link):void 0,Ae=Ue(z).link,Ke=K.deep_link_id?decodeURIComponent(K.deep_link_id):void 0;return Ue(Ke).link||Ke||Ae||z||ue}(K);if(Ke.includes("/__/auth/callback")){const at=Ue(Ke),Mt=at.firebaseError?function ve(ue){try{return JSON.parse(ue)}catch(K){return null}}(decodeURIComponent(at.firebaseError)):null,Kt=null===(Ae=null===(z=null==Mt?void 0:Mt.code)||void 0===z?void 0:z.split("auth/"))||void 0===Ae?void 0:Ae[1],Bt=Kt?(0,R.aw)(Kt):null;return Bt?{type:ue.type,eventId:ue.eventId,tenantId:ue.tenantId,error:Bt,urlResponse:null,sessionId:null,postBody:null}:{type:ue.type,eventId:ue.eventId,tenantId:ue.tenantId,sessionId:ue.sessionId,urlResponse:Ke,postBody:null}}return null}(Dr,jt.url)),z.onEvent(Ri||Qe())});return function(Dr){return Kr.apply(this,arguments)}}();void 0!==Ae&&"function"==typeof Ae.subscribe&&Ae.subscribe(null,Kt);const Bt=Ke,qn=`${at.packageName.toLowerCase()}://`;ae().handleOpenURL=function(){var Kr=(0,a.Z)(function*(jt){if(jt.toLowerCase().startsWith(qn)&&Kt({url:jt}),"function"==typeof Bt)try{Bt(jt)}catch(Dr){console.error(Dr)}});return function(jt){return Kr.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=R.a,this._completeRedirectFn=R.aB,this._overrideRedirectResult=R.aC}_initialize(K){var z=this;return(0,a.Z)(function*(){return yield z.selectUnderlyingResolver(),z.assertedUnderlyingResolver._initialize(K)})()}_openPopup(K,z,Ae,Ke){var at=this;return(0,a.Z)(function*(){return yield at.selectUnderlyingResolver(),at.assertedUnderlyingResolver._openPopup(K,z,Ae,Ke)})()}_openRedirect(K,z,Ae,Ke){var at=this;return(0,a.Z)(function*(){return yield at.selectUnderlyingResolver(),at.assertedUnderlyingResolver._openRedirect(K,z,Ae,Ke)})()}_isIframeWebStorageSupported(K,z){this.assertedUnderlyingResolver._isIframeWebStorageSupported(K,z)}_originValidation(K){return this.assertedUnderlyingResolver._originValidation(K)}get _shouldInitProactively(){return Mi()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return ct(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var K=this;return(0,a.Z)(function*(){if(K.underlyingResolver)return;const z=yield function gt(){return Lr.apply(this,arguments)}();K.underlyingResolver=z?K.cordovaResolver:K.browserResolver})()}}function oi(ue){return ue.unwrap()}function Gt(ue){return Fn(ue)}function Fn(ue){const{_tokenResponse:K}=ue instanceof se.ZR?ue.customData:ue;if(!K)return null;if(!(ue instanceof se.ZR)&&"temporaryProof"in K&&"phoneNumber"in K)return R.P.credentialFromResult(ue);const z=K.providerId;if(!z||z===R.o.PASSWORD)return null;let Ae;switch(z){case R.o.GOOGLE:Ae=R.Q;break;case R.o.FACEBOOK:Ae=R.N;break;case R.o.GITHUB:Ae=R.T;break;case R.o.TWITTER:Ae=R.W;break;default:const{oauthIdToken:Ke,oauthAccessToken:at,oauthTokenSecret:Mt,pendingToken:Kt,nonce:Bt}=K;return at||Mt||Ke||Kt?Kt?z.startsWith("saml.")?R.aL._create(z,Kt):R.J._fromParams({providerId:z,signInMethod:z,pendingToken:Kt,idToken:Ke,accessToken:at}):new R.U(z).credential({idToken:Ke,accessToken:at,rawNonce:Bt}):null}return ue instanceof se.ZR?Ae.credentialFromError(ue):Ae.credentialFromResult(ue)}function fn(ue,K){return K.catch(z=>{throw z instanceof se.ZR&&function Oi(ue,K){var z;const Ae=null===(z=K.customData)||void 0===z?void 0:z._tokenResponse;if("auth/multi-factor-auth-required"===K.code)K.resolver=new W(ue,R.an(ue,K));else if(Ae){const Ke=Fn(K),at=K;Ke&&(at.credential=Ke,at.tenantId=Ae.tenantId||void 0,at.email=Ae.email||void 0,at.phoneNumber=Ae.phoneNumber||void 0)}}(ue,z),z}).then(z=>{const Ke=z.user;return{operationType:z.operationType,credential:Gt(z),additionalUserInfo:R.al(z),user:be.getOrCreate(Ke)}})}function V(ue,K){return Z.apply(this,arguments)}function Z(){return(Z=(0,a.Z)(function*(ue,K){const z=yield K;return{verificationId:z.verificationId,confirm:Ae=>fn(ue,z.confirm(Ae))}})).apply(this,arguments)}class W{constructor(K,z){this.resolver=z,this.auth=function ai(ue){return ue.wrapped()}(K)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(K){return fn(oi(this.auth),this.resolver.resolveSignIn(K))}}class be{constructor(K){this._delegate=K,this.multiFactor=R.ao(K)}static getOrCreate(K){return be.USER_MAP.has(K)||be.USER_MAP.set(K,new be(K)),be.USER_MAP.get(K)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(K){return this._delegate.getIdTokenResult(K)}getIdToken(K){return this._delegate.getIdToken(K)}linkAndRetrieveDataWithCredential(K){return this.linkWithCredential(K)}linkWithCredential(K){var z=this;return(0,a.Z)(function*(){return fn(z.auth,R.Z(z._delegate,K))})()}linkWithPhoneNumber(K,z){var Ae=this;return(0,a.Z)(function*(){return V(Ae.auth,R.l(Ae._delegate,K,z))})()}linkWithPopup(K){var z=this;return(0,a.Z)(function*(){return fn(z.auth,R.d(z._delegate,K,it))})()}linkWithRedirect(K){var z=this;return(0,a.Z)(function*(){return yield Dn(R.aE(z.auth)),R.g(z._delegate,K,it)})()}reauthenticateAndRetrieveDataWithCredential(K){return this.reauthenticateWithCredential(K)}reauthenticateWithCredential(K){var z=this;return(0,a.Z)(function*(){return fn(z.auth,R._(z._delegate,K))})()}reauthenticateWithPhoneNumber(K,z){return V(this.auth,R.r(this._delegate,K,z))}reauthenticateWithPopup(K){return fn(this.auth,R.e(this._delegate,K,it))}reauthenticateWithRedirect(K){var z=this;return(0,a.Z)(function*(){return yield Dn(R.aE(z.auth)),R.h(z._delegate,K,it)})()}sendEmailVerification(K){return R.ab(this._delegate,K)}unlink(K){var z=this;return(0,a.Z)(function*(){return yield R.ak(z._delegate,K),z})()}updateEmail(K){return R.ag(this._delegate,K)}updatePassword(K){return R.ah(this._delegate,K)}updatePhoneNumber(K){return R.u(this._delegate,K)}updateProfile(K){return R.af(this._delegate,K)}verifyBeforeUpdateEmail(K,z){return R.ac(this._delegate,K,z)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}be.USER_MAP=new WeakMap;const H=R.ax;let J=(()=>{class ue{constructor(z,Ae){if(this.app=z,Ae.isInitialized())return this._delegate=Ae.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Ke}=z.options;H(Ke,"invalid-api-key",{appName:z.name}),H(Ke,"invalid-api-key",{appName:z.name});const at="undefined"!=typeof window?it:void 0;this._delegate=Ae.initialize({options:{persistence:Xe(Ke,z.name),popupRedirectResolver:at}}),this._delegate._updateErrorMap(R.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?be.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(z){this._delegate.languageCode=z}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(z){this._delegate.tenantId=z}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(z,Ae){R.G(this._delegate,z,Ae)}applyActionCode(z){return R.a2(this._delegate,z)}checkActionCode(z){return R.a3(this._delegate,z)}confirmPasswordReset(z,Ae){return R.a1(this._delegate,z,Ae)}createUserWithEmailAndPassword(z,Ae){var Ke=this;return(0,a.Z)(function*(){return fn(Ke._delegate,R.a5(Ke._delegate,z,Ae))})()}fetchProvidersForEmail(z){return this.fetchSignInMethodsForEmail(z)}fetchSignInMethodsForEmail(z){return R.aa(this._delegate,z)}isSignInWithEmailLink(z){return R.a8(this._delegate,z)}getRedirectResult(){var z=this;return(0,a.Z)(function*(){H(Wn(),z._delegate,"operation-not-supported-in-this-environment");const Ae=yield R.j(z._delegate,it);return Ae?fn(z._delegate,Promise.resolve(Ae)):{credential:null,user:null}})()}addFrameworkForLogging(z){!function hn(ue,K){(0,R.aE)(ue)._logFramework(K)}(this._delegate,z)}onAuthStateChanged(z,Ae,Ke){const{next:at,error:Mt,complete:Kt}=Ne(z,Ae,Ke);return this._delegate.onAuthStateChanged(at,Mt,Kt)}onIdTokenChanged(z,Ae,Ke){const{next:at,error:Mt,complete:Kt}=Ne(z,Ae,Ke);return this._delegate.onIdTokenChanged(at,Mt,Kt)}sendSignInLinkToEmail(z,Ae){return R.a7(this._delegate,z,Ae)}sendPasswordResetEmail(z,Ae){return R.a0(this._delegate,z,Ae||void 0)}setPersistence(z){var Ae=this;return(0,a.Z)(function*(){let Ke;switch(function Ur(ue,K){Ir(Object.values(nn).includes(K),ue,"invalid-persistence-type"),(0,se.b$)()?Ir(K!==nn.SESSION,ue,"unsupported-persistence-type"):(0,se.UG)()?Ir(K===nn.NONE,ue,"unsupported-persistence-type"):bi()?Ir(K===nn.NONE||K===nn.LOCAL&&(0,se.hl)(),ue,"unsupported-persistence-type"):Ir(K===nn.NONE||si(),ue,"unsupported-persistence-type")}(Ae._delegate,z),z){case nn.SESSION:Ke=R.a;break;case nn.LOCAL:Ke=(yield R.ay(R.i)._isAvailable())?R.i:R.b;break;case nn.NONE:Ke=R.L;break;default:return R.at("argument-error",{appName:Ae._delegate.name})}return Ae._delegate.setPersistence(Ke)})()}signInAndRetrieveDataWithCredential(z){return this.signInWithCredential(z)}signInAnonymously(){return fn(this._delegate,R.X(this._delegate))}signInWithCredential(z){return fn(this._delegate,R.Y(this._delegate,z))}signInWithCustomToken(z){return fn(this._delegate,R.$(this._delegate,z))}signInWithEmailAndPassword(z,Ae){return fn(this._delegate,R.a6(this._delegate,z,Ae))}signInWithEmailLink(z,Ae){return fn(this._delegate,R.a9(this._delegate,z,Ae))}signInWithPhoneNumber(z,Ae){return V(this._delegate,R.s(this._delegate,z,Ae))}signInWithPopup(z){var Ae=this;return(0,a.Z)(function*(){return H(Wn(),Ae._delegate,"operation-not-supported-in-this-environment"),fn(Ae._delegate,R.c(Ae._delegate,z,it))})()}signInWithRedirect(z){var Ae=this;return(0,a.Z)(function*(){return H(Wn(),Ae._delegate,"operation-not-supported-in-this-environment"),yield Dn(Ae._delegate),R.f(Ae._delegate,z,it)})()}updateCurrentUser(z){return this._delegate.updateCurrentUser(z)}verifyPasswordResetCode(z){return R.a4(this._delegate,z)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return ue.Persistence=nn,ue})();function Ne(ue,K,z){let Ae=ue;"function"!=typeof ue&&({next:Ae,error:K,complete:z}=ue);const Ke=Ae;return{next:Mt=>Ke(Mt&&be.getOrCreate(Mt)),error:K,complete:z}}function Xe(ue,K){const z=function Os(ue,K){const z=Wt();if(!z)return[];const Ae=R.az(ar,ue,K);switch(z.getItem(Ae)){case nn.NONE:return[R.L];case nn.LOCAL:return[R.i,R.a];case nn.SESSION:return[R.a];default:return[]}}(ue,K);if("undefined"!=typeof self&&!z.includes(R.i)&&z.push(R.i),"undefined"!=typeof window)for(const Ae of[R.b,R.a])z.includes(Ae)||z.push(Ae);return z.includes(R.L)||z.push(R.L),z}class ft{constructor(){this.providerId="phone",this._delegate=new R.P(oi(U.Z.auth()))}static credential(K,z){return R.P.credential(K,z)}verifyPhoneNumber(K,z){return this._delegate.verifyPhoneNumber(K,z)}unwrap(){return this._delegate}}ft.PHONE_SIGN_IN_METHOD=R.P.PHONE_SIGN_IN_METHOD,ft.PROVIDER_ID=R.P.PROVIDER_ID;const Pt=R.ax;class cn{constructor(K,z,Ae=U.Z.app()){var Ke;Pt(null===(Ke=Ae.options)||void 0===Ke?void 0:Ke.apiKey,"invalid-api-key",{appName:Ae.name}),this._delegate=new R.R(K,z,Ae.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Kn(ue){ue.INTERNAL.registerComponent(new de.wA("auth-compat",K=>{const z=K.getProvider("app-compat").getImmediate(),Ae=K.getProvider("auth");return new J(z,Ae)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:R.A.EMAIL_SIGNIN,PASSWORD_RESET:R.A.PASSWORD_RESET,RECOVER_EMAIL:R.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:R.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:R.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:R.A.VERIFY_EMAIL}},EmailAuthProvider:R.M,FacebookAuthProvider:R.N,GithubAuthProvider:R.T,GoogleAuthProvider:R.Q,OAuthProvider:R.U,SAMLAuthProvider:R.V,PhoneAuthProvider:ft,PhoneMultiFactorGenerator:R.m,RecaptchaVerifier:cn,TwitterAuthProvider:R.W,Auth:J,AuthCredential:R.H,Error:se.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),ue.registerVersion("@firebase/auth-compat","0.2.14")}(U.Z)},8306:(et,Ie,P)=>{P.d(Ie,{y:()=>q});var a=P(2961),U=P(727),R=P(8822),se=P(4671);var de=P(2416),ae=P(576),ye=P(2806);let q=(()=>{class Me{constructor($e){$e&&(this._subscribe=$e)}lift($e){const ge=new Me;return ge.source=this,ge.operator=$e,ge}subscribe($e,ge,De){const Ze=function Ge(Me){return Me&&Me instanceof a.Lv||function re(Me){return Me&&(0,ae.m)(Me.next)&&(0,ae.m)(Me.error)&&(0,ae.m)(Me.complete)}(Me)&&(0,U.Nn)(Me)}($e)?$e:new a.Hp($e,ge,De);return(0,ye.x)(()=>{const{operator:qe,source:Oe}=this;Ze.add(qe?qe.call(Ze,Oe):Oe?this._subscribe(Ze):this._trySubscribe(Ze))}),Ze}_trySubscribe($e){try{return this._subscribe($e)}catch(ge){$e.error(ge)}}forEach($e,ge){return new(ge=j(ge))((De,Ze)=>{const qe=new a.Hp({next:Oe=>{try{$e(Oe)}catch(Re){Ze(Re),qe.unsubscribe()}},error:Ze,complete:De});this.subscribe(qe)})}_subscribe($e){var ge;return null===(ge=this.source)||void 0===ge?void 0:ge.subscribe($e)}[R.L](){return this}pipe(...$e){return function me(Me){return 0===Me.length?se.y:1===Me.length?Me[0]:function($e){return Me.reduce((ge,De)=>De(ge),$e)}}($e)(this)}toPromise($e){return new($e=j($e))((ge,De)=>{let Ze;this.subscribe(qe=>Ze=qe,qe=>De(qe),()=>ge(Ze))})}}return Me.create=Le=>new Me(Le),Me})();function j(Me){var Le;return null!==(Le=null!=Me?Me:de.v.Promise)&&void 0!==Le?Le:Promise}},7579:(et,Ie,P)=>{P.d(Ie,{x:()=>de});var a=P(8306),U=P(727);const se=(0,P(3888).d)(ye=>function(){ye(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var oe=P(8737),me=P(2806);let de=(()=>{class ye extends a.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(j){const re=new ae(this,this);return re.operator=j,re}_throwIfClosed(){if(this.closed)throw new se}next(j){(0,me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const re of this.currentObservers)re.next(j)}})}error(j){(0,me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=j;const{observers:re}=this;for(;re.length;)re.shift().error(j)}})}complete(){(0,me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:j}=this;for(;j.length;)j.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var j;return(null===(j=this.observers)||void 0===j?void 0:j.length)>0}_trySubscribe(j){return this._throwIfClosed(),super._trySubscribe(j)}_subscribe(j){return this._throwIfClosed(),this._checkFinalizedStatuses(j),this._innerSubscribe(j)}_innerSubscribe(j){const{hasError:re,isStopped:Ge,observers:Me}=this;return re||Ge?U.Lc:(this.currentObservers=null,Me.push(j),new U.w0(()=>{this.currentObservers=null,(0,oe.P)(Me,j)}))}_checkFinalizedStatuses(j){const{hasError:re,thrownError:Ge,isStopped:Me}=this;re?j.error(Ge):Me&&j.complete()}asObservable(){const j=new a.y;return j.source=this,j}}return ye.create=(q,j)=>new ae(q,j),ye})();class ae extends de{constructor(q,j){super(),this.destination=q,this.source=j}next(q){var j,re;null===(re=null===(j=this.destination)||void 0===j?void 0:j.next)||void 0===re||re.call(j,q)}error(q){var j,re;null===(re=null===(j=this.destination)||void 0===j?void 0:j.error)||void 0===re||re.call(j,q)}complete(){var q,j;null===(j=null===(q=this.destination)||void 0===q?void 0:q.complete)||void 0===j||j.call(q)}_subscribe(q){var j,re;return null!==(re=null===(j=this.source)||void 0===j?void 0:j.subscribe(q))&&void 0!==re?re:U.Lc}}},2961:(et,Ie,P)=>{P.d(Ie,{Hp:()=>$e,Lv:()=>re});var a=P(576),U=P(727),R=P(2416),se=P(7849);function oe(){}const me=ye("C",void 0,void 0);function ye(Oe,Re,Ee){return{kind:Oe,value:Re,error:Ee}}var q=P(3410),j=P(2806);class re extends U.w0{constructor(Re){super(),this.isStopped=!1,Re?(this.destination=Re,(0,U.Nn)(Re)&&Re.add(this)):this.destination=qe}static create(Re,Ee,We){return new $e(Re,Ee,We)}next(Re){this.isStopped?Ze(function ae(Oe){return ye("N",Oe,void 0)}(Re),this):this._next(Re)}error(Re){this.isStopped?Ze(function de(Oe){return ye("E",void 0,Oe)}(Re),this):(this.isStopped=!0,this._error(Re))}complete(){this.isStopped?Ze(me,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Re){this.destination.next(Re)}_error(Re){try{this.destination.error(Re)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ge=Function.prototype.bind;function Me(Oe,Re){return Ge.call(Oe,Re)}class Le{constructor(Re){this.partialObserver=Re}next(Re){const{partialObserver:Ee}=this;if(Ee.next)try{Ee.next(Re)}catch(We){ge(We)}}error(Re){const{partialObserver:Ee}=this;if(Ee.error)try{Ee.error(Re)}catch(We){ge(We)}else ge(Re)}complete(){const{partialObserver:Re}=this;if(Re.complete)try{Re.complete()}catch(Ee){ge(Ee)}}}class $e extends re{constructor(Re,Ee,We){let ee;if(super(),(0,a.m)(Re)||!Re)ee={next:null!=Re?Re:void 0,error:null!=Ee?Ee:void 0,complete:null!=We?We:void 0};else{let he;this&&R.v.useDeprecatedNextContext?(he=Object.create(Re),he.unsubscribe=()=>this.unsubscribe(),ee={next:Re.next&&Me(Re.next,he),error:Re.error&&Me(Re.error,he),complete:Re.complete&&Me(Re.complete,he)}):ee=Re}this.destination=new Le(ee)}}function ge(Oe){R.v.useDeprecatedSynchronousErrorHandling?(0,j.O)(Oe):(0,se.h)(Oe)}function Ze(Oe,Re){const{onStoppedNotification:Ee}=R.v;Ee&&q.z.setTimeout(()=>Ee(Oe,Re))}const qe={closed:!0,next:oe,error:function De(Oe){throw Oe},complete:oe}},727:(et,Ie,P)=>{P.d(Ie,{Lc:()=>me,w0:()=>oe,Nn:()=>de});var a=P(576);const R=(0,P(3888).d)(ye=>function(j){ye(this),this.message=j?`${j.length} errors occurred during unsubscription:\n${j.map((re,Ge)=>`${Ge+1}) ${re.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=j});var se=P(8737);class oe{constructor(q){this.initialTeardown=q,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let q;if(!this.closed){this.closed=!0;const{_parentage:j}=this;if(j)if(this._parentage=null,Array.isArray(j))for(const Me of j)Me.remove(this);else j.remove(this);const{initialTeardown:re}=this;if((0,a.m)(re))try{re()}catch(Me){q=Me instanceof R?Me.errors:[Me]}const{_finalizers:Ge}=this;if(Ge){this._finalizers=null;for(const Me of Ge)try{ae(Me)}catch(Le){q=null!=q?q:[],Le instanceof R?q=[...q,...Le.errors]:q.push(Le)}}if(q)throw new R(q)}}add(q){var j;if(q&&q!==this)if(this.closed)ae(q);else{if(q instanceof oe){if(q.closed||q._hasParent(this))return;q._addParent(this)}(this._finalizers=null!==(j=this._finalizers)&&void 0!==j?j:[]).push(q)}}_hasParent(q){const{_parentage:j}=this;return j===q||Array.isArray(j)&&j.includes(q)}_addParent(q){const{_parentage:j}=this;this._parentage=Array.isArray(j)?(j.push(q),j):j?[j,q]:q}_removeParent(q){const{_parentage:j}=this;j===q?this._parentage=null:Array.isArray(j)&&(0,se.P)(j,q)}remove(q){const{_finalizers:j}=this;j&&(0,se.P)(j,q),q instanceof oe&&q._removeParent(this)}}oe.EMPTY=(()=>{const ye=new oe;return ye.closed=!0,ye})();const me=oe.EMPTY;function de(ye){return ye instanceof oe||ye&&"closed"in ye&&(0,a.m)(ye.remove)&&(0,a.m)(ye.add)&&(0,a.m)(ye.unsubscribe)}function ae(ye){(0,a.m)(ye)?ye():ye.unsubscribe()}},2416:(et,Ie,P)=>{P.d(Ie,{v:()=>a});const a={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(et,Ie,P)=>{P.d(Ie,{E:()=>U});const U=new(P(8306).y)(oe=>oe.complete())},8996:(et,Ie,P)=>{P.d(Ie,{D:()=>Re});var a=P(8421),U=P(5363),R=P(9468),me=P(8306),ae=P(2202),ye=P(576),q=P(9672);function re(Ee,We){if(!Ee)throw new Error("Iterable cannot be null");return new me.y(ee=>{(0,q.f)(ee,We,()=>{const he=Ee[Symbol.asyncIterator]();(0,q.f)(ee,We,()=>{he.next().then(Ce=>{Ce.done?ee.complete():ee.next(Ce.value)})},0,!0)})})}var Ge=P(3670),Me=P(8239),Le=P(1144),$e=P(6495),ge=P(2206),De=P(4532),Ze=P(3260);function Re(Ee,We){return We?function Oe(Ee,We){if(null!=Ee){if((0,Ge.c)(Ee))return function se(Ee,We){return(0,a.Xf)(Ee).pipe((0,R.R)(We),(0,U.Q)(We))}(Ee,We);if((0,Le.z)(Ee))return function de(Ee,We){return new me.y(ee=>{let he=0;return We.schedule(function(){he===Ee.length?ee.complete():(ee.next(Ee[he++]),ee.closed||this.schedule())})})}(Ee,We);if((0,Me.t)(Ee))return function oe(Ee,We){return(0,a.Xf)(Ee).pipe((0,R.R)(We),(0,U.Q)(We))}(Ee,We);if((0,ge.D)(Ee))return re(Ee,We);if((0,$e.T)(Ee))return function j(Ee,We){return new me.y(ee=>{let he;return(0,q.f)(ee,We,()=>{he=Ee[ae.h](),(0,q.f)(ee,We,()=>{let Ce,Y;try{({value:Ce,done:Y}=he.next())}catch(te){return void ee.error(te)}Y?ee.complete():ee.next(Ce)},0,!0)}),()=>(0,ye.m)(null==he?void 0:he.return)&&he.return()})}(Ee,We);if((0,Ze.L)(Ee))return function qe(Ee,We){return re((0,Ze.Q)(Ee),We)}(Ee,We)}throw(0,De.z)(Ee)}(Ee,We):(0,a.Xf)(Ee)}},8421:(et,Ie,P)=>{P.d(Ie,{Xf:()=>Ge});var a=P(655),U=P(1144),R=P(8239),se=P(8306),oe=P(3670),me=P(2206),de=P(4532),ae=P(6495),ye=P(3260),q=P(576),j=P(7849),re=P(8822);function Ge(Oe){if(Oe instanceof se.y)return Oe;if(null!=Oe){if((0,oe.c)(Oe))return function Me(Oe){return new se.y(Re=>{const Ee=Oe[re.L]();if((0,q.m)(Ee.subscribe))return Ee.subscribe(Re);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Oe);if((0,U.z)(Oe))return function Le(Oe){return new se.y(Re=>{for(let Ee=0;Ee<Oe.length&&!Re.closed;Ee++)Re.next(Oe[Ee]);Re.complete()})}(Oe);if((0,R.t)(Oe))return function $e(Oe){return new se.y(Re=>{Oe.then(Ee=>{Re.closed||(Re.next(Ee),Re.complete())},Ee=>Re.error(Ee)).then(null,j.h)})}(Oe);if((0,me.D)(Oe))return De(Oe);if((0,ae.T)(Oe))return function ge(Oe){return new se.y(Re=>{for(const Ee of Oe)if(Re.next(Ee),Re.closed)return;Re.complete()})}(Oe);if((0,ye.L)(Oe))return function Ze(Oe){return De((0,ye.Q)(Oe))}(Oe)}throw(0,de.z)(Oe)}function De(Oe){return new se.y(Re=>{(function qe(Oe,Re){var Ee,We,ee,he;return(0,a.mG)(this,void 0,void 0,function*(){try{for(Ee=(0,a.KL)(Oe);!(We=yield Ee.next()).done;)if(Re.next(We.value),Re.closed)return}catch(Ce){ee={error:Ce}}finally{try{We&&!We.done&&(he=Ee.return)&&(yield he.call(Ee))}finally{if(ee)throw ee.error}}Re.complete()})})(Oe,Re).catch(Ee=>Re.error(Ee))})}},6451:(et,Ie,P)=>{P.d(Ie,{T:()=>me});var a=P(8189),U=P(8421),R=P(515),se=P(7669),oe=P(8996);function me(...de){const ae=(0,se.yG)(de),ye=(0,se._6)(de,1/0),q=de;return q.length?1===q.length?(0,U.Xf)(q[0]):(0,a.J)(ye)((0,oe.D)(q,ae)):R.E}},5403:(et,Ie,P)=>{P.d(Ie,{x:()=>U});var a=P(2961);function U(se,oe,me,de,ae){return new R(se,oe,me,de,ae)}class R extends a.Lv{constructor(oe,me,de,ae,ye,q){super(oe),this.onFinalize=ye,this.shouldUnsubscribe=q,this._next=me?function(j){try{me(j)}catch(re){oe.error(re)}}:super._next,this._error=ae?function(j){try{ae(j)}catch(re){oe.error(re)}finally{this.unsubscribe()}}:super._error,this._complete=de?function(){try{de()}catch(j){oe.error(j)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var oe;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:me}=this;super.unsubscribe(),!me&&(null===(oe=this.onFinalize)||void 0===oe||oe.call(this))}}}},4004:(et,Ie,P)=>{P.d(Ie,{U:()=>R});var a=P(4482),U=P(5403);function R(se,oe){return(0,a.e)((me,de)=>{let ae=0;me.subscribe((0,U.x)(de,ye=>{de.next(se.call(oe,ye,ae++))}))})}},8189:(et,Ie,P)=>{P.d(Ie,{J:()=>R});var a=P(5577),U=P(4671);function R(se=1/0){return(0,a.z)(U.y,se)}},5577:(et,Ie,P)=>{P.d(Ie,{z:()=>ae});var a=P(4004),U=P(8421),R=P(4482),se=P(9672),oe=P(5403),de=P(576);function ae(ye,q,j=1/0){return(0,de.m)(q)?ae((re,Ge)=>(0,a.U)((Me,Le)=>q(re,Me,Ge,Le))((0,U.Xf)(ye(re,Ge))),j):("number"==typeof q&&(j=q),(0,R.e)((re,Ge)=>function me(ye,q,j,re,Ge,Me,Le,$e){const ge=[];let De=0,Ze=0,qe=!1;const Oe=()=>{qe&&!ge.length&&!De&&q.complete()},Re=We=>De<re?Ee(We):ge.push(We),Ee=We=>{Me&&q.next(We),De++;let ee=!1;(0,U.Xf)(j(We,Ze++)).subscribe((0,oe.x)(q,he=>{null==Ge||Ge(he),Me?Re(he):q.next(he)},()=>{ee=!0},void 0,()=>{if(ee)try{for(De--;ge.length&&De<re;){const he=ge.shift();Le?(0,se.f)(q,Le,()=>Ee(he)):Ee(he)}Oe()}catch(he){q.error(he)}}))};return ye.subscribe((0,oe.x)(q,Re,()=>{qe=!0,Oe()})),()=>{null==$e||$e()}}(re,Ge,ye,j)))}},5363:(et,Ie,P)=>{P.d(Ie,{Q:()=>se});var a=P(9672),U=P(4482),R=P(5403);function se(oe,me=0){return(0,U.e)((de,ae)=>{de.subscribe((0,R.x)(ae,ye=>(0,a.f)(ae,oe,()=>ae.next(ye),me),()=>(0,a.f)(ae,oe,()=>ae.complete(),me),ye=>(0,a.f)(ae,oe,()=>ae.error(ye),me)))})}},3099:(et,Ie,P)=>{P.d(Ie,{B:()=>me});var a=P(8996),U=P(5698),R=P(7579),se=P(2961),oe=P(4482);function me(ae={}){const{connector:ye=(()=>new R.x),resetOnError:q=!0,resetOnComplete:j=!0,resetOnRefCountZero:re=!0}=ae;return Ge=>{let Me=null,Le=null,$e=null,ge=0,De=!1,Ze=!1;const qe=()=>{null==Le||Le.unsubscribe(),Le=null},Oe=()=>{qe(),Me=$e=null,De=Ze=!1},Re=()=>{const Ee=Me;Oe(),null==Ee||Ee.unsubscribe()};return(0,oe.e)((Ee,We)=>{ge++,!Ze&&!De&&qe();const ee=$e=null!=$e?$e:ye();We.add(()=>{ge--,0===ge&&!Ze&&!De&&(Le=de(Re,re))}),ee.subscribe(We),Me||(Me=new se.Hp({next:he=>ee.next(he),error:he=>{Ze=!0,qe(),Le=de(Oe,q,he),ee.error(he)},complete:()=>{De=!0,qe(),Le=de(Oe,j),ee.complete()}}),(0,a.D)(Ee).subscribe(Me))})(Ge)}}function de(ae,ye,...q){return!0===ye?(ae(),null):!1===ye?null:ye(...q).pipe((0,U.q)(1)).subscribe(()=>ae())}},9468:(et,Ie,P)=>{P.d(Ie,{R:()=>U});var a=P(4482);function U(R,se=0){return(0,a.e)((oe,me)=>{me.add(R.schedule(()=>oe.subscribe(me),se))})}},5698:(et,Ie,P)=>{P.d(Ie,{q:()=>se});var a=P(515),U=P(4482),R=P(5403);function se(oe){return oe<=0?()=>a.E:(0,U.e)((me,de)=>{let ae=0;me.subscribe((0,R.x)(de,ye=>{++ae<=oe&&(de.next(ye),oe<=ae&&de.complete())}))})}},8505:(et,Ie,P)=>{P.d(Ie,{b:()=>oe});var a=P(576),U=P(4482),R=P(5403),se=P(4671);function oe(me,de,ae){const ye=(0,a.m)(me)||de||ae?{next:me,error:de,complete:ae}:me;return ye?(0,U.e)((q,j)=>{var re;null===(re=ye.subscribe)||void 0===re||re.call(ye);let Ge=!0;q.subscribe((0,R.x)(j,Me=>{var Le;null===(Le=ye.next)||void 0===Le||Le.call(ye,Me),j.next(Me)},()=>{var Me;Ge=!1,null===(Me=ye.complete)||void 0===Me||Me.call(ye),j.complete()},Me=>{var Le;Ge=!1,null===(Le=ye.error)||void 0===Le||Le.call(ye,Me),j.error(Me)},()=>{var Me,Le;Ge&&(null===(Me=ye.unsubscribe)||void 0===Me||Me.call(ye)),null===(Le=ye.finalize)||void 0===Le||Le.call(ye)}))}):se.y}},4408:(et,Ie,P)=>{P.d(Ie,{o:()=>oe});var a=P(727);class U extends a.w0{constructor(de,ae){super()}schedule(de,ae=0){return this}}const R={setInterval(me,de,...ae){const{delegate:ye}=R;return(null==ye?void 0:ye.setInterval)?ye.setInterval(me,de,...ae):setInterval(me,de,...ae)},clearInterval(me){const{delegate:de}=R;return((null==de?void 0:de.clearInterval)||clearInterval)(me)},delegate:void 0};var se=P(8737);class oe extends U{constructor(de,ae){super(de,ae),this.scheduler=de,this.work=ae,this.pending=!1}schedule(de,ae=0){if(this.closed)return this;this.state=de;const ye=this.id,q=this.scheduler;return null!=ye&&(this.id=this.recycleAsyncId(q,ye,ae)),this.pending=!0,this.delay=ae,this.id=this.id||this.requestAsyncId(q,this.id,ae),this}requestAsyncId(de,ae,ye=0){return R.setInterval(de.flush.bind(de,this),ye)}recycleAsyncId(de,ae,ye=0){if(null!=ye&&this.delay===ye&&!1===this.pending)return ae;R.clearInterval(ae)}execute(de,ae){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ye=this._execute(de,ae);if(ye)return ye;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(de,ae){let q,ye=!1;try{this.work(de)}catch(j){ye=!0,q=j||new Error("Scheduled action threw falsy error")}if(ye)return this.unsubscribe(),q}unsubscribe(){if(!this.closed){const{id:de,scheduler:ae}=this,{actions:ye}=ae;this.work=this.state=this.scheduler=null,this.pending=!1,(0,se.P)(ye,this),null!=de&&(this.id=this.recycleAsyncId(ae,de,null)),this.delay=null,super.unsubscribe()}}}},7565:(et,Ie,P)=>{P.d(Ie,{v:()=>R});var a=P(6063);class U{constructor(oe,me=U.now){this.schedulerActionCtor=oe,this.now=me}schedule(oe,me=0,de){return new this.schedulerActionCtor(this,oe).schedule(de,me)}}U.now=a.l.now;class R extends U{constructor(oe,me=U.now){super(oe,me),this.actions=[],this._active=!1,this._scheduled=void 0}flush(oe){const{actions:me}=this;if(this._active)return void me.push(oe);let de;this._active=!0;do{if(de=oe.execute(oe.state,oe.delay))break}while(oe=me.shift());if(this._active=!1,de){for(;oe=me.shift();)oe.unsubscribe();throw de}}}},4986:(et,Ie,P)=>{P.d(Ie,{z:()=>R});var a=P(4408);const R=new(P(7565).v)(a.o)},6063:(et,Ie,P)=>{P.d(Ie,{l:()=>a});const a={now:()=>(a.delegate||Date).now(),delegate:void 0}},3410:(et,Ie,P)=>{P.d(Ie,{z:()=>a});const a={setTimeout(U,R,...se){const{delegate:oe}=a;return(null==oe?void 0:oe.setTimeout)?oe.setTimeout(U,R,...se):setTimeout(U,R,...se)},clearTimeout(U){const{delegate:R}=a;return((null==R?void 0:R.clearTimeout)||clearTimeout)(U)},delegate:void 0}},2202:(et,Ie,P)=>{P.d(Ie,{h:()=>U});const U=function a(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(et,Ie,P)=>{P.d(Ie,{L:()=>a});const a="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(et,Ie,P)=>{P.d(Ie,{_6:()=>me,jO:()=>se,yG:()=>oe});var a=P(576);function R(de){return de[de.length-1]}function se(de){return(0,a.m)(R(de))?de.pop():void 0}function oe(de){return function U(de){return de&&(0,a.m)(de.schedule)}(R(de))?de.pop():void 0}function me(de,ae){return"number"==typeof R(de)?de.pop():ae}},8737:(et,Ie,P)=>{function a(U,R){if(U){const se=U.indexOf(R);0<=se&&U.splice(se,1)}}P.d(Ie,{P:()=>a})},3888:(et,Ie,P)=>{function a(U){const se=U(oe=>{Error.call(oe),oe.stack=(new Error).stack});return se.prototype=Object.create(Error.prototype),se.prototype.constructor=se,se}P.d(Ie,{d:()=>a})},2806:(et,Ie,P)=>{P.d(Ie,{O:()=>se,x:()=>R});var a=P(2416);let U=null;function R(oe){if(a.v.useDeprecatedSynchronousErrorHandling){const me=!U;if(me&&(U={errorThrown:!1,error:null}),oe(),me){const{errorThrown:de,error:ae}=U;if(U=null,de)throw ae}}else oe()}function se(oe){a.v.useDeprecatedSynchronousErrorHandling&&U&&(U.errorThrown=!0,U.error=oe)}},9672:(et,Ie,P)=>{function a(U,R,se,oe=0,me=!1){const de=R.schedule(function(){se(),me?U.add(this.schedule(null,oe)):this.unsubscribe()},oe);if(U.add(de),!me)return de}P.d(Ie,{f:()=>a})},4671:(et,Ie,P)=>{function a(U){return U}P.d(Ie,{y:()=>a})},1144:(et,Ie,P)=>{P.d(Ie,{z:()=>a});const a=U=>U&&"number"==typeof U.length&&"function"!=typeof U},2206:(et,Ie,P)=>{P.d(Ie,{D:()=>U});var a=P(576);function U(R){return Symbol.asyncIterator&&(0,a.m)(null==R?void 0:R[Symbol.asyncIterator])}},576:(et,Ie,P)=>{function a(U){return"function"==typeof U}P.d(Ie,{m:()=>a})},3670:(et,Ie,P)=>{P.d(Ie,{c:()=>R});var a=P(8822),U=P(576);function R(se){return(0,U.m)(se[a.L])}},6495:(et,Ie,P)=>{P.d(Ie,{T:()=>R});var a=P(2202),U=P(576);function R(se){return(0,U.m)(null==se?void 0:se[a.h])}},8239:(et,Ie,P)=>{P.d(Ie,{t:()=>U});var a=P(576);function U(R){return(0,a.m)(null==R?void 0:R.then)}},3260:(et,Ie,P)=>{P.d(Ie,{L:()=>se,Q:()=>R});var a=P(655),U=P(576);function R(oe){return(0,a.FC)(this,arguments,function*(){const de=oe.getReader();try{for(;;){const{value:ae,done:ye}=yield(0,a.qq)(de.read());if(ye)return yield(0,a.qq)(void 0);yield yield(0,a.qq)(ae)}}finally{de.releaseLock()}})}function se(oe){return(0,U.m)(null==oe?void 0:oe.getReader)}},4482:(et,Ie,P)=>{P.d(Ie,{A:()=>U,e:()=>R});var a=P(576);function U(se){return(0,a.m)(null==se?void 0:se.lift)}function R(se){return oe=>{if(U(oe))return oe.lift(function(me){try{return se(me,this)}catch(de){this.error(de)}});throw new TypeError("Unable to lift unknown Observable type")}}},7849:(et,Ie,P)=>{P.d(Ie,{h:()=>R});var a=P(2416),U=P(3410);function R(se){U.z.setTimeout(()=>{const{onUnhandledError:oe}=a.v;if(!oe)throw se;oe(se)})}},4532:(et,Ie,P)=>{function a(U){return new TypeError(`You provided ${null!==U&&"object"==typeof U?"an invalid object":`'${U}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}P.d(Ie,{z:()=>a})},655:(et,Ie,P)=>{function se(Y,te){var ie={};for(var ve in Y)Object.prototype.hasOwnProperty.call(Y,ve)&&te.indexOf(ve)<0&&(ie[ve]=Y[ve]);if(null!=Y&&"function"==typeof Object.getOwnPropertySymbols){var ce=0;for(ve=Object.getOwnPropertySymbols(Y);ce<ve.length;ce++)te.indexOf(ve[ce])<0&&Object.prototype.propertyIsEnumerable.call(Y,ve[ce])&&(ie[ve[ce]]=Y[ve[ce]])}return ie}function ae(Y,te,ie,ve){return new(ie||(ie=Promise))(function(Ue,ht){function Xt(hn){try{Qe(ve.next(hn))}catch(kn){ht(kn)}}function qt(hn){try{Qe(ve.throw(hn))}catch(kn){ht(kn)}}function Qe(hn){hn.done?Ue(hn.value):function ce(Ue){return Ue instanceof ie?Ue:new ie(function(ht){ht(Ue)})}(hn.value).then(Xt,qt)}Qe((ve=ve.apply(Y,te||[])).next())})}function ge(Y){return this instanceof ge?(this.v=Y,this):new ge(Y)}function De(Y,te,ie){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ce,ve=ie.apply(Y,te||[]),Ue=[];return ce={},ht("next"),ht("throw"),ht("return"),ce[Symbol.asyncIterator]=function(){return this},ce;function ht(_n){ve[_n]&&(ce[_n]=function(an){return new Promise(function(Zt,tn){Ue.push([_n,an,Zt,tn])>1||Xt(_n,an)})})}function Xt(_n,an){try{!function qt(_n){_n.value instanceof ge?Promise.resolve(_n.value.v).then(Qe,hn):kn(Ue[0][2],_n)}(ve[_n](an))}catch(Zt){kn(Ue[0][3],Zt)}}function Qe(_n){Xt("next",_n)}function hn(_n){Xt("throw",_n)}function kn(_n,an){_n(an),Ue.shift(),Ue.length&&Xt(Ue[0][0],Ue[0][1])}}function qe(Y){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ie,te=Y[Symbol.asyncIterator];return te?te.call(Y):(Y=function re(Y){var te="function"==typeof Symbol&&Symbol.iterator,ie=te&&Y[te],ve=0;if(ie)return ie.call(Y);if(Y&&"number"==typeof Y.length)return{next:function(){return Y&&ve>=Y.length&&(Y=void 0),{value:Y&&Y[ve++],done:!Y}}};throw new TypeError(te?"Object is not iterable.":"Symbol.iterator is not defined.")}(Y),ie={},ve("next"),ve("throw"),ve("return"),ie[Symbol.asyncIterator]=function(){return this},ie);function ve(Ue){ie[Ue]=Y[Ue]&&function(ht){return new Promise(function(Xt,qt){!function ce(Ue,ht,Xt,qt){Promise.resolve(qt).then(function(Qe){Ue({value:Qe,done:Xt})},ht)}(Xt,qt,(ht=Y[Ue](ht)).done,ht.value)})}}}P.d(Ie,{FC:()=>De,KL:()=>qe,_T:()=>se,mG:()=>ae,qq:()=>ge})},5e3:(et,Ie,P)=>{P.d(Ie,{$8M:()=>jo,$Z:()=>fi,AFp:()=>su,ALo:()=>om,AaK:()=>ae,BQk:()=>xg,CHM:()=>Sa,CRH:()=>KE,CZH:()=>Yu,CqO:()=>UI,EJc:()=>pe,EiD:()=>Pp,EpF:()=>FI,F$t:()=>Uh,F4k:()=>LI,FYo:()=>TE,FiY:()=>co,G48:()=>cC,Gf:()=>pm,GfV:()=>uf,GkF:()=>Iw,Gpc:()=>j,Hsn:()=>Vh,JOm:()=>Xo,JVY:()=>cy,L6k:()=>Sp,LAX:()=>oh,LFG:()=>Se,LSH:()=>j0,Lbi:()=>Ef,MAs:()=>dw,NdJ:()=>Aw,O4$:()=>Xm,OlP:()=>$n,Oqu:()=>Wh,PXZ:()=>Ju,Q6J:()=>Sg,QGY:()=>Dw,Qsj:()=>af,R0b:()=>ca,RDi:()=>fc,Rgc:()=>Zu,SBq:()=>Yc,Sil:()=>ZD,Suo:()=>WE,TTD:()=>ba,TgZ:()=>Hc,Tol:()=>O_,Udp:()=>qh,VLi:()=>Cf,W1O:()=>Ev,WLB:()=>rm,X6Q:()=>ec,XFs:()=>gt,Xpm:()=>ft,Y36:()=>qs,YKP:()=>gv,YNc:()=>SI,Yjl:()=>Ke,Yz7:()=>an,ZZ4:()=>xm,_Bn:()=>cv,_UZ:()=>kh,_Vd:()=>sf,_c5:()=>oA,_uU:()=>Hw,aQg:()=>Wv,c2e:()=>xt,cJS:()=>tn,cg1:()=>Vg,d8E:()=>Yh,dDg:()=>Vv,deG:()=>bp,dqk:()=>Gt,eBb:()=>ly,eFA:()=>Xu,ekj:()=>fd,g9A:()=>pr,h0i:()=>iu,hGG:()=>aA,hij:()=>Ng,iGM:()=>wv,ifc:()=>Wt,ip1:()=>$r,kL8:()=>H_,kcU:()=>ey,lG2:()=>Ae,lcZ:()=>am,mCW:()=>g,n5z:()=>Bo,oAB:()=>ue,oJD:()=>mT,oxw:()=>Fh,pB0:()=>k0,q3G:()=>tr,q4F:()=>SE,qLn:()=>xu,qOj:()=>mg,qZA:()=>Xa,qzn:()=>Su,s9C:()=>E_,sBO:()=>$v,sIi:()=>Uc,s_b:()=>cm,soG:()=>Je,tBr:()=>ji,tb:()=>wm,tp0:()=>Hi,uIk:()=>aw,vHH:()=>Le,vpe:()=>Es,wAp:()=>Et,xp6:()=>ph,yhl:()=>Kl,ynx:()=>hd,z2F:()=>Ye,z3N:()=>fs,zSh:()=>Th,zs3:()=>Hs});var a=P(7579),U=P(727),R=P(8306),se=P(6451),oe=P(3099);function me(s){for(let o in s)if(s[o]===me)return o;throw Error("Could not find renamed property on target object.")}function de(s,o){for(const u in o)o.hasOwnProperty(u)&&!s.hasOwnProperty(u)&&(s[u]=o[u])}function ae(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(ae).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const u=o.indexOf("\n");return-1===u?o:o.substring(0,u)}function ye(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const q=me({__forward_ref__:me});function j(s){return s.__forward_ref__=j,s.toString=function(){return ae(this())},s}function re(s){return Ge(s)?s():s}function Ge(s){return"function"==typeof s&&s.hasOwnProperty(q)&&s.__forward_ref__===j}class Le extends Error{constructor(o,u){super(function $e(s,o){return`NG0${Math.abs(s)}${o?": "+o:""}`}(o,u)),this.code=o}}function ge(s){return"string"==typeof s?s:null==s?"":String(s)}function De(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():ge(s)}function Re(s,o){const u=o?` in ${o}`:"";throw new Le(-201,`No provider for ${De(s)} found${u}`)}function qt(s,o){null==s&&function Qe(s,o,u,l){throw new Error(`ASSERTION ERROR: ${s}`+(null==l?"":` [Expected=> ${u} ${l} ${o} <=Actual]`))}(o,s,null,"!=")}function an(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function tn(s){return{providers:s.providers||[],imports:s.imports||[]}}function In(s){return Si(s,si)||Si(s,Wn)}function Si(s,o){return s.hasOwnProperty(o)?s[o]:null}function xi(s){return s&&(s.hasOwnProperty(bi)||s.hasOwnProperty(Mi))?s[bi]:null}const si=me({\u0275prov:me}),bi=me({\u0275inj:me}),Wn=me({ngInjectableDef:me}),Mi=me({ngInjectorDef:me});var gt=(()=>((gt=gt||{})[gt.Default=0]="Default",gt[gt.Host=1]="Host",gt[gt.Self=2]="Self",gt[gt.SkipSelf=4]="SkipSelf",gt[gt.Optional=8]="Optional",gt))();let Lr;function nn(s){const o=Lr;return Lr=s,o}function Ir(s,o,u){const l=In(s);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:u&gt.Optional?null:void 0!==o?o:void Re(ae(s),"Injector")}function Ur(s){return{toString:s}.toString()}var Dn=(()=>((Dn=Dn||{})[Dn.OnPush=0]="OnPush",Dn[Dn.Default=1]="Default",Dn))(),Wt=(()=>{return(s=Wt||(Wt={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",Wt;var s})();const ct="undefined"!=typeof globalThis&&globalThis,it="undefined"!=typeof window&&window,oi="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Gt=ct||"undefined"!=typeof global&&global||it||oi,fn={},V=[],Z=me({\u0275cmp:me}),W=me({\u0275dir:me}),be=me({\u0275pipe:me}),H=me({\u0275mod:me}),J=me({\u0275fac:me}),Ne=me({__NG_ELEMENT_ID__:me});let Xe=0;function ft(s){return Ur(()=>{const u={},l={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:u,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===Dn.OnPush,directiveDefs:null,pipeDefs:null,selectors:s.selectors||V,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||Wt.Emulated,id:"c",styles:s.styles||V,_:null,setInput:null,schemas:s.schemas||null,tView:null},h=s.directives,p=s.features,_=s.pipes;return l.id+=Xe++,l.inputs=z(s.inputs,u),l.outputs=z(s.outputs),p&&p.forEach(b=>b(l)),l.directiveDefs=h?()=>("function"==typeof h?h():h).map(cn):null,l.pipeDefs=_?()=>("function"==typeof _?_():_).map(wt):null,l})}function cn(s){return at(s)||function Mt(s){return s[W]||null}(s)}function wt(s){return function Kt(s){return s[be]||null}(s)}const Kn={};function ue(s){return Ur(()=>{const o={type:s.type,bootstrap:s.bootstrap||V,declarations:s.declarations||V,imports:s.imports||V,exports:s.exports||V,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null};return null!=s.id&&(Kn[s.id]=s.type),o})}function z(s,o){if(null==s)return fn;const u={};for(const l in s)if(s.hasOwnProperty(l)){let h=s[l],p=h;Array.isArray(h)&&(p=h[1],h=h[0]),u[h]=l,o&&(o[h]=p)}return u}const Ae=ft;function Ke(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,onDestroy:s.type.prototype.ngOnDestroy||null}}function at(s){return s[Z]||null}function Bt(s,o){const u=s[H]||null;if(!u&&!0===o)throw new Error(`Type ${ae(s)} does not have '\u0275mod' property.`);return u}function ui(s){return Array.isArray(s)&&"object"==typeof s[1]}function Qr(s){return Array.isArray(s)&&!0===s[1]}function yl(s){return 0!=(8&s.flags)}function uu(s){return 2==(2&s.flags)}function Ps(s){return 1==(1&s.flags)}function ci(s){return null!==s.template}function dc(s){return 0!=(512&s[2])}function li(s,o){return s.hasOwnProperty(J)?s[J]:null}class xo{constructor(o,u,l){this.previousValue=o,this.currentValue=u,this.firstChange=l}isFirstChange(){return this.firstChange}}function ba(){return wa}function wa(s){return s.type.prototype.ngOnChanges&&(s.setInput=gp),Gd}function Gd(){const s=wl(this),o=null==s?void 0:s.current;if(o){const u=s.previous;if(u===fn)s.previous=o;else for(let l in o)u[l]=o[l];s.current=null,this.ngOnChanges(o)}}function gp(s,o,u,l){const h=wl(s)||function ns(s,o){return s[ts]=o}(s,{previous:fn,current:null}),p=h.current||(h.current={}),_=h.previous,b=this.declaredInputs[u],C=_[b];p[b]=new xo(C&&C.currentValue,o,_===fn),s[l]=o}ba.ngInherit=!0;const ts="__ngSimpleChanges__";function wl(s){return s[ts]||null}let fu;function fc(s){fu=s}function rs(){return void 0!==fu?fu:"undefined"!=typeof document?document:void 0}function vn(s){return!!s.listen}const Ea={createRenderer:(s,o)=>rs()};function gn(s){for(;Array.isArray(s);)s=s[0];return s}function Qs(s,o){return gn(o[s])}function lr(s,o){return gn(o[s.index])}function Un(s,o){return s.data[o]}function is(s,o){return s[o]}function dr(s,o){const u=o[s];return ui(u)?u:u[0]}function Mo(s){return 4==(4&s[2])}function Pi(s){return 128==(128&s[2])}function Jr(s,o){return null==o?null:s[o]}function Fs(s){s[18]=0}function Ls(s,o){s[5]+=o;let u=s,l=s[3];for(;null!==l&&(1===o&&1===u[5]||-1===o&&0===u[5]);)l[5]+=o,u=l,l=l[3]}const mt={lFrame:eo(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function mc(){return mt.bindingsEnabled}function xe(){return mt.lFrame.lView}function zt(){return mt.lFrame.tView}function Sa(s){return mt.lFrame.contextLView=s,s[8]}function On(){let s=Us();for(;null!==s&&64===s.type;)s=s.parent;return s}function Us(){return mt.lFrame.currentTNode}function Br(s,o){const u=mt.lFrame;u.currentTNode=s,u.isParent=o}function yc(){return mt.lFrame.isParent}function _c(){mt.lFrame.isParent=!1}function Ma(){return mt.isInCheckNoChangesMode}function Oo(s){mt.isInCheckNoChangesMode=s}function er(){const s=mt.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}function Ni(){return mt.lFrame.bindingIndex++}function ss(s){const o=mt.lFrame,u=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,u}function Ra(s,o){const u=mt.lFrame;u.bindingIndex=u.bindingRootIndex=s,Js(o)}function Js(s){mt.lFrame.currentDirectiveIndex=s}function mu(s){const o=mt.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}function Pa(){return mt.lFrame.currentQueryIndex}function bc(s){mt.lFrame.currentQueryIndex=s}function mp(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function yu(s,o,u){if(u&gt.SkipSelf){let h=o,p=s;for(;!(h=h.parent,null!==h||u&gt.Host||(h=mp(p),null===h||(p=p[15],10&h.type))););if(null===h)return!1;o=h,s=p}const l=mt.lFrame=wc();return l.currentTNode=o,l.lView=s,!0}function Xs(s){const o=wc(),u=s[1];mt.lFrame=o,o.currentTNode=u.firstChild,o.lView=s,o.tView=u,o.contextLView=s,o.bindingIndex=u.bindingStartIndex,o.inI18n=!1}function wc(){const s=mt.lFrame,o=null===s?null:s.child;return null===o?eo(s):o}function eo(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function Ml(){const s=mt.lFrame;return mt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const Wd=Ml;function Ro(){const s=Ml();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function hr(){return mt.lFrame.selectedIndex}function os(s){mt.lFrame.selectedIndex=s}function Vn(){const s=mt.lFrame;return Un(s.tView,s.selectedIndex)}function Xm(){mt.lFrame.currentNamespace="svg"}function ey(){!function ty(){mt.lFrame.currentNamespace=null}()}function Na(s,o){for(let u=o.directiveStart,l=o.directiveEnd;u<l;u++){const p=s.data[u].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:b,ngAfterViewInit:C,ngAfterViewChecked:D,ngOnDestroy:M}=p;_&&(s.contentHooks||(s.contentHooks=[])).push(-u,_),b&&((s.contentHooks||(s.contentHooks=[])).push(u,b),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(u,b)),C&&(s.viewHooks||(s.viewHooks=[])).push(-u,C),D&&((s.viewHooks||(s.viewHooks=[])).push(u,D),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(u,D)),null!=M&&(s.destroyHooks||(s.destroyHooks=[])).push(u,M)}}function as(s,o,u){fr(s,o,3,u)}function ka(s,o,u,l){(3&s[2])===u&&fr(s,o,u,l)}function _u(s,o){let u=s[2];(3&u)===o&&(u&=2047,u+=1,s[2]=u)}function fr(s,o,u,l){const p=null!=l?l:-1,_=o.length-1;let b=0;for(let C=void 0!==l?65535&s[18]:0;C<_;C++)if("number"==typeof o[C+1]){if(b=o[C],null!=l&&b>=l)break}else o[C]<0&&(s[18]+=65536),(b<p||-1==p)&&(Yd(s,u,o,C),s[18]=(4294901760&s[18])+C+2),C++}function Yd(s,o,u,l){const h=u[l]<0,p=u[l+1],b=s[h?-u[l]:u[l]];if(h){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{p.call(b)}finally{}}}else try{p.call(b)}finally{}}class Po{constructor(o,u,l){this.factory=o,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=l}}function Bn(s,o,u){const l=vn(s);let h=0;for(;h<u.length;){const p=u[h];if("number"==typeof p){if(0!==p)break;h++;const _=u[h++],b=u[h++],C=u[h++];l?s.setAttribute(o,b,C,_):o.setAttributeNS(_,b,C)}else{const _=p,b=u[++h];vu(_)?l&&s.setProperty(o,_,b):l?s.setAttribute(o,_,b):o.setAttribute(_,b),h++}}return h}function Fl(s){return 3===s||4===s||6===s}function vu(s){return 64===s.charCodeAt(0)}function bu(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let u=-1;for(let l=0;l<o.length;l++){const h=o[l];"number"==typeof h?u=h:0===u||La(s,u,h,null,-1===u||2===u?o[++l]:null)}}return s}function La(s,o,u,l,h){let p=0,_=s.length;if(-1===o)_=-1;else for(;p<s.length;){const b=s[p++];if("number"==typeof b){if(b===o){_=-1;break}if(b>o){_=p-1;break}}}for(;p<s.length;){const b=s[p];if("number"==typeof b)break;if(b===u){if(null===l)return void(null!==h&&(s[p+1]=h));if(l===s[p+1])return void(s[p+2]=h)}p++,null!==l&&p++,null!==h&&p++}-1!==_&&(s.splice(_,0,o),p=_+1),s.splice(p++,0,u),null!==l&&s.splice(p++,0,l),null!==h&&s.splice(p++,0,h)}function ko(s){return-1!==s}function Fo(s){return 32767&s}function Lo(s,o){let u=function jn(s){return s>>16}(s),l=o;for(;u>0;)l=l[15],u--;return l}let no=!0;function wu(s){const o=no;return no=s,o}let Jd=0;function cs(s,o){const u=Sr(s,o);if(-1!==u)return u;const l=o[1];l.firstCreatePass&&(s.injectorIndex=o.length,we(l.data,s),we(o,null),we(l.blueprint,null));const h=Fi(s,o),p=s.injectorIndex;if(ko(h)){const _=Fo(h),b=Lo(h,o),C=b[1].data;for(let D=0;D<8;D++)o[p+D]=b[_+D]|C[_+D]}return o[p+8]=h,p}function we(s,o){s.push(0,0,0,0,0,0,0,0,o)}function Sr(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function Fi(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let u=0,l=null,h=o;for(;null!==h;){const p=h[1],_=p.type;if(l=2===_?p.declTNode:1===_?h[6]:null,null===l)return-1;if(u++,h=h[15],-1!==l.injectorIndex)return l.injectorIndex|u<<16}return-1}function vt(s,o,u){!function vp(s,o,u){let l;"string"==typeof u?l=u.charCodeAt(0)||0:u.hasOwnProperty(Ne)&&(l=u[Ne]),null==l&&(l=u[Ne]=Jd++);const h=255&l;o.data[s+(h>>5)]|=1<<h}(s,o,u)}function Ua(s,o,u){if(u&gt.Optional)return s;Re(o,"NodeInjector")}function ro(s,o,u,l){if(u&gt.Optional&&void 0===l&&(l=null),0==(u&(gt.Self|gt.Host))){const h=s[9],p=nn(void 0);try{return h?h.get(o,l,u&gt.Optional):Ir(o,l,u&gt.Optional)}finally{nn(p)}}return Ua(l,o,u)}function Cc(s,o,u,l=gt.Default,h){if(null!==s){const p=function Ul(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(Ne)?s[Ne]:void 0;return"number"==typeof o?o>=0?255&o:yr:o}(u);if("function"==typeof p){if(!yu(o,s,l))return l&gt.Host?Ua(h,u,l):ro(o,u,l,h);try{const _=p(l);if(null!=_||l&gt.Optional)return _;Re(u)}finally{Wd()}}else if("number"==typeof p){let _=null,b=Sr(s,o),C=-1,D=l&gt.Host?o[16][6]:null;for((-1===b||l&gt.SkipSelf)&&(C=-1===b?Fi(s,o):o[b+8],-1!==C&&Ba(l,!1)?(_=o[1],b=Fo(C),o=Lo(C,o)):b=-1);-1!==b;){const M=o[1];if(Vl(p,b,M.data)){const k=Uo(b,o,u,_,l,D);if(k!==Rn)return k}C=o[b+8],-1!==C&&Ba(l,o[1].data[b+8]===D)&&Vl(p,b,o)?(_=M,b=Fo(C),o=Lo(C,o)):b=-1}}}return ro(o,u,l,h)}const Rn={};function yr(){return new Vo(On(),xe())}function Uo(s,o,u,l,h,p){const _=o[1],b=_.data[s+8],M=Va(b,_,u,null==l?uu(b)&&no:l!=_&&0!=(3&b.type),h&gt.Host&&p===b);return null!==M?Eu(o,_,M,b):Rn}function Va(s,o,u,l,h){const p=s.providerIndexes,_=o.data,b=1048575&p,C=s.directiveStart,M=p>>20,$=h?b+M:s.directiveEnd;for(let X=l?b:b+M;X<$;X++){const Te=_[X];if(X<C&&u===Te||X>=C&&Te.type===u)return X}if(h){const X=_[C];if(X&&ci(X)&&X.type===u)return C}return null}function Eu(s,o,u,l){let h=s[u];const p=o.data;if(function Pl(s){return s instanceof Po}(h)){const _=h;_.resolving&&function Ze(s,o){const u=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new Le(-200,`Circular dependency in DI detected for ${s}${u}`)}(De(p[u]));const b=wu(_.canSeeViewProviders);_.resolving=!0;const C=_.injectImpl?nn(_.injectImpl):null;yu(s,l,gt.Default);try{h=s[u]=_.factory(void 0,p,s,l),o.firstCreatePass&&u>=l.directiveStart&&function yp(s,o,u){const{ngOnChanges:l,ngOnInit:h,ngDoCheck:p}=o.type.prototype;if(l){const _=wa(o);(u.preOrderHooks||(u.preOrderHooks=[])).push(s,_),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(s,_)}h&&(u.preOrderHooks||(u.preOrderHooks=[])).push(0-s,h),p&&((u.preOrderHooks||(u.preOrderHooks=[])).push(s,p),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(s,p))}(u,p[u],o)}finally{null!==C&&nn(C),wu(b),_.resolving=!1,Wd()}}return h}function Vl(s,o,u){return!!(u[o+(s>>5)]&1<<s)}function Ba(s,o){return!(s&gt.Self||s&gt.Host&&o)}class Vo{constructor(o,u){this._tNode=o,this._lView=u}get(o,u,l){return Cc(this._tNode,this._lView,o,l,u)}}function Bo(s){return Ur(()=>{const o=s.prototype.constructor,u=o[J]||Tc(o),l=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==l;){const p=h[J]||Tc(h);if(p&&p!==u)return p;h=Object.getPrototypeOf(h)}return p=>new p})}function Tc(s){return Ge(s)?()=>{const o=Tc(re(s));return o&&o()}:li(s)}function jo(s){return function Ci(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const u=s.attrs;if(u){const l=u.length;let h=0;for(;h<l;){const p=u[h];if(Fl(p))break;if(0===p)h+=2;else if("number"==typeof p)for(h++;h<l&&"string"==typeof u[h];)h++;else{if(p===o)return u[h+1];h+=2}}}return null}(On(),s)}const Ti="__parameters__";function ls(s,o,u){return Ur(()=>{const l=function Cu(s){return function(...u){if(s){const l=s(...u);for(const h in l)this[h]=l[h]}}}(o);function h(...p){if(this instanceof h)return l.apply(this,p),this;const _=new h(...p);return b.annotation=_,b;function b(C,D,M){const k=C.hasOwnProperty(Ti)?C[Ti]:Object.defineProperty(C,Ti,{value:[]})[Ti];for(;k.length<=M;)k.push(null);return(k[M]=k[M]||[]).push(_),C}}return u&&(h.prototype=Object.create(u.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}class $n{constructor(o,u){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=an({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}toString(){return`InjectionToken ${this._desc}`}}const bp=new $n("AnalyzeForEntryComponents");function _r(s,o){void 0===o&&(o=s);for(let u=0;u<s.length;u++){let l=s[u];Array.isArray(l)?(o===s&&(o=s.slice(0,u)),_r(l,o)):o!==s&&o.push(l)}return o}function xr(s,o){s.forEach(u=>Array.isArray(u)?xr(u,o):o(u))}function qo(s,o,u){o>=s.length?s.push(u):s.splice(o,0,u)}function ds(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function ao(s,o){const u=[];for(let l=0;l<s;l++)u.push(o);return u}function Jn(s,o,u){let l=Za(s,o);return l>=0?s[1|l]=u:(l=~l,function $a(s,o,u,l){let h=s.length;if(h==o)s.push(u,l);else if(1===h)s.push(l,s[0]),s[0]=u;else{for(h--,s.push(s[h-1],s[h]);h>o;)s[h]=s[h-2],h--;s[o]=u,s[o+1]=l}}(s,l,o,u)),l}function Sc(s,o){const u=Za(s,o);if(u>=0)return s[1|u]}function Za(s,o){return function uo(s,o,u){let l=0,h=s.length>>u;for(;h!==l;){const p=l+(h-l>>1),_=s[p<<u];if(o===_)return p<<u;_>o?h=p:l=p+1}return~(h<<u)}(s,o,1)}const Go={},zo="__NG_DI_FLAG__",Wo="ngTempTokenPath",ql=/\n/gm,I="__source",O=me({provide:String,useValue:me});let F;function Q(s){const o=F;return F=s,o}function le(s,o=gt.Default){if(void 0===F)throw new Le(203,"");return null===F?Ir(s,void 0,o):F.get(s,o&gt.Optional?null:void 0,o)}function Se(s,o=gt.Default){return(function Tn(){return Lr}()||le)(re(s),o)}const Dt=Se;function Ct(s){const o=[];for(let u=0;u<s.length;u++){const l=re(s[u]);if(Array.isArray(l)){if(0===l.length)throw new Le(900,"");let h,p=gt.Default;for(let _=0;_<l.length;_++){const b=l[_],C=St(b);"number"==typeof C?-1===C?h=b.token:p|=C:h=b}o.push(Se(h,p))}else o.push(Se(l))}return o}function Lt(s,o){return s[zo]=o,s.prototype[zo]=o,s}function St(s){return s[zo]}const ji=Lt(ls("Inject",s=>({token:s})),-1),co=Lt(ls("Optional"),8),Hi=Lt(ls("SkipSelf"),4);let nh,Rc;function Oc(s){var o;return(null===(o=function rh(){if(void 0===nh&&(nh=null,Gt.trustedTypes))try{nh=Gt.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch(s){}return nh}())||void 0===o?void 0:o.createHTML(s))||s}function Ii(s){var o;return(null===(o=function Ga(){if(void 0===Rc&&(Rc=null,Gt.trustedTypes))try{Rc=Gt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch(s){}return Rc}())||void 0===o?void 0:o.createHTML(s))||s}class Au{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class ih extends Au{getTypeName(){return"HTML"}}class Wl extends Au{getTypeName(){return"Style"}}class uy extends Au{getTypeName(){return"Script"}}class N0 extends Au{getTypeName(){return"URL"}}class sh extends Au{getTypeName(){return"ResourceURL"}}function fs(s){return s instanceof Au?s.changingThisBreaksApplicationSecurity:s}function Su(s,o){const u=Kl(s);if(null!=u&&u!==o){if("ResourceURL"===u&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${u} (see https://g.co/ng/security#xss)`)}return u===o}function Kl(s){return s instanceof Au&&s.getTypeName()||null}function cy(s){return new ih(s)}function Sp(s){return new Wl(s)}function ly(s){return new uy(s)}function oh(s){return new N0(s)}function k0(s){return new sh(s)}class dy{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const u=(new window.DOMParser).parseFromString(Oc(o),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(o):(u.removeChild(u.firstChild),u)}catch(u){return null}}}class F0{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const u=this.inertDocument.createElement("html");this.inertDocument.appendChild(u);const l=this.inertDocument.createElement("body");u.appendChild(l)}}getInertBodyElement(o){const u=this.inertDocument.createElement("template");if("content"in u)return u.innerHTML=Oc(o),u;const l=this.inertDocument.createElement("body");return l.innerHTML=Oc(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(l),l}stripCustomNsAttrs(o){const u=o.attributes;for(let h=u.length-1;0<h;h--){const _=u.item(h).name;("xmlns:ns1"===_||0===_.indexOf("ns1:"))&&o.removeAttribute(_)}let l=o.firstChild;for(;l;)l.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(l),l=l.nextSibling}}const U0=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,v=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function g(s){return(s=String(s)).match(U0)||s.match(v)?s:"unsafe:"+s}function w(s){const o={};for(const u of s.split(","))o[u]=!0;return o}function x(...s){const o={};for(const u of s)for(const l in u)u.hasOwnProperty(l)&&(o[l]=!0);return o}const N=w("area,br,col,hr,img,wbr"),ne=w("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ke=w("rp,rt"),xn=x(N,x(ne,w("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),x(ke,w("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),x(ke,ne)),ps=w("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),lo=w("srcset"),ah=x(ps,lo,w("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),w("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),hy=w("script,style,template");class fy{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let u=o.firstChild,l=!0;for(;u;)if(u.nodeType===Node.ELEMENT_NODE?l=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,l&&u.firstChild)u=u.firstChild;else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let h=this.checkClobberedElement(u,u.nextSibling);if(h){u=h;break}u=this.checkClobberedElement(u,u.parentNode)}return this.buf.join("")}startElement(o){const u=o.nodeName.toLowerCase();if(!xn.hasOwnProperty(u))return this.sanitizedSomething=!0,!hy.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const l=o.attributes;for(let h=0;h<l.length;h++){const p=l.item(h),_=p.name,b=_.toLowerCase();if(!ah.hasOwnProperty(b)){this.sanitizedSomething=!0;continue}let C=p.value;ps[b]&&(C=g(C)),lo[b]&&(s=C,C=(s=String(s)).split(",").map(o=>g(o.trim())).join(", ")),this.buf.push(" ",_,'="',Rp(C),'"')}var s;return this.buf.push(">"),!0}endElement(o){const u=o.nodeName.toLowerCase();xn.hasOwnProperty(u)&&!N.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(o){this.buf.push(Rp(o))}checkClobberedElement(o,u){if(u&&(o.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return u}}const Op=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,py=/([^\#-~ |!])/g;function Rp(s){return s.replace(/&/g,"&amp;").replace(Op,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(py,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Pc;function Pp(s,o){let u=null;try{Pc=Pc||function xp(s){const o=new F0(s);return function L0(){try{return!!(new window.DOMParser).parseFromString(Oc(""),"text/html")}catch(s){return!1}}()?new dy(o):o}(s);let l=o?String(o):"";u=Pc.getInertBodyElement(l);let h=5,p=l;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,l=p,p=u.innerHTML,u=Pc.getInertBodyElement(l)}while(l!==p);return Oc((new fy).sanitizeChildren(Np(u)||u))}finally{if(u){const l=Np(u)||u;for(;l.firstChild;)l.removeChild(l.firstChild)}}}function Np(s){return"content"in s&&function kp(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var tr=(()=>((tr=tr||{})[tr.NONE=0]="NONE",tr[tr.HTML=1]="HTML",tr[tr.STYLE=2]="STYLE",tr[tr.SCRIPT=3]="SCRIPT",tr[tr.URL=4]="URL",tr[tr.RESOURCE_URL=5]="RESOURCE_URL",tr))();function mT(s){const o=Fp();return o?Ii(o.sanitize(tr.HTML,s)||""):Su(s,"HTML")?Ii(fs(s)):Pp(rs(),ge(s))}function j0(s){const o=Fp();return o?o.sanitize(tr.URL,s)||"":Su(s,"URL")?fs(s):g(ge(s))}function Fp(){const s=xe();return s&&s[12]}const _T="__ngContext__";function Di(s,o){s[_T]=o}function Mn(s){const o=function Lp(s){return s[_T]||null}(s);return o?Array.isArray(o)?o:o.lView:null}function my(s){return s.ngOriginalError}function wT(s,...o){s.error(...o)}class xu{constructor(){this._console=console}handleError(o){const u=this._findOriginalError(o),l=function q0(s){return s&&s.ngErrorLogger||wT}(o);l(this._console,"ERROR",o),u&&l(this._console,"ORIGINAL ERROR",u)}_findOriginalError(o){let u=o&&my(o);for(;u&&my(u);)u=my(u);return u||null}}const Up=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Gt))();function Bs(s){return s instanceof Function?s():s}var Xo=(()=>((Xo=Xo||{})[Xo.Important=1]="Important",Xo[Xo.DashCase=2]="DashCase",Xo))();function ed(s,o){return undefined(s,o)}function Ai(s){const o=s[3];return Qr(o)?o[3]:o}function Mu(s){return vy(s[13])}function lh(s){return vy(s[4])}function vy(s){for(;null!==s&&!Qr(s);)s=s[4];return s}function Nc(s,o,u,l,h){if(null!=l){let p,_=!1;Qr(l)?p=l:ui(l)&&(_=!0,l=l[0]);const b=gn(l);0===s&&null!==u?null==h?rb(o,u,b):kc(o,u,b,h||null,!0):1===s&&null!==u?kc(o,u,b,h||null,!0):2===s?function OT(s,o,u){const l=jp(s,o);l&&function Jt(s,o,u,l){vn(s)?s.removeChild(o,u,l):o.removeChild(u)}(s,l,o,u)}(o,b,_):3===s&&o.destroyNode(b),null!=p&&function ab(s,o,u,l,h){const p=u[7];p!==gn(u)&&Nc(o,s,l,p,h);for(let b=10;b<u.length;b++){const C=u[b];Zi(C[1],C,s,o,l,p)}}(o,s,p,u,h)}}function wy(s,o,u){if(vn(s))return s.createElement(o,u);{const l=null!==u?function hu(s){const o=s.toLowerCase();return"svg"===o?"http://www.w3.org/2000/svg":"math"===o?"http://www.w3.org/1998/MathML/":null}(u):null;return null===l?s.createElement(o):s.createElementNS(l,o)}}function Q0(s,o){const u=s[9],l=u.indexOf(o),h=o[3];1024&o[2]&&(o[2]&=-1025,Ls(h,-1)),u.splice(l,1)}function Cy(s,o){if(s.length<=10)return;const u=10+o,l=s[u];if(l){const h=l[17];null!==h&&h!==s&&Q0(h,l),o>0&&(s[u-1][4]=l[4]);const p=ds(s,10+o);!function Wa(s,o){Zi(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(l[1],l);const _=p[19];null!==_&&_.detachView(p[1]),l[3]=null,l[4]=null,l[2]&=-129}return l}function J0(s,o){if(!(256&o[2])){const u=o[11];vn(u)&&u.destroyNode&&Zi(s,o,u,3,null,null),function Y0(s){let o=s[13];if(!o)return Ty(s[1],s);for(;o;){let u=null;if(ui(o))u=o[13];else{const l=o[10];l&&(u=l)}if(!u){for(;o&&!o[4]&&o!==s;)ui(o)&&Ty(o[1],o),o=o[3];null===o&&(o=s),ui(o)&&Ty(o[1],o),u=o&&o[4]}o=u}}(o)}}function Ty(s,o){if(!(256&o[2])){o[2]&=-129,o[2]|=256,function eb(s,o){let u;if(null!=s&&null!=(u=s.destroyHooks))for(let l=0;l<u.length;l+=2){const h=o[u[l]];if(!(h instanceof Po)){const p=u[l+1];if(Array.isArray(p))for(let _=0;_<p.length;_+=2){const b=h[p[_]],C=p[_+1];try{C.call(b)}finally{}}else try{p.call(h)}finally{}}}}(s,o),function X0(s,o){const u=s.cleanup,l=o[7];let h=-1;if(null!==u)for(let p=0;p<u.length-1;p+=2)if("string"==typeof u[p]){const _=u[p+1],b="function"==typeof _?_(o):gn(o[_]),C=l[h=u[p+2]],D=u[p+3];"boolean"==typeof D?b.removeEventListener(u[p],C,D):D>=0?l[h=D]():l[h=-D].unsubscribe(),p+=2}else{const _=l[h=u[p+1]];u[p].call(_)}if(null!==l){for(let p=h+1;p<l.length;p++)l[p]();o[7]=null}}(s,o),1===o[1].type&&vn(o[11])&&o[11].destroy();const u=o[17];if(null!==u&&Qr(o[3])){u!==o[3]&&Q0(u,o);const l=o[19];null!==l&&l.detachView(s)}}}function tb(s,o,u){return function nb(s,o,u){let l=o;for(;null!==l&&40&l.type;)l=(o=l).parent;if(null===l)return u[0];if(2&l.flags){const h=s.data[l.directiveStart].encapsulation;if(h===Wt.None||h===Wt.Emulated)return null}return lr(l,u)}(s,o.parent,u)}function kc(s,o,u,l,h){vn(s)?s.insertBefore(o,u,l,h):o.insertBefore(u,l,h)}function rb(s,o,u){vn(s)?s.appendChild(o,u):o.appendChild(u)}function Iy(s,o,u,l,h){null!==l?kc(s,o,u,l,h):rb(s,o,u)}function jp(s,o){return vn(s)?s.parentNode(o):o.parentNode}function Dy(s,o,u){return ib(s,o,u)}let ib=function Hp(s,o,u){return 40&s.type?lr(s,u):null};function ms(s,o,u,l){const h=tb(s,l,o),p=o[11],b=Dy(l.parent||o[6],l,o);if(null!=h)if(Array.isArray(u))for(let C=0;C<u.length;C++)Iy(p,h,u[C],b,!1);else Iy(p,h,u,b,!1)}function hh(s,o){if(null!==o){const u=o.type;if(3&u)return lr(o,s);if(4&u)return $p(-1,s[o.index]);if(8&u){const l=o.child;if(null!==l)return hh(s,l);{const h=s[o.index];return Qr(h)?$p(-1,h):gn(h)}}if(32&u)return ed(o,s)()||gn(s[o.index]);{const l=Sy(s,o);return null!==l?Array.isArray(l)?l[0]:hh(Ai(s[16]),l):hh(s,o.next)}}return null}function Sy(s,o){return null!==o?s[16][6].projection[o.projection]:null}function $p(s,o){const u=10+s+1;if(u<o.length){const l=o[u],h=l[1].firstChild;if(null!==h)return hh(l,h)}return o[7]}function Rr(s,o,u,l,h,p,_){for(;null!=u;){const b=l[u.index],C=u.type;if(_&&0===o&&(b&&Di(gn(b),l),u.flags|=4),64!=(64&u.flags))if(8&C)Rr(s,o,u.child,l,h,p,!1),Nc(o,s,h,b,p);else if(32&C){const D=ed(u,l);let M;for(;M=D();)Nc(o,s,h,M,p);Nc(o,s,h,b,p)}else 16&C?ob(s,o,l,u,h,p):Nc(o,s,h,b,p);u=_?u.projectionNext:u.next}}function Zi(s,o,u,l,h,p){Rr(u,l,s.firstChild,o,h,p,!1)}function ob(s,o,u,l,h,p){const _=u[16],C=_[6].projection[l.projection];if(Array.isArray(C))for(let D=0;D<C.length;D++)Nc(o,s,h,C[D],p);else Rr(s,o,C,_[3],h,p,!0)}function cb(s,o,u){vn(s)?s.setAttribute(o,"style",u):o.style.cssText=u}function qp(s,o,u){vn(s)?""===u?s.removeAttribute(o,"class"):s.setAttribute(o,"class",u):o.className=u}function lb(s,o,u){let l=s.length;for(;;){const h=s.indexOf(o,u);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const p=o.length;if(h+p===l||s.charCodeAt(h+p)<=32)return h}u=h+1}}const xy="ng-template";function Zp(s,o,u){let l=0;for(;l<s.length;){let h=s[l++];if(u&&"class"===h){if(h=s[l],-1!==lb(h.toLowerCase(),o,0))return!0}else if(1===h){for(;l<s.length&&"string"==typeof(h=s[l++]);)if(h.toLowerCase()===o)return!0;return!1}}return!1}function Ru(s){return 4===s.type&&s.value!==xy}function rn(s,o,u){return o===(4!==s.type||u?s.value:xy)}function fh(s,o,u){let l=4;const h=s.attrs||[],p=function fb(s){for(let o=0;o<s.length;o++)if(Fl(s[o]))return o;return s.length}(h);let _=!1;for(let b=0;b<o.length;b++){const C=o[b];if("number"!=typeof C){if(!_)if(4&l){if(l=2|1&l,""!==C&&!rn(s,C,u)||""===C&&1===o.length){if(fo(l))return!1;_=!0}}else{const D=8&l?C:o[++b];if(8&l&&null!==s.attrs){if(!Zp(s.attrs,D,u)){if(fo(l))return!1;_=!0}continue}const k=Fc(8&l?"class":C,h,Ru(s),u);if(-1===k){if(fo(l))return!1;_=!0;continue}if(""!==D){let $;$=k>p?"":h[k+1].toLowerCase();const X=8&l?$:null;if(X&&-1!==lb(X,D,0)||2&l&&D!==$){if(fo(l))return!1;_=!0}}}}else{if(!_&&!fo(l)&&!fo(C))return!1;if(_&&fo(C))continue;_=!1,l=C|1&l}}return fo(l)||_}function fo(s){return 0==(1&s)}function Fc(s,o,u,l){if(null===o)return-1;let h=0;if(l||!u){let p=!1;for(;h<o.length;){const _=o[h];if(_===s)return h;if(3===_||6===_)p=!0;else{if(1===_||2===_){let b=o[++h];for(;"string"==typeof b;)b=o[++h];continue}if(4===_)break;if(0===_){h+=4;continue}}h+=p?1:2}return-1}return function NT(s,o){let u=s.indexOf(4);if(u>-1)for(u++;u<s.length;){const l=s[u];if("number"==typeof l)return-1;if(l===o)return u;u++}return-1}(o,s)}function db(s,o,u=!1){for(let l=0;l<o.length;l++)if(fh(s,o[l],u))return!0;return!1}function Gp(s,o){e:for(let u=0;u<o.length;u++){const l=o[u];if(s.length===l.length){for(let h=0;h<s.length;h++)if(s[h]!==l[h])continue e;return!0}}return!1}function rd(s,o){return s?":not("+o.trim()+")":o}function pb(s){let o=s[0],u=1,l=2,h="",p=!1;for(;u<s.length;){let _=s[u];if("string"==typeof _)if(2&l){const b=s[++u];h+="["+_+(b.length>0?'="'+b+'"':"")+"]"}else 8&l?h+="."+_:4&l&&(h+=" "+_);else""!==h&&!fo(_)&&(o+=rd(p,h),h=""),l=_,p=p||!fo(l);u++}return""!==h&&(o+=rd(p,h)),o}const Ot={};function ph(s){My(zt(),xe(),hr()+s,Ma())}function My(s,o,u,l){if(!l)if(3==(3&o[2])){const p=s.preOrderCheckHooks;null!==p&&as(o,p,u)}else{const p=s.preOrderHooks;null!==p&&ka(o,p,0,u)}os(u)}function Wp(s,o){return s<<17|o<<2}function po(s){return s>>17&32767}function Ry(s){return 2|s}function Ka(s){return(131068&s)>>2}function Py(s,o){return-131069&s|o<<2}function Ny(s){return 1|s}function Sb(s,o){const u=s.contentQueries;if(null!==u)for(let l=0;l<u.length;l+=2){const h=u[l],p=u[l+1];if(-1!==p){const _=s.data[p];bc(h),_.contentQueries(2,o[p],p)}}}function _h(s,o,u,l,h,p,_,b,C,D){const M=o.blueprint.slice();return M[0]=h,M[2]=140|l,Fs(M),M[3]=M[15]=s,M[8]=u,M[10]=_||s&&s[10],M[11]=b||s&&s[11],M[12]=C||s&&s[12]||null,M[9]=D||s&&s[9]||null,M[6]=p,M[16]=2==o.type?s[16]:M,M}function sd(s,o,u,l,h){let p=s.data[o];if(null===p)p=function Vy(s,o,u,l,h){const p=Us(),_=yc(),C=s.data[o]=function ug(s,o,u,l,h,p){return{type:u,index:l,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?p:p&&p.parent,u,o,l,h);return null===s.firstChild&&(s.firstChild=C),null!==p&&(_?null==p.child&&null!==C.parent&&(p.child=C):null===p.next&&(p.next=C)),C}(s,o,u,l,h),function Oa(){return mt.lFrame.inI18n}()&&(p.flags|=64);else if(64&p.type){p.type=u,p.value=l,p.attrs=h;const _=function xa(){const s=mt.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();p.injectorIndex=null===_?-1:_.injectorIndex}return Br(p,!0),p}function ea(s,o,u,l){if(0===u)return-1;const h=o.length;for(let p=0;p<u;p++)o.push(l),s.blueprint.push(l),s.data.push(null);return h}function Qa(s,o,u){Xs(o);try{const l=s.viewQuery;null!==l&&Vb(1,l,u);const h=s.template;null!==h&&ta(s,o,h,1,u),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&Sb(s,o),s.staticViewQueries&&Vb(2,s.viewQuery,u);const p=s.components;null!==p&&function $T(s,o){for(let u=0;u<o.length;u++)iI(s,o[u])}(o,p)}catch(l){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),l}finally{o[2]&=-5,Ro()}}function od(s,o,u,l){const h=o[2];if(256==(256&h))return;Xs(o);const p=Ma();try{Fs(o),function vc(s){return mt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==u&&ta(s,o,u,2,l);const _=3==(3&h);if(!p)if(_){const D=s.preOrderCheckHooks;null!==D&&as(o,D,null)}else{const D=s.preOrderHooks;null!==D&&ka(o,D,0,null),_u(o,0)}if(function nI(s){for(let o=Mu(s);null!==o;o=lh(o)){if(!o[2])continue;const u=o[9];for(let l=0;l<u.length;l++){const h=u[l],p=h[3];0==(1024&h[2])&&Ls(p,1),h[2]|=1024}}}(o),function tI(s){for(let o=Mu(s);null!==o;o=lh(o))for(let u=10;u<o.length;u++){const l=o[u],h=l[1];Pi(l)&&od(h,l,h.template,l[8])}}(o),null!==s.contentQueries&&Sb(s,o),!p)if(_){const D=s.contentCheckHooks;null!==D&&as(o,D)}else{const D=s.contentHooks;null!==D&&ka(o,D,1),_u(o,1)}!function ku(s,o){const u=s.hostBindingOpCodes;if(null!==u)try{for(let l=0;l<u.length;l++){const h=u[l];if(h<0)os(~h);else{const p=h,_=u[++l],b=u[++l];Ra(_,p),b(2,o[p])}}}finally{os(-1)}}(s,o);const b=s.components;null!==b&&function Lc(s,o){for(let u=0;u<o.length;u++)rI(s,o[u])}(o,b);const C=s.viewQuery;if(null!==C&&Vb(2,C,l),!p)if(_){const D=s.viewCheckHooks;null!==D&&as(o,D)}else{const D=s.viewHooks;null!==D&&ka(o,D,2),_u(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),p||(o[2]&=-73),1024&o[2]&&(o[2]&=-1025,Ls(o[3],-1))}finally{Ro()}}function vh(s,o,u,l){const h=o[10],p=!Ma(),_=Mo(o);try{p&&!_&&h.begin&&h.begin(),_&&Qa(s,o,l),od(s,o,u,l)}finally{p&&!_&&h.end&&h.end()}}function ta(s,o,u,l,h){const p=hr(),_=2&l;try{os(-1),_&&o.length>20&&My(s,o,20,Ma()),u(l,h)}finally{os(p)}}function xb(s,o,u){if(yl(o)){const h=o.directiveEnd;for(let p=o.directiveStart;p<h;p++){const _=s.data[p];_.contentQueries&&_.contentQueries(1,u[p],p)}}}function sg(s,o,u){!mc()||(function KT(s,o,u,l){const h=u.directiveStart,p=u.directiveEnd;s.firstCreatePass||cs(u,o),Di(l,o);const _=u.initialInputs;for(let b=h;b<p;b++){const C=s.data[b],D=ci(C);D&&XT(o,u,C);const M=Eu(o,s,b,u);Di(M,o),null!==_&&eI(0,b-h,M,C,0,_),D&&(dr(u.index,o)[8]=M)}}(s,o,u,lr(u,o)),128==(128&u.flags)&&function YT(s,o,u){const l=u.directiveStart,h=u.directiveEnd,_=u.index,b=function xl(){return mt.lFrame.currentDirectiveIndex}();try{os(_);for(let C=l;C<h;C++){const D=s.data[C],M=o[C];Js(C),(null!==D.hostBindings||0!==D.hostVars||null!==D.hostAttrs)&&dg(D,M)}}finally{os(-1),Js(b)}}(s,o,u))}function og(s,o,u=lr){const l=o.localNames;if(null!==l){let h=o.index+1;for(let p=0;p<l.length;p+=2){const _=l[p+1],b=-1===_?u(o,s):s[_];s[h++]=b}}}function Mb(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=ag(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function ag(s,o,u,l,h,p,_,b,C,D){const M=20+l,k=M+h,$=function By(s,o){const u=[];for(let l=0;l<o;l++)u.push(l<s?null:Ot);return u}(M,k),X="function"==typeof D?D():D;return $[1]={type:s,blueprint:$,template:u,queries:null,viewQuery:b,declTNode:o,data:$.slice().fill(null,M),bindingStartIndex:M,expandoStartIndex:k,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:C,consts:X,incompleteFirstPass:!1}}function bh(s,o,u,l){const h=Yy(o);null===u?h.push(l):(h.push(u),s.firstCreatePass&&Qy(s).push(l,h.length-1))}function Ob(s,o,u){for(let l in s)if(s.hasOwnProperty(l)){const h=s[l];(u=null===u?{}:u).hasOwnProperty(l)?u[l].push(o,h):u[l]=[o,h]}return u}function _s(s,o,u,l,h,p,_,b){const C=lr(o,u);let M,D=o.inputs;!b&&null!=D&&(M=D[l])?($b(s,u,M,l,h),uu(o)&&function cg(s,o){const u=dr(o,s);16&u[2]||(u[2]|=64)}(u,o.index)):3&o.type&&(l=function GT(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(l),h=null!=_?_(h,o.value||"",l):h,vn(p)?p.setProperty(C,l,h):vu(l)||(C.setProperty?C.setProperty(l,h):C[l]=h))}function qy(s,o,u,l){let h=!1;if(mc()){const p=function QT(s,o,u){const l=s.directiveRegistry;let h=null;if(l)for(let p=0;p<l.length;p++){const _=l[p];db(u,_.selectors,!1)&&(h||(h=[]),vt(cs(u,o),s,_.type),ci(_)?(Zy(s,u),h.unshift(_)):h.push(_))}return h}(s,o,u),_=null===l?null:{"":-1};if(null!==p){h=!0,kb(u,s.data.length,p.length);for(let M=0;M<p.length;M++){const k=p[M];k.providersResolver&&k.providersResolver(k)}let b=!1,C=!1,D=ea(s,o,p.length,null);for(let M=0;M<p.length;M++){const k=p[M];u.mergedAttrs=bu(u.mergedAttrs,k.hostAttrs),wh(s,u,o,D,k),JT(D,k,_),null!==k.contentQueries&&(u.flags|=8),(null!==k.hostBindings||null!==k.hostAttrs||0!==k.hostVars)&&(u.flags|=128);const $=k.type.prototype;!b&&($.ngOnChanges||$.ngOnInit||$.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(u.index),b=!0),!C&&($.ngOnChanges||$.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(u.index),C=!0),D++}!function ZT(s,o){const l=o.directiveEnd,h=s.data,p=o.attrs,_=[];let b=null,C=null;for(let D=o.directiveStart;D<l;D++){const M=h[D],k=M.inputs,$=null===p||Ru(o)?null:Eh(k,p);_.push($),b=Ob(k,D,b),C=Ob(M.outputs,D,C)}null!==b&&(b.hasOwnProperty("class")&&(o.flags|=16),b.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=_,o.inputs=b,o.outputs=C}(s,u)}_&&function hg(s,o,u){if(o){const l=s.localNames=[];for(let h=0;h<o.length;h+=2){const p=u[o[h+1]];if(null==p)throw new Le(-301,!1);l.push(o[h],p)}}}(u,l,_)}return u.mergedAttrs=bu(u.mergedAttrs,u.attrs),h}function Nb(s,o,u,l,h,p){const _=p.hostBindings;if(_){let b=s.hostBindingOpCodes;null===b&&(b=s.hostBindingOpCodes=[]);const C=~o.index;(function WT(s){let o=s.length;for(;o>0;){const u=s[--o];if("number"==typeof u&&u<0)return u}return 0})(b)!=C&&b.push(C),b.push(l,h,_)}}function dg(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function Zy(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function JT(s,o,u){if(u){if(o.exportAs)for(let l=0;l<o.exportAs.length;l++)u[o.exportAs[l]]=s;ci(o)&&(u[""]=s)}}function kb(s,o,u){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+u,s.providerIndexes=o}function wh(s,o,u,l,h){s.data[l]=h;const p=h.factory||(h.factory=li(h.type)),_=new Po(p,ci(h),null);s.blueprint[l]=_,u[l]=_,Nb(s,o,0,l,ea(s,u,h.hostVars,Ot),h)}function XT(s,o,u){const l=lr(o,s),h=Mb(u),p=s[10],_=fg(s,_h(s,h,null,u.onPush?64:16,l,o,p,p.createRenderer(l,u),null,null));s[o.index]=_}function Gi(s,o,u,l,h,p){const _=lr(s,o);!function Gy(s,o,u,l,h,p,_){if(null==p)vn(s)?s.removeAttribute(o,h,u):o.removeAttribute(h);else{const b=null==_?ge(p):_(p,l||"",h);vn(s)?s.setAttribute(o,h,b,u):u?o.setAttributeNS(u,h,b):o.setAttribute(h,b)}}(o[11],_,p,s.value,u,l,h)}function eI(s,o,u,l,h,p){const _=p[o];if(null!==_){const b=l.setInput;for(let C=0;C<_.length;){const D=_[C++],M=_[C++],k=_[C++];null!==b?l.setInput(u,k,D,M):u[M]=k}}}function Eh(s,o){let u=null,l=0;for(;l<o.length;){const h=o[l];if(0!==h)if(5!==h){if("number"==typeof h)break;s.hasOwnProperty(h)&&(null===u&&(u=[]),u.push(h,s[h],o[l+1])),l+=2}else l+=2;else l+=4}return u}function Fb(s,o,u,l){return new Array(s,!0,!1,o,null,0,l,u,null,null)}function rI(s,o){const u=dr(o,s);if(Pi(u)){const l=u[1];80&u[2]?od(l,u,l.template,u[8]):u[5]>0&&zy(u)}}function zy(s){for(let l=Mu(s);null!==l;l=lh(l))for(let h=10;h<l.length;h++){const p=l[h];if(1024&p[2]){const _=p[1];od(_,p,_.template,p[8])}else p[5]>0&&zy(p)}const u=s[1].components;if(null!==u)for(let l=0;l<u.length;l++){const h=dr(u[l],s);Pi(h)&&h[5]>0&&zy(h)}}function iI(s,o){const u=dr(o,s),l=u[1];(function sI(s,o){for(let u=o.length;u<s.blueprint.length;u++)o.push(s.blueprint[u])})(l,u),Qa(l,u,u[8])}function fg(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function pg(s){for(;s;){s[2]|=64;const o=Ai(s);if(dc(s)&&!o)return s;s=o}return null}function Ky(s,o,u){const l=o[10];l.begin&&l.begin();try{od(s,o,s.template,u)}catch(h){throw Hb(o,h),h}finally{l.end&&l.end()}}function Lb(s){!function Wy(s){for(let o=0;o<s.components.length;o++){const u=s.components[o],l=Mn(u),h=l[1];vh(h,l,h.template,u)}}(s[8])}function Vb(s,o,u){bc(0),o(s,u)}const Bb=(()=>Promise.resolve(null))();function Yy(s){return s[7]||(s[7]=[])}function Qy(s){return s.cleanup||(s.cleanup=[])}function Hb(s,o){const u=s[9],l=u?u.get(xu,null):null;l&&l.handleError(o)}function $b(s,o,u,l,h){for(let p=0;p<u.length;){const _=u[p++],b=u[p++],C=o[_],D=s.data[_];null!==D.setInput?D.setInput(C,h,l,b):C[b]=h}}function Ja(s,o,u){const l=Qs(o,s);!function Ou(s,o,u){vn(s)?s.setValue(o,u):o.textContent=u}(s[11],l,u)}function Ch(s,o,u){let l=u?s.styles:null,h=u?s.classes:null,p=0;if(null!==o)for(let _=0;_<o.length;_++){const b=o[_];"number"==typeof b?p=b:1==p?h=ye(h,b):2==p&&(l=ye(l,b+": "+o[++_]+";"))}u?s.styles=l:s.stylesWithoutHost=l,u?s.classes=h:s.classesWithoutHost=h}const Xy=new $n("INJECTOR",-1);class qb{get(o,u=Go){if(u===Go){const l=new Error(`NullInjectorError: No provider for ${ae(o)}!`);throw l.name="NullInjectorError",l}return u}}const Th=new $n("Set Injector scope."),ad={},lI={};let e_;function Zb(){return void 0===e_&&(e_=new qb),e_}function Gb(s,o=null,u=null,l){const h=t_(s,o,u,l);return h._resolveInjectorDefTypes(),h}function t_(s,o=null,u=null,l){return new dI(s,u,o||Zb(),l)}class dI{constructor(o,u,l,h=null){this.parent=l,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const p=[];u&&xr(u,b=>this.processProvider(b,o,u)),xr([o],b=>this.processInjectorType(b,[],p)),this.records.set(Xy,go(void 0,this));const _=this.records.get(Th);this.scope=null!=_?_.value:null,this.source=h||("object"==typeof o?null:ae(o))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(o=>o.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(o,u=Go,l=gt.Default){this.assertNotDestroyed();const h=Q(this),p=nn(void 0);try{if(!(l&gt.SkipSelf)){let b=this.records.get(o);if(void 0===b){const C=function Kb(s){return"function"==typeof s||"object"==typeof s&&s instanceof $n}(o)&&In(o);b=C&&this.injectableDefInScope(C)?go(n_(o),ad):null,this.records.set(o,b)}if(null!=b)return this.hydrate(o,b)}return(l&gt.Self?Zb():this.parent).get(o,u=l&gt.Optional&&u===Go?null:u)}catch(_){if("NullInjectorError"===_.name){if((_[Wo]=_[Wo]||[]).unshift(ae(o)),h)throw _;return function Mr(s,o,u,l){const h=s[Wo];throw o[I]&&h.unshift(o[I]),s.message=function zn(s,o,u,l=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.substr(2):s;let h=ae(o);if(Array.isArray(o))h=o.map(ae).join(" -> ");else if("object"==typeof o){let p=[];for(let _ in o)if(o.hasOwnProperty(_)){let b=o[_];p.push(_+":"+("string"==typeof b?JSON.stringify(b):ae(b)))}h=`{${p.join(", ")}}`}return`${u}${l?"("+l+")":""}[${h}]: ${s.replace(ql,"\n  ")}`}("\n"+s.message,h,u,l),s.ngTokenPath=h,s[Wo]=null,s}(_,o,"R3InjectorError",this.source)}throw _}finally{nn(p),Q(h)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(o=>this.get(o))}toString(){const o=[];return this.records.forEach((l,h)=>o.push(ae(h))),`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Le(205,!1)}processInjectorType(o,u,l){if(!(o=re(o)))return!1;let h=xi(o);const p=null==h&&o.ngModule||void 0,_=void 0===p?o:p,b=-1!==l.indexOf(_);if(void 0!==p&&(h=xi(p)),null==h)return!1;if(null!=h.imports&&!b){let M;l.push(_);try{xr(h.imports,k=>{this.processInjectorType(k,u,l)&&(void 0===M&&(M=[]),M.push(k))})}finally{}if(void 0!==M)for(let k=0;k<M.length;k++){const{ngModule:$,providers:X}=M[k];xr(X,Te=>this.processProvider(Te,$,X||V))}}this.injectorDefTypes.add(_);const C=li(_)||(()=>new _);this.records.set(_,go(C,ad));const D=h.providers;if(null!=D&&!b){const M=o;xr(D,k=>this.processProvider(k,M,D))}return void 0!==p&&void 0!==o.providers}processProvider(o,u,l){let h=cd(o=re(o))?o:re(o&&o.provide);const p=function hI(s,o,u){return Fu(s)?go(void 0,s.useValue):go(r_(s),ad)}(o);if(cd(o)||!0!==o.multi)this.records.get(h);else{let _=this.records.get(h);_||(_=go(void 0,ad,!0),_.factory=()=>Ct(_.multi),this.records.set(h,_)),h=o,_.multi.push(o)}this.records.set(h,p)}hydrate(o,u){return u.value===ad&&(u.value=lI,u.value=u.factory()),"object"==typeof u.value&&u.value&&function Wb(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(u.value)&&this.onDestroy.add(u.value),u.value}injectableDefInScope(o){if(!o.providedIn)return!1;const u=re(o.providedIn);return"string"==typeof u?"any"===u||u===this.scope:this.injectorDefTypes.has(u)}}function n_(s){const o=In(s),u=null!==o?o.factory:li(s);if(null!==u)return u;if(s instanceof $n)throw new Le(204,!1);if(s instanceof Function)return function ei(s){const o=s.length;if(o>0)throw ao(o,"?"),new Le(204,!1);const u=function Tr(s){const o=s&&(s[si]||s[Wn]);if(o){const u=function Sn(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${u}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${u}" class.`),o}return null}(s);return null!==u?()=>u.factory(s):()=>new s}(s);throw new Le(204,!1)}function r_(s,o,u){let l;if(cd(s)){const h=re(s);return li(h)||n_(h)}if(Fu(s))l=()=>re(s.useValue);else if(function fI(s){return!(!s||!s.useFactory)}(s))l=()=>s.useFactory(...Ct(s.deps||[]));else if(function ud(s){return!(!s||!s.useExisting)}(s))l=()=>Se(re(s.useExisting));else{const h=re(s&&(s.useClass||s.provide));if(!function pI(s){return!!s.deps}(s))return li(h)||n_(h);l=()=>new h(...Ct(s.deps))}return l}function go(s,o,u=!1){return{factory:s,value:o,multi:u?[]:void 0}}function Fu(s){return null!==s&&"object"==typeof s&&O in s}function cd(s){return"function"==typeof s}let Hs=(()=>{class s{static create(u,l){var h;if(Array.isArray(u))return Gb({name:""},l,u,"");{const p=null!==(h=u.name)&&void 0!==h?h:"";return Gb({name:p},u.parent,u.providers,p)}}}return s.THROW_IF_NOT_FOUND=Go,s.NULL=new qb,s.\u0275prov=an({token:s,providedIn:"any",factory:()=>Se(Xy)}),s.__NG_ELEMENT_ID__=-1,s})();function EI(s,o){Na(Mn(s)[1],On())}function mg(s){let o=function nw(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),u=!0;const l=[s];for(;o;){let h;if(ci(s))h=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Le(903,"");h=o.\u0275dir}if(h){if(u){l.push(h);const _=s;_.inputs=ra(s.inputs),_.declaredInputs=ra(s.declaredInputs),_.outputs=ra(s.outputs);const b=h.hostBindings;b&&TI(s,b);const C=h.viewQuery,D=h.contentQueries;if(C&&sx(s,C),D&&CI(s,D),de(s.inputs,h.inputs),de(s.declaredInputs,h.declaredInputs),de(s.outputs,h.outputs),ci(h)&&h.data.animation){const M=s.data;M.animation=(M.animation||[]).concat(h.data.animation)}}const p=h.features;if(p)for(let _=0;_<p.length;_++){const b=p[_];b&&b.ngInherit&&b(s),b===mg&&(u=!1)}}o=Object.getPrototypeOf(o)}!function rw(s){let o=0,u=null;for(let l=s.length-1;l>=0;l--){const h=s[l];h.hostVars=o+=h.hostVars,h.hostAttrs=bu(h.hostAttrs,u=bu(u,h.hostAttrs))}}(l)}function ra(s){return s===fn?{}:s===V?[]:s}function sx(s,o){const u=s.viewQuery;s.viewQuery=u?(l,h)=>{o(l,h),u(l,h)}:o}function CI(s,o){const u=s.contentQueries;s.contentQueries=u?(l,h,p)=>{o(l,h,p),u(l,h,p)}:o}function TI(s,o){const u=s.hostBindings;s.hostBindings=u?(l,h)=>{o(l,h),u(l,h)}:o}let yg=null;function ia(){if(!yg){const s=Gt.Symbol;if(s&&s.iterator)yg=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let u=0;u<o.length;++u){const l=o[u];"entries"!==l&&"size"!==l&&Map.prototype[l]===Map.prototype.entries&&(yg=l)}}}return yg}function Uc(s){return!!vg(s)&&(Array.isArray(s)||!(s instanceof Map)&&ia()in s)}function vg(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function $s(s,o,u){return s[o]=u}function ti(s,o,u){return!Object.is(s[o],u)&&(s[o]=u,!0)}function aw(s,o,u,l){const h=xe();return ti(h,Ni(),o)&&(zt(),Gi(Vn(),h,s,o,u,l)),aw}function Ah(s,o,u,l){return ti(s,Ni(),u)?o+ge(u)+l:Ot}function SI(s,o,u,l,h,p,_,b){const C=xe(),D=zt(),M=s+20,k=D.firstCreatePass?function AI(s,o,u,l,h,p,_,b,C){const D=o.consts,M=sd(o,s,4,_||null,Jr(D,b));qy(o,u,M,Jr(D,C)),Na(o,M);const k=M.tViews=ag(2,M,l,h,p,o.directiveRegistry,o.pipeRegistry,null,o.schemas,D);return null!==o.queries&&(o.queries.template(o,M),k.queries=o.queries.embeddedTView(M)),M}(M,D,C,o,u,l,h,p,_):D.data[M];Br(k,!1);const $=C[11].createComment("");ms(D,C,$,k),Di($,C),fg(C,C[M]=Fb($,C,$,k)),Ps(k)&&sg(D,C,k),null!=_&&og(C,k,b)}function dw(s){return is(function Al(){return mt.lFrame.contextLView}(),20+s)}function qs(s,o=gt.Default){const u=xe();return null===u?Se(s,o):Cc(On(),u,re(s),o)}function fi(){throw new Error("invalid")}function Sg(s,o,u){const l=xe();return ti(l,Ni(),o)&&_s(zt(),Vn(),l,s,o,l[11],u,!1),Sg}function Tw(s,o,u,l,h){const _=h?"class":"style";$b(s,u,o.inputs[_],_,l)}function Hc(s,o,u,l){const h=xe(),p=zt(),_=20+s,b=h[11],C=h[_]=wy(b,o,function Rl(){return mt.lFrame.currentNamespace}()),D=p.firstCreatePass?function ux(s,o,u,l,h,p,_){const b=o.consts,D=sd(o,s,2,h,Jr(b,p));return qy(o,u,D,Jr(b,_)),null!==D.attrs&&Ch(D,D.attrs,!1),null!==D.mergedAttrs&&Ch(D,D.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,D),D}(_,p,h,0,o,u,l):p.data[_];Br(D,!0);const M=D.mergedAttrs;null!==M&&Bn(b,C,M);const k=D.classes;null!==k&&qp(b,C,k);const $=D.styles;return null!==$&&cb(b,C,$),64!=(64&D.flags)&&ms(p,h,C,D),0===function Ia(){return mt.lFrame.elementDepthCount}()&&Di(C,h),function Il(){mt.lFrame.elementDepthCount++}(),Ps(D)&&(sg(p,h,D),xb(p,D,h)),null!==l&&og(h,D),Hc}function Xa(){let s=On();yc()?_c():(s=s.parent,Br(s,!1));const o=s;!function Da(){mt.lFrame.elementDepthCount--}();const u=zt();return u.firstCreatePass&&(Na(u,s),yl(s)&&u.queries.elementEnd(s)),null!=o.classesWithoutHost&&function kl(s){return 0!=(16&s.flags)}(o)&&Tw(u,o,xe(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function _p(s){return 0!=(32&s.flags)}(o)&&Tw(u,o,xe(),o.stylesWithoutHost,!1),Xa}function kh(s,o,u,l){return Hc(s,o,u,l),Xa(),kh}function hd(s,o,u){const l=xe(),h=zt(),p=s+20,_=h.firstCreatePass?function kI(s,o,u,l,h){const p=o.consts,_=Jr(p,l),b=sd(o,s,8,"ng-container",_);return null!==_&&Ch(b,_,!0),qy(o,u,b,Jr(p,h)),null!==o.queries&&o.queries.elementStart(o,b),b}(p,h,l,o,u):h.data[p];Br(_,!0);const b=l[p]=l[11].createComment("");return ms(h,l,b,_),Di(b,l),Ps(_)&&(sg(h,l,_),xb(h,_,l)),null!=u&&og(l,_),hd}function xg(){let s=On();const o=zt();return yc()?_c():(s=s.parent,Br(s,!1)),o.firstCreatePass&&(Na(o,s),yl(s)&&o.queries.elementEnd(s)),xg}function Iw(s,o,u){return hd(s,o,u),xg(),Iw}function FI(){return xe()}function Dw(s){return!!s&&"function"==typeof s.then}function LI(s){return!!s&&"function"==typeof s.subscribe}const UI=LI;function Aw(s,o,u,l){const h=xe(),p=zt(),_=On();return function Mw(s,o,u,l,h,p,_,b){const C=Ps(l),M=s.firstCreatePass&&Qy(s),k=o[8],$=Yy(o);let X=!0;if(3&l.type||b){const ze=lr(l,o),ot=b?b(ze):ze,Pe=$.length,_t=b?$t=>b(gn($t[l.index])):l.index;if(vn(u)){let $t=null;if(!b&&C&&($t=function xw(s,o,u,l){const h=s.cleanup;if(null!=h)for(let p=0;p<h.length-1;p+=2){const _=h[p];if(_===u&&h[p+1]===l){const b=o[7],C=h[p+2];return b.length>C?b[C]:null}"string"==typeof _&&(p+=2)}return null}(s,o,h,l.index)),null!==$t)($t.__ngLastListenerFn__||$t).__ngNextListenerFn__=p,$t.__ngLastListenerFn__=p,X=!1;else{p=w_(l,o,k,p,!1);const on=u.listen(ot,h,p);$.push(p,on),M&&M.push(h,_t,Pe,Pe+1)}}else p=w_(l,o,k,p,!0),ot.addEventListener(h,p,_),$.push(p),M&&M.push(h,_t,Pe,_)}else p=w_(l,o,k,p,!1);const Te=l.outputs;let He;if(X&&null!==Te&&(He=Te[h])){const ze=He.length;if(ze)for(let ot=0;ot<ze;ot+=2){const Ki=o[He[ot]][He[ot+1]].subscribe(p),Is=$.length;$.push(p,Ki),M&&M.push(h,l.index,Is,-(Is+1))}}}(p,h,h[11],_,s,o,!!u,l),Aw}function Ow(s,o,u,l){try{return!1!==u(l)}catch(h){return Hb(s,h),!1}}function w_(s,o,u,l,h){return function p(_){if(_===Function)return l;const b=2&s.flags?dr(s.index,o):o;0==(32&o[2])&&pg(b);let C=Ow(o,0,l,_),D=p.__ngNextListenerFn__;for(;D;)C=Ow(o,0,D,_)&&C,D=D.__ngNextListenerFn__;return h&&!1===C&&(_.preventDefault(),_.returnValue=!1),C}}function Fh(s=1){return function ki(s){return(mt.lFrame.contextLView=function Kd(s,o){for(;s>0;)o=o[15],s--;return o}(s,mt.lFrame.contextLView))[8]}(s)}function Lh(s,o){let u=null;const l=function hb(s){const o=s.attrs;if(null!=o){const u=o.indexOf(5);if(0==(1&u))return o[u+1]}return null}(s);for(let h=0;h<o.length;h++){const p=o[h];if("*"!==p){if(null===l?db(s,p,!0):Gp(l,p))return h}else u=h}return u}function Uh(s){const o=xe()[16][6];if(!o.projection){const l=o.projection=ao(s?s.length:1,null),h=l.slice();let p=o.child;for(;null!==p;){const _=s?Lh(p,s):0;null!==_&&(h[_]?h[_].projectionNext=p:l[_]=p,h[_]=p),p=p.next}}}function Vh(s,o=0,u){const l=xe(),h=zt(),p=sd(h,20+s,16,null,u||null);null===p.projection&&(p.projection=o),_c(),64!=(64&p.flags)&&function RT(s,o,u){ob(o[11],0,o,u,tb(s,u,o),Dy(u.parent||o[6],u,o))}(h,l,p)}function E_(s,o,u){return Bh(s,"",o,"",u),E_}function Bh(s,o,u,l,h){const p=xe(),_=Ah(p,o,u,l);return _!==Ot&&_s(zt(),Vn(),p,s,_,p[11],h,!1),Bh}function Mg(s,o,u,l,h){const p=s[u+1],_=null===o;let b=l?po(p):Ka(p),C=!1;for(;0!==b&&(!1===C||_);){const M=s[b+1];BI(s[b],o)&&(C=!0,s[b+1]=l?Ny(M):Ry(M)),b=l?po(M):Ka(M)}C&&(s[u+1]=l?Ry(p):Ny(p))}function BI(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&Za(s,o)>=0}const br={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Og(s){return s.substring(br.key,br.keyEnd)}function Rg(s,o){const u=br.textEnd;return u===o?-1:(o=br.keyEnd=function jI(s,o,u){for(;o<u&&s.charCodeAt(o)>32;)o++;return o}(s,br.key=o,u),oa(s,o,u))}function oa(s,o,u){for(;o<u&&s.charCodeAt(o)<=32;)o++;return o}function qh(s,o,u){return bs(s,o,u,!1),qh}function fd(s,o){return bs(s,o,null,!0),fd}function O_(s){!function Pr(s,o,u,l){const h=zt(),p=ss(2);h.firstUpdatePass&&R_(h,null,p,l);const _=xe();if(u!==Ot&&ti(_,p,u)){const b=h.data[hr()];if(Zc(b,l)&&!qc(h,p)){let C=l?b.classesWithoutHost:b.stylesWithoutHost;null!==C&&(u=ye(C,u||"")),Tw(h,b,_,u,l)}else!function qI(s,o,u,l,h,p,_,b){h===Ot&&(h=V);let C=0,D=0,M=0<h.length?h[0]:null,k=0<p.length?p[0]:null;for(;null!==M||null!==k;){const $=C<h.length?h[C+1]:void 0,X=D<p.length?p[D+1]:void 0;let He,Te=null;M===k?(C+=2,D+=2,$!==X&&(Te=k,He=X)):null===k||null!==M&&M<k?(C+=2,Te=M):(D+=2,Te=k,He=X),null!==Te&&P_(s,o,u,l,Te,He,_,b),M=C<h.length?h[C]:null,k=D<p.length?p[D]:null}}(h,b,_,_[11],_[p+1],_[p+1]=function hx(s,o,u){if(null==u||""===u)return V;const l=[],h=fs(u);if(Array.isArray(h))for(let p=0;p<h.length;p++)s(l,h[p],!0);else if("object"==typeof h)for(const p in h)h.hasOwnProperty(p)&&s(l,p,h[p]);else"string"==typeof h&&o(l,h);return l}(s,o,u),l,p)}}(Jn,vo,s,!0)}function vo(s,o){for(let u=function dx(s){return function $c(s){br.key=0,br.keyEnd=0,br.value=0,br.valueEnd=0,br.textEnd=s.length}(s),Rg(s,oa(s,0,br.textEnd))}(o);u>=0;u=Rg(o,u))Jn(s,Og(o),!0)}function bs(s,o,u,l){const h=xe(),p=zt(),_=ss(2);p.firstUpdatePass&&R_(p,s,_,l),o!==Ot&&ti(h,_,o)&&P_(p,p.data[hr()],h,h[11],s,h[_+1]=function jw(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=ae(fs(s)))),s}(o,u),l,_)}function qc(s,o){return o>=s.expandoStartIndex}function R_(s,o,u,l){const h=s.data;if(null===h[u+1]){const p=h[hr()],_=qc(s,u);Zc(p,l)&&null===o&&!_&&(o=!1),o=function HI(s,o,u,l){const h=mu(s);let p=l?o.residualClasses:o.residualStyles;if(null===h)0===(l?o.classBindings:o.styleBindings)&&(u=Pg(u=Vw(null,s,o,u,l),o.attrs,l),p=null);else{const _=o.directiveStylingLast;if(-1===_||s[_]!==h)if(u=Vw(h,s,o,u,l),null===p){let C=function Zh(s,o,u){const l=u?o.classBindings:o.styleBindings;if(0!==Ka(l))return s[po(l)]}(s,o,l);void 0!==C&&Array.isArray(C)&&(C=Vw(null,s,o,C[1],l),C=Pg(C,o.attrs,l),function Gh(s,o,u,l){s[po(u?o.classBindings:o.styleBindings)]=l}(s,o,l,C))}else p=function Uw(s,o,u){let l;const h=o.directiveEnd;for(let p=1+o.directiveStylingLast;p<h;p++)l=Pg(l,s[p].hostAttrs,u);return Pg(l,o.attrs,u)}(s,o,l)}return void 0!==p&&(l?o.residualClasses=p:o.residualStyles=p),u}(h,p,o,l),function Fw(s,o,u,l,h,p){let _=p?o.classBindings:o.styleBindings,b=po(_),C=Ka(_);s[l]=u;let M,D=!1;if(Array.isArray(u)){const k=u;M=k[1],(null===M||Za(k,M)>0)&&(D=!0)}else M=u;if(h)if(0!==C){const $=po(s[b+1]);s[l+1]=Wp($,b),0!==$&&(s[$+1]=Py(s[$+1],l)),s[b+1]=function Kp(s,o){return 131071&s|o<<17}(s[b+1],l)}else s[l+1]=Wp(b,0),0!==b&&(s[b+1]=Py(s[b+1],l)),b=l;else s[l+1]=Wp(C,0),0===b?b=l:s[C+1]=Py(s[C+1],l),C=l;D&&(s[l+1]=Ry(s[l+1])),Mg(s,M,l,!0),Mg(s,M,l,!1),function lx(s,o,u,l,h){const p=h?s.residualClasses:s.residualStyles;null!=p&&"string"==typeof o&&Za(p,o)>=0&&(u[l+1]=Ny(u[l+1]))}(o,M,s,l,p),_=Wp(b,C),p?o.classBindings=_:o.styleBindings=_}(h,p,o,u,_,l)}}function Vw(s,o,u,l,h){let p=null;const _=u.directiveEnd;let b=u.directiveStylingLast;for(-1===b?b=u.directiveStart:b++;b<_&&(p=o[b],l=Pg(l,p.hostAttrs,h),p!==s);)b++;return null!==s&&(u.directiveStylingLast=b),l}function Pg(s,o,u){const l=u?1:2;let h=-1;if(null!==o)for(let p=0;p<o.length;p++){const _=o[p];"number"==typeof _?h=_:h===l&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),Jn(s,_,!!u||o[++p]))}return void 0===s?null:s}function P_(s,o,u,l,h,p,_,b){if(!(3&o.type))return;const C=s.data,D=C[b+1];zh(function mb(s){return 1==(1&s)}(D)?Bw(C,o,u,h,Ka(D),_):void 0)||(zh(p)||function gb(s){return 2==(2&s)}(D)&&(p=Bw(C,null,u,h,b,_)),function ub(s,o,u,l,h){const p=vn(s);if(o)h?p?s.addClass(u,l):u.classList.add(l):p?s.removeClass(u,l):u.classList.remove(l);else{let _=-1===l.indexOf("-")?void 0:Xo.DashCase;if(null==h)p?s.removeStyle(u,l,_):u.style.removeProperty(l);else{const b="string"==typeof h&&h.endsWith("!important");b&&(h=h.slice(0,-10),_|=Xo.Important),p?s.setStyle(u,l,h,_):u.style.setProperty(l,h,b?"important":"")}}}(l,_,Qs(hr(),u),h,p))}function Bw(s,o,u,l,h,p){const _=null===o;let b;for(;h>0;){const C=s[h],D=Array.isArray(C),M=D?C[1]:C,k=null===M;let $=u[h+1];$===Ot&&($=k?V:void 0);let X=k?Sc($,l):M===l?$:void 0;if(D&&!zh(X)&&(X=Sc(C,l)),zh(X)&&(b=X,_))return b;const Te=s[h+1];h=_?po(Te):Ka(Te)}if(null!==o){let C=p?o.residualClasses:o.residualStyles;null!=C&&(b=Sc(C,l))}return b}function zh(s){return void 0!==s}function Zc(s,o){return 0!=(s.flags&(o?16:32))}function Hw(s,o=""){const u=xe(),l=zt(),h=s+20,p=l.firstCreatePass?sd(l,h,1,o,null):l.data[h],_=u[h]=function by(s,o){return vn(s)?s.createText(o):s.createTextNode(o)}(u[11],o);ms(l,u,_,p),Br(p,!1)}function Wh(s){return Ng("",s,""),Wh}function Ng(s,o,u){const l=xe(),h=Ah(l,s,o,u);return h!==Ot&&Ja(l,hr(),h),Ng}function Yh(s,o,u){const l=xe();if(ti(l,Ni(),o)){const p=zt(),_=Vn();_s(p,_,l,s,o,function jb(s,o,u){return(null===s||ci(s))&&(u=function pu(s){for(;Array.isArray(s);){if("object"==typeof s[1])return s;s=s[0]}return null}(u[o.index])),u[11]}(mu(p.data),_,l),u,!0)}return Yh}const Gc=void 0;var Ug=["en",[["a","p"],["AM","PM"],Gc],[["AM","PM"],Gc,Gc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Gc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Gc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Gc,"{1} 'at' {0}",Gc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function nD(s){const u=Math.floor(Math.abs(s)),l=s.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===l?1:5}];let zc={};function Vg(s){const o=function tE(s){return s.toLowerCase().replace(/_/g,"-")}(s);let u=eE(o);if(u)return u;const l=o.split("-")[0];if(u=eE(l),u)return u;if("en"===l)return Ug;throw new Error(`Missing locale data for the locale "${s}".`)}function H_(s){return Vg(s)[Et.PluralCase]}function eE(s){return s in zc||(zc[s]=Gt.ng&&Gt.ng.common&&Gt.ng.common.locales&&Gt.ng.common.locales[s]),zc[s]}var Et=(()=>((Et=Et||{})[Et.LocaleId=0]="LocaleId",Et[Et.DayPeriodsFormat=1]="DayPeriodsFormat",Et[Et.DayPeriodsStandalone=2]="DayPeriodsStandalone",Et[Et.DaysFormat=3]="DaysFormat",Et[Et.DaysStandalone=4]="DaysStandalone",Et[Et.MonthsFormat=5]="MonthsFormat",Et[Et.MonthsStandalone=6]="MonthsStandalone",Et[Et.Eras=7]="Eras",Et[Et.FirstDayOfWeek=8]="FirstDayOfWeek",Et[Et.WeekendRange=9]="WeekendRange",Et[Et.DateFormat=10]="DateFormat",Et[Et.TimeFormat=11]="TimeFormat",Et[Et.DateTimeFormat=12]="DateTimeFormat",Et[Et.NumberSymbols=13]="NumberSymbols",Et[Et.NumberFormats=14]="NumberFormats",Et[Et.CurrencyCode=15]="CurrencyCode",Et[Et.CurrencySymbol=16]="CurrencySymbol",Et[Et.CurrencyName=17]="CurrencyName",Et[Et.Currencies=18]="Currencies",Et[Et.Directionality=19]="Directionality",Et[Et.PluralCase=20]="PluralCase",Et[Et.ExtraData=21]="ExtraData",Et))();const $_="en-US";let iD=$_;function nf(s,o,u,l,h){if(s=re(s),Array.isArray(s))for(let p=0;p<s.length;p++)nf(s[p],o,u,l,h);else{const p=zt(),_=xe();let b=cd(s)?s:re(s.provide),C=r_(s);const D=On(),M=1048575&D.providerIndexes,k=D.directiveStart,$=D.providerIndexes>>20;if(cd(s)||!s.multi){const X=new Po(C,h,qs),Te=kr(b,o,h?M:M+$,k);-1===Te?(vt(cs(D,_),p,b),rf(p,s,o.length),o.push(b),D.directiveStart++,D.directiveEnd++,h&&(D.providerIndexes+=1048576),u.push(X),_.push(X)):(u[Te]=X,_[Te]=X)}else{const X=kr(b,o,M+$,k),Te=kr(b,o,M,M+$),He=X>=0&&u[X],ze=Te>=0&&u[Te];if(h&&!ze||!h&&!He){vt(cs(D,_),p,b);const ot=function vD(s,o,u,l,h){const p=new Po(s,u,qs);return p.multi=[],p.index=o,p.componentProviders=0,Nr(p,h,l&&!u),p}(h?av:Xg,u.length,h,l,C);!h&&ze&&(u[Te].providerFactory=ot),rf(p,s,o.length,0),o.push(b),D.directiveStart++,D.directiveEnd++,h&&(D.providerIndexes+=1048576),u.push(ot),_.push(ot)}else rf(p,s,X>-1?X:Te,Nr(u[h?Te:X],C,!h&&l));!h&&l&&ze&&u[Te].componentProviders++}}}function rf(s,o,u,l){const h=cd(o),p=function zb(s){return!!s.useClass}(o);if(h||p){const C=(p?re(o.useClass):o).prototype.ngOnDestroy;if(C){const D=s.destroyHooks||(s.destroyHooks=[]);if(!h&&o.multi){const M=D.indexOf(u);-1===M?D.push(u,[l,C]):D[M+1].push(l,C)}else D.push(u,C)}}}function Nr(s,o,u){return u&&s.componentProviders++,s.multi.push(o)-1}function kr(s,o,u,l){for(let h=u;h<l;h++)if(o[h]===s)return h;return-1}function Xg(s,o,u,l){return uv(this.multi,[])}function av(s,o,u,l){const h=this.multi;let p;if(this.providerFactory){const _=this.providerFactory.componentProviders,b=Eu(u,u[1],this.providerFactory.index,l);p=b.slice(0,_),uv(h,p);for(let C=_;C<b.length;C++)p.push(b[C])}else p=[],uv(h,p);return p}function uv(s,o){for(let u=0;u<s.length;u++)o.push((0,s[u])());return o}function cv(s,o=[]){return u=>{u.providersResolver=(l,h)=>function ov(s,o,u){const l=zt();if(l.firstCreatePass){const h=ci(s);nf(u,l.data,l.blueprint,h,!0),nf(o,l.data,l.blueprint,h,!1)}}(l,h?h(s):s,o)}}class CE{}class dv{resolveComponentFactory(o){throw function lv(s){const o=Error(`No component factory found for ${ae(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let sf=(()=>{class s{}return s.NULL=new dv,s})();function wD(){return nu(On(),xe())}function nu(s,o){return new Yc(lr(s,o))}let Yc=(()=>{class s{constructor(u){this.nativeElement=u}}return s.__NG_ELEMENT_ID__=wD,s})();function hv(s){return s instanceof Yc?s.nativeElement:s}class TE{}let af=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function DE(){const s=xe(),u=dr(On().index,s);return function IE(s){return s[11]}(ui(u)?u:s)}(),s})(),AE=(()=>{class s{}return s.\u0275prov=an({token:s,providedIn:"root",factory:()=>null}),s})();class uf{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const SE=new uf("13.3.6"),fv={};function ru(s,o,u,l,h=!1){for(;null!==u;){const p=o[u.index];if(null!==p&&l.push(gn(p)),Qr(p))for(let b=10;b<p.length;b++){const C=p[b],D=C[1].firstChild;null!==D&&ru(C[1],C,D,l)}const _=u.type;if(8&_)ru(s,o,u.child,l);else if(32&_){const b=ed(u,o);let C;for(;C=b();)l.push(C)}else if(16&_){const b=Sy(o,u);if(Array.isArray(b))l.push(...b);else{const C=Ai(o[16]);ru(C[1],C,b,l,!0)}}u=h?u.projectionNext:u.next}return l}class cf{constructor(o,u){this._lView=o,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,u=o[1];return ru(u,o,u.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(Qr(o)){const u=o[8],l=u?u.indexOf(this):-1;l>-1&&(Cy(o,l),ds(u,l))}this._attachedToViewContainer=!1}J0(this._lView[1],this._lView)}onDestroy(o){bh(this._lView[1],this._lView,null,o)}markForCheck(){pg(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Ky(this._lView[1],this._lView,this.context)}checkNoChanges(){!function aI(s,o,u){Oo(!0);try{Ky(s,o,u)}finally{Oo(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Le(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function dh(s,o){Zi(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Le(902,"");this._appRef=o}}class CD extends cf{constructor(o){super(o),this._view=o}detectChanges(){Lb(this._view)}checkNoChanges(){!function Ub(s){Oo(!0);try{Lb(s)}finally{Oo(!1)}}(this._view)}get context(){return null}}class Hu extends sf{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const u=at(o);return new Qc(u,this.ngModule)}}function pv(s){const o=[];for(let u in s)s.hasOwnProperty(u)&&o.push({propName:s[u],templateName:u});return o}class Qc extends CE{constructor(o,u){super(),this.componentDef=o,this.ngModule=u,this.componentType=o.type,this.selector=function zp(s){return s.map(pb).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!u}get inputs(){return pv(this.componentDef.inputs)}get outputs(){return pv(this.componentDef.outputs)}create(o,u,l,h){const p=(h=h||this.ngModule)?function xE(s,o){return{get:(u,l,h)=>{const p=s.get(u,fv,h);return p!==fv||l===fv?p:o.get(u,l,h)}}}(o,h.injector):o,_=p.get(TE,Ea),b=p.get(AE,null),C=_.createRenderer(null,this.componentDef),D=this.componentDef.selectors[0][0]||"div",M=l?function jy(s,o,u){if(vn(s))return s.selectRootElement(o,u===Wt.ShadowDom);let l="string"==typeof o?s.querySelector(o):o;return l.textContent="",l}(C,l,this.componentDef.encapsulation):wy(_.createRenderer(null,this.componentDef),D,function tm(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(D)),k=this.componentDef.onPush?576:528,$=function tw(s,o){return{components:[],scheduler:s||Up,clean:Bb,playerHandler:o||null,flags:0}}(),X=ag(0,null,null,1,0,null,null,null,null,null),Te=_h(null,X,$,k,null,null,_,C,b,p);let He,ze;Xs(Te);try{const ot=function u_(s,o,u,l,h,p){const _=u[1];u[20]=s;const C=sd(_,20,2,"#host",null),D=C.mergedAttrs=o.hostAttrs;null!==D&&(Ch(C,D,!0),null!==s&&(Bn(h,s,D),null!==C.classes&&qp(h,s,C.classes),null!==C.styles&&cb(h,s,C.styles)));const M=l.createRenderer(s,o),k=_h(u,Mb(o),null,o.onPush?64:16,u[20],C,l,M,p||null,null);return _.firstCreatePass&&(vt(cs(C,u),_,o.type),Zy(_,C),kb(C,u.length,1)),fg(u,k),u[20]=k}(M,this.componentDef,Te,_,C);if(M)if(l)Bn(C,M,["ng-version",SE.full]);else{const{attrs:Pe,classes:_t}=function kT(s){const o=[],u=[];let l=1,h=2;for(;l<s.length;){let p=s[l];if("string"==typeof p)2===h?""!==p&&o.push(p,s[++l]):8===h&&u.push(p);else{if(!fo(h))break;h=p}l++}return{attrs:o,classes:u}}(this.componentDef.selectors[0]);Pe&&Bn(C,M,Pe),_t&&_t.length>0&&qp(C,M,_t.join(" "))}if(ze=Un(X,20),void 0!==u){const Pe=ze.projection=[];for(let _t=0;_t<this.ngContentSelectors.length;_t++){const $t=u[_t];Pe.push(null!=$t?Array.from($t):null)}}He=function na(s,o,u,l,h){const p=u[1],_=function Pb(s,o,u){const l=On();s.firstCreatePass&&(u.providersResolver&&u.providersResolver(u),wh(s,l,o,ea(s,o,1,null),u));const h=Eu(o,s,l.directiveStart,l);Di(h,o);const p=lr(l,o);return p&&Di(p,o),h}(p,u,o);if(l.components.push(_),s[8]=_,h&&h.forEach(C=>C(_,o)),o.contentQueries){const C=On();o.contentQueries(1,_,C.directiveStart)}const b=On();return!p.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(os(b.index),Nb(u[1],b,0,b.directiveStart,b.directiveEnd,o),dg(o,_)),_}(ot,this.componentDef,Te,$,[EI]),Qa(X,Te,null)}finally{Ro()}return new OE(this.componentType,He,nu(ze,Te),Te,ze)}}class OE extends class bD{}{constructor(o,u,l,h,p){super(),this.location=l,this._rootLView=h,this._tNode=p,this.instance=u,this.hostView=this.changeDetectorRef=new CD(h),this.componentType=o}get injector(){return new Vo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}class iu{}class gv{}const $u=new Map;class hf extends iu{constructor(o,u){super(),this._parent=u,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Hu(this);const l=Bt(o);this._bootstrapComponents=Bs(l.bootstrap),this._r3Injector=t_(o,u,[{provide:iu,useValue:this},{provide:sf,useValue:this.componentFactoryResolver}],ae(o)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(o)}get(o,u=Hs.THROW_IF_NOT_FOUND,l=gt.Default){return o===Hs||o===iu||o===Xy?this:this._r3Injector.get(o,u,l)}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class Jc extends gv{constructor(o){super(),this.moduleType=o,null!==Bt(o)&&function df(s){const o=new Set;!function u(l){const h=Bt(l,!0),p=h.id;null!==p&&(function mv(s,o,u){if(o&&o!==u)throw new Error(`Duplicate module registered for ${s} - ${ae(o)} vs ${ae(o.name)}`)}(p,$u.get(p),l),$u.set(p,l));const _=Bs(h.imports);for(const b of _)o.has(b)||(o.add(b),u(b))}(s)}(o)}create(o){return new hf(this.moduleType,o)}}function rm(s,o,u,l,h){return function vd(s,o,u,l,h,p,_){const b=o+u;return function Uu(s,o,u,l){const h=ti(s,o,u);return ti(s,o+1,l)||h}(s,b,h,p)?$s(s,b+2,_?l.call(_,h,p):l(h,p)):_d(s,b+2)}(xe(),er(),s,o,u,l,h)}function _d(s,o){const u=s[o];return u===Ot?void 0:u}function om(s,o){const u=zt();let l;const h=s+20;u.firstCreatePass?(l=function bd(s,o){if(o)for(let u=o.length-1;u>=0;u--){const l=o[u];if(s===l.name)return l}}(o,u.pipeRegistry),u.data[h]=l,l.onDestroy&&(u.destroyHooks||(u.destroyHooks=[])).push(h,l.onDestroy)):l=u.data[h];const p=l.factory||(l.factory=li(l.type)),_=nn(qs);try{const b=wu(!1),C=p();return wu(b),function ox(s,o,u,l){u>=s.data.length&&(s.data[u]=null,s.blueprint[u]=null),o[u]=l}(u,xe(),h,C),C}finally{nn(_)}}function am(s,o,u){const l=s+20,h=xe(),p=is(h,l);return function ws(s,o){return s[1].data[o].pure}(h,l)?function pf(s,o,u,l,h,p){const _=o+u;return ti(s,_,h)?$s(s,_+1,p?l.call(p,h):l(h)):_d(s,_+1)}(h,er(),o,p.transform,u,p):p.transform(u)}function wd(s){return o=>{setTimeout(s,void 0,o)}}const Es=class um extends a.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,u,l){var h,p,_;let b=o,C=u||(()=>null),D=l;if(o&&"object"==typeof o){const k=o;b=null===(h=k.next)||void 0===h?void 0:h.bind(k),C=null===(p=k.error)||void 0===p?void 0:p.bind(k),D=null===(_=k.complete)||void 0===_?void 0:_.bind(k)}this.__isAsync&&(C=wd(C),b&&(b=wd(b)),D&&(D=wd(D)));const M=super.subscribe({next:b,error:C,complete:D});return o instanceof U.w0&&o.add(M),M}};function BE(){return this._results[ia()]()}class Pn{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=ia(),l=Pn.prototype;l[u]||(l[u]=BE)}get changes(){return this._changes||(this._changes=new Es)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,u){return this._results.reduce(o,u)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,u){const l=this;l.dirty=!1;const h=_r(o);(this._changesDetected=!function Dc(s,o,u){if(s.length!==o.length)return!1;for(let l=0;l<s.length;l++){let h=s[l],p=o[l];if(u&&(h=u(h),p=u(p)),p!==h)return!1}return!0}(l._results,h,u))&&(l._results=h,l.length=h.length,l.last=h[this.length-1],l.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Zu=(()=>{class s{}return s.__NG_ELEMENT_ID__=gf,s})();const SD=Zu,xD=class extends SD{constructor(o,u,l){super(),this._declarationLView=o,this._declarationTContainer=u,this.elementRef=l}createEmbeddedView(o){const u=this._declarationTContainer.tViews,l=_h(this._declarationLView,u,o,16,null,u.declTNode,null,null,null,null);l[17]=this._declarationLView[this._declarationTContainer.index];const p=this._declarationLView[19];return null!==p&&(l[19]=p.createEmbeddedView(u)),Qa(u,l,o),new cf(l)}};function gf(){return Gu(On(),xe())}function Gu(s,o){return 4&s.type?new xD(o,s,nu(s,o)):null}let cm=(()=>{class s{}return s.__NG_ELEMENT_ID__=jE,s})();function jE(){return Ed(On(),xe())}const MD=cm,HE=class extends MD{constructor(o,u,l){super(),this._lContainer=o,this._hostTNode=u,this._hostLView=l}get element(){return nu(this._hostTNode,this._hostLView)}get injector(){return new Vo(this._hostTNode,this._hostLView)}get parentInjector(){const o=Fi(this._hostTNode,this._hostLView);if(ko(o)){const u=Lo(o,this._hostLView),l=Fo(o);return new Vo(u[1].data[l+8],u)}return new Vo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const u=$E(this._lContainer);return null!==u&&u[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,u,l){const h=o.createEmbeddedView(u||{});return this.insert(h,l),h}createComponent(o,u,l,h,p){const _=o&&!function Ha(s){return"function"==typeof s}(o);let b;if(_)b=u;else{const k=u||{};b=k.index,l=k.injector,h=k.projectableNodes,p=k.ngModuleRef}const C=_?o:new Qc(at(o)),D=l||this.parentInjector;if(!p&&null==C.ngModule){const $=(_?D:this.parentInjector).get(iu,null);$&&(p=$)}const M=C.create(D,h,void 0,p);return this.insert(M.hostView,b),M}insert(o,u){const l=o._lView,h=l[1];if(function gc(s){return Qr(s[3])}(l)){const M=this.indexOf(o);if(-1!==M)this.detach(M);else{const k=l[3],$=new HE(k,k[6],k[3]);$.detach($.indexOf(o))}}const p=this._adjustIndex(u),_=this._lContainer;!function xT(s,o,u,l){const h=10+l,p=u.length;l>0&&(u[h-1][4]=o),l<p-10?(o[4]=u[h],qo(u,10+l,o)):(u.push(o),o[4]=null),o[3]=u;const _=o[17];null!==_&&u!==_&&function MT(s,o){const u=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===u?s[9]=[o]:u.push(o)}(_,o);const b=o[19];null!==b&&b.insertView(s),o[2]|=128}(h,l,_,p);const b=$p(p,_),C=l[11],D=jp(C,_[7]);return null!==D&&function Ey(s,o,u,l,h,p){l[0]=h,l[6]=o,Zi(s,l,u,1,h,p)}(h,_[6],C,l,D,b),o.attachToViewContainerRef(),qo(_v(_),p,o),o}move(o,u){return this.insert(o,u)}indexOf(o){const u=$E(this._lContainer);return null!==u?u.indexOf(o):-1}remove(o){const u=this._adjustIndex(o,-1),l=Cy(this._lContainer,u);l&&(ds(_v(this._lContainer),u),J0(l[1],l))}detach(o){const u=this._adjustIndex(o,-1),l=Cy(this._lContainer,u);return l&&null!=ds(_v(this._lContainer),u)?new cf(l):null}_adjustIndex(o,u=0){return null==o?this.length+u:o}};function $E(s){return s[8]}function _v(s){return s[8]||(s[8]=[])}function Ed(s,o){let u;const l=o[s.index];if(Qr(l))u=l;else{let h;if(8&s.type)h=gn(l);else{const p=o[11];h=p.createComment("");const _=lr(s,o);kc(p,jp(p,_),h,function nd(s,o){return vn(s)?s.nextSibling(o):o.nextSibling}(p,_),!1)}o[s.index]=u=Fb(l,o,h,s),fg(o,u)}return new HE(u,s,o)}class lm{constructor(o){this.queryList=o,this.matches=null}clone(){return new lm(this.queryList)}setDirty(){this.queryList.setDirty()}}class Wu{constructor(o=[]){this.queries=o}createEmbeddedView(o){const u=o.queries;if(null!==u){const l=null!==o.contentQueries?o.contentQueries[0]:u.length,h=[];for(let p=0;p<l;p++){const _=u.getByIndex(p);h.push(this.queries[_.indexInDeclarationView].clone())}return new Wu(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let u=0;u<this.queries.length;u++)null!==mm(o,u).matches&&this.queries[u].setDirty()}}class ZE{constructor(o,u,l=null){this.predicate=o,this.flags=u,this.read=l}}class vv{constructor(o=[]){this.queries=o}elementStart(o,u){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(o,u)}elementEnd(o){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(o)}embeddedTView(o){let u=null;for(let l=0;l<this.length;l++){const h=null!==u?u.length:0,p=this.getByIndex(l).embeddedTView(o,h);p&&(p.indexInDeclarationView=l,null!==u?u.push(p):u=[p])}return null!==u?new vv(u):null}template(o,u){for(let l=0;l<this.queries.length;l++)this.queries[l].template(o,u)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class dm{constructor(o,u=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(o,u){this.isApplyingToNode(u)&&this.matchTNode(o,u)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,u){this.elementStart(o,u)}embeddedTView(o,u){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,u),new dm(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let l=o.parent;for(;null!==l&&8&l.type&&l.index!==u;)l=l.parent;return u===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(o,u){const l=this.metadata.predicate;if(Array.isArray(l))for(let h=0;h<l.length;h++){const p=l[h];this.matchTNodeWithReadOption(o,u,RD(u,p)),this.matchTNodeWithReadOption(o,u,Va(u,o,p,!1,!1))}else l===Zu?4&u.type&&this.matchTNodeWithReadOption(o,u,-1):this.matchTNodeWithReadOption(o,u,Va(u,o,l,!1,!1))}matchTNodeWithReadOption(o,u,l){if(null!==l){const h=this.metadata.read;if(null!==h)if(h===Yc||h===cm||h===Zu&&4&u.type)this.addMatch(u.index,-2);else{const p=Va(u,o,h,!1,!1);null!==p&&this.addMatch(u.index,p)}else this.addMatch(u.index,l)}}addMatch(o,u){null===this.matches?this.matches=[o,u]:this.matches.push(o,u)}}function RD(s,o){const u=s.localNames;if(null!==u)for(let l=0;l<u.length;l+=2)if(u[l]===o)return u[l+1];return null}function zE(s,o,u,l){return-1===u?function GE(s,o){return 11&s.type?nu(s,o):4&s.type?Gu(s,o):null}(o,s):-2===u?function bv(s,o,u){return u===Yc?nu(o,s):u===Zu?Gu(o,s):u===cm?Ed(o,s):void 0}(s,o,l):Eu(s,s[1],u,o)}function hm(s,o,u,l){const h=o[19].queries[l];if(null===h.matches){const p=s.data,_=u.matches,b=[];for(let C=0;C<_.length;C+=2){const D=_[C];b.push(D<0?null:zE(o,p[D],_[C+1],u.metadata.read))}h.matches=b}return h.matches}function fm(s,o,u,l){const h=s.queries.getByIndex(u),p=h.matches;if(null!==p){const _=hm(s,o,h,u);for(let b=0;b<p.length;b+=2){const C=p[b];if(C>0)l.push(_[b/2]);else{const D=p[b+1],M=o[-C];for(let k=10;k<M.length;k++){const $=M[k];$[17]===$[3]&&fm($[1],$,D,l)}if(null!==M[9]){const k=M[9];for(let $=0;$<k.length;$++){const X=k[$];fm(X[1],X,D,l)}}}}}return l}function wv(s){const o=xe(),u=zt(),l=Pa();bc(l+1);const h=mm(u,l);if(s.dirty&&Mo(o)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const p=h.crossesNgTemplate?fm(u,o,l,[]):hm(u,o,h,l);s.reset(p,hv),s.notifyOnChanges()}return!0}return!1}function pm(s,o,u){const l=zt();l.firstCreatePass&&(Cd(l,new ZE(s,o,u),-1),2==(2&o)&&(l.staticViewQueries=!0)),mf(l,xe(),o)}function WE(s,o,u,l){const h=zt();if(h.firstCreatePass){const p=On();Cd(h,new ZE(o,u,l),p.index),function gm(s,o){const u=s.contentQueries||(s.contentQueries=[]);o!==(u.length?u[u.length-1]:-1)&&u.push(s.queries.length-1,o)}(h,s),2==(2&u)&&(h.staticContentQueries=!0)}mf(h,xe(),u)}function KE(){return function PD(s,o){return s[19].queries[o].queryList}(xe(),Pa())}function mf(s,o,u){const l=new Pn(4==(4&u));bh(s,o,l,l.destroy),null===o[19]&&(o[19]=new Wu),o[19].queries.push(new lm(l))}function Cd(s,o,u){null===s.queries&&(s.queries=new vv),s.queries.track(new dm(o,u))}function mm(s,o){return s.queries.getByIndex(o)}function Ev(s,o){return Gu(s,o)}function vm(...s){}const $r=new $n("Application Initializer");let Yu=(()=>{class s{constructor(u){this.appInits=u,this.resolve=vm,this.reject=vm,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,h)=>{this.resolve=l,this.reject=h})}runInitializers(){if(this.initialized)return;const u=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const p=this.appInits[h]();if(Dw(p))u.push(p);else if(UI(p)){const _=new Promise((b,C)=>{p.subscribe({complete:b,error:C})});u.push(_)}}Promise.all(u).then(()=>{l()}).catch(h=>{this.reject(h)}),0===u.length&&l(),this.initialized=!0}}return s.\u0275fac=function(u){return new(u||s)(Se($r,8))},s.\u0275prov=an({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const su=new $n("AppId",{providedIn:"root",factory:function bm(){return`${Be()}${Be()}${Be()}`}});function Be(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const pr=new $n("Platform Initializer"),Ef=new $n("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),wm=new $n("appBootstrapListener");let xt=(()=>{class s{log(u){console.log(u)}warn(u){console.warn(u)}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=an({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const Je=new $n("LocaleId",{providedIn:"root",factory:()=>Dt(Je,gt.Optional|gt.SkipSelf)||function HD(){return"undefined"!=typeof $localize&&$localize.locale||$_}()}),pe=new $n("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class qD{constructor(o,u){this.ngModuleFactory=o,this.componentFactories=u}}let ZD=(()=>{class s{compileModuleSync(u){return new Jc(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const l=this.compileModuleSync(u),p=Bs(Bt(u).declarations).reduce((_,b)=>{const C=at(b);return C&&_.push(new Qc(C)),_},[]);return new qD(l,p)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=an({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const zD=(()=>Promise.resolve(0))();function Em(s){"undefined"==typeof Zone?zD.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class ca{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Es(!1),this.onMicrotaskEmpty=new Es(!1),this.onStable=new Es(!1),this.onError=new Es(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!l&&u,h.shouldCoalesceRunChangeDetection=l,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function WD(){let s=Gt.requestAnimationFrame,o=Gt.cancelAnimationFrame;if("undefined"!=typeof Zone&&s&&o){const u=s[Zone.__symbol__("OriginalDelegate")];u&&(s=u);const l=o[Zone.__symbol__("OriginalDelegate")];l&&(o=l)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function Ht(s){const o=()=>{!function oC(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(Gt,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,Qu(s),s.isCheckStableRunning=!0,Lv(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),Qu(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,l,h,p,_,b)=>{try{return Uv(s),u.invokeTask(h,p,_,b)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||s.shouldCoalesceRunChangeDetection)&&o(),rr(s)}},onInvoke:(u,l,h,p,_,b,C)=>{try{return Uv(s),u.invoke(h,p,_,b,C)}finally{s.shouldCoalesceRunChangeDetection&&o(),rr(s)}},onHasTask:(u,l,h,p)=>{u.hasTask(h,p),l===h&&("microTask"==p.change?(s._hasPendingMicrotasks=p.microTask,Qu(s),Lv(s)):"macroTask"==p.change&&(s.hasPendingMacrotasks=p.macroTask))},onHandleError:(u,l,h,p)=>(u.handleError(h,p),s.runOutsideAngular(()=>s.onError.emit(p)),!1)})}(h)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ca.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(ca.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(o,u,l){return this._inner.run(o,u,l)}runTask(o,u,l,h){const p=this._inner,_=p.scheduleEventTask("NgZoneEvent: "+h,o,Ts,vm,vm);try{return p.runTask(_,u,l)}finally{p.cancelTask(_)}}runGuarded(o,u,l){return this._inner.runGuarded(o,u,l)}runOutsideAngular(o){return this._outer.run(o)}}const Ts={};function Lv(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function Qu(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function Uv(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function rr(s){s._nesting--,Lv(s)}class It{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Es,this.onMicrotaskEmpty=new Es,this.onStable=new Es,this.onError=new Es}run(o,u,l){return o.apply(u,l)}runGuarded(o,u,l){return o.apply(u,l)}runOutsideAngular(o){return o()}runTask(o,u,l,h){return o.apply(u,l)}}let Vv=(()=>{class s{constructor(u){this._ngZone=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ca.assertNotInAngularZone(),Em(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Em(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(u)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,l,h){let p=-1;l&&l>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==p),u(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:u,timeoutId:p,updateCb:h})}whenStable(u,l,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,l,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(u,l,h){return[]}}return s.\u0275fac=function(u){return new(u||s)(Se(ca))},s.\u0275prov=an({token:s,factory:s.\u0275fac}),s})(),rl=(()=>{class s{constructor(){this._applications=new Map,sn.addToWindow(this)}registerApplication(u,l){this._applications.set(u,l)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,l=!0){return sn.findTestabilityInTree(this,u,l)}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=an({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();class aC{addToWindow(o){}findTestabilityInTree(o,u,l){return null}}function Cf(s){sn=s}let sn=new aC,il=null;const Er=new $n("AllowMultipleToken"),sl=new $n("PlatformOnDestroy");class Ju{constructor(o,u){this.name=o,this.token=u}}function Xu(s,o,u=[]){const l=`Platform: ${o}`,h=new $n(l);return(p=[])=>{let _=jv();if(!_||_.injector.get(Er,!1)){const b=[...u,...p,{provide:h,useValue:!0}];s?s(b):function ir(s){if(il&&!il.get(Er,!1))throw new Le(400,"");il=s;const o=s.get(la),u=s.get(pr,null);u&&u.forEach(l=>l())}(function uC(s=[],o){return Hs.create({name:o,providers:[{provide:Th,useValue:"platform"},{provide:sl,useValue:()=>il=null},...s]})}(b,l))}return function Bv(s){const o=jv();if(!o)throw new Le(401,"");return o}()}}function jv(){var s;return null!==(s=null==il?void 0:il.get(la))&&void 0!==s?s:null}let la=(()=>{class s{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,l){const b=function Tf(s,o){let u;return u="noop"===s?new It:("zone.js"===s?void 0:s)||new ca({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==o?void 0:o.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==o?void 0:o.ngZoneRunCoalescing)}),u}(l?l.ngZone:void 0,{ngZoneEventCoalescing:l&&l.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:l&&l.ngZoneRunCoalescing||!1}),C=[{provide:ca,useValue:b}];return b.run(()=>{const D=Hs.create({providers:C,parent:this.injector,name:u.moduleType.name}),M=u.create(D),k=M.injector.get(xu,null);if(!k)throw new Le(402,"");return b.runOutsideAngular(()=>{const $=b.onError.subscribe({next:X=>{k.handleError(X)}});M.onDestroy(()=>{da(this._modules,M),$.unsubscribe()})}),function If(s,o,u){try{const l=u();return Dw(l)?l.catch(h=>{throw o.runOutsideAngular(()=>s.handleError(h)),h}):l}catch(l){throw o.runOutsideAngular(()=>s.handleError(l)),l}}(k,b,()=>{const $=M.injector.get(Yu);return $.runInitializers(),$.donePromise.then(()=>(function bo(s){qt(s,"Expected localeId to be defined"),"string"==typeof s&&(iD=s.toLowerCase().replace(/_/g,"-"))}(M.injector.get(Je,$_)||$_),this._moduleDoBootstrap(M),M))})})}bootstrapModule(u,l=[]){const h=Hv({},l);return function KD(s,o,u){const l=new Jc(u);return Promise.resolve(l)}(0,0,u).then(p=>this.bootstrapModuleFactory(p,h))}_moduleDoBootstrap(u){const l=u.injector.get(Ye);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(h=>l.bootstrap(h));else{if(!u.instance.ngDoBootstrap)throw new Le(403,"");u.instance.ngDoBootstrap(l)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Le(404,"");this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l());const u=this._injector.get(sl,null);null==u||u(),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(u){return new(u||s)(Se(Hs))},s.\u0275prov=an({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function Hv(s,o){return Array.isArray(o)?o.reduce(Hv,s):Object.assign(Object.assign({},s),o)}let Ye=(()=>{class s{constructor(u,l,h,p){this._zone=u,this._injector=l,this._exceptionHandler=h,this._initStatus=p,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const _=new R.y(C=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{C.next(this._stable),C.complete()})}),b=new R.y(C=>{let D;this._zone.runOutsideAngular(()=>{D=this._zone.onStable.subscribe(()=>{ca.assertNotInAngularZone(),Em(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,C.next(!0))})})});const M=this._zone.onUnstable.subscribe(()=>{ca.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{C.next(!1)}))});return()=>{D.unsubscribe(),M.unsubscribe()}});this.isStable=(0,se.T)(_,b.pipe((0,oe.B)()))}bootstrap(u,l){if(!this._initStatus.done)throw new Le(405,"");let h;h=u instanceof CE?u:this._injector.get(sf).resolveComponentFactory(u),this.componentTypes.push(h.componentType);const p=function YD(s){return s.isBoundToModule}(h)?void 0:this._injector.get(iu),b=h.create(Hs.NULL,[],l||h.selector,p),C=b.location.nativeElement,D=b.injector.get(Vv,null),M=D&&b.injector.get(rl);return D&&M&&M.registerApplication(C,D),b.onDestroy(()=>{this.detachView(b.hostView),da(this.components,b),M&&M.unregisterApplication(C)}),this._loadComponent(b),b}tick(){if(this._runningTick)throw new Le(101,"");try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const l=u;this._views.push(l),l.attachToAppRef(this)}detachView(u){const l=u;da(this._views,l),l.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u),this._injector.get(wm,[]).concat(this._bootstrapListeners).forEach(h=>h(u))}ngOnDestroy(){this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return s.\u0275fac=function(u){return new(u||s)(Se(ca),Se(Hs),Se(xu),Se(Yu))},s.\u0275prov=an({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function da(s,o){const u=s.indexOf(o);u>-1&&s.splice(u,1)}let wo=!0,Ad=!1;function ec(){return Ad=!0,wo}function cC(){if(Ad)throw new Error("Cannot enable prod mode after platform setup.");wo=!1}let $v=(()=>{class s{}return s.__NG_ELEMENT_ID__=Sf,s})();function Sf(s){return function dC(s,o,u){if(uu(s)&&!u){const l=dr(s.index,o);return new cf(l,l)}return 47&s.type?new cf(o[16],o):null}(On(),xe(),16==(16&s))}class Zr{constructor(){}supports(o){return Uc(o)}create(o){return new fC(o)}}const Nn=(s,o)=>o;class fC{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||Nn}forEachItem(o){let u;for(u=this._itHead;null!==u;u=u._next)o(u)}forEachOperation(o){let u=this._itHead,l=this._removalsHead,h=0,p=null;for(;u||l;){const _=!l||u&&u.currentIndex<nc(l,h,p)?u:l,b=nc(_,h,p),C=_.currentIndex;if(_===l)h--,l=l._nextRemoved;else if(u=u._next,null==_.previousIndex)h++;else{p||(p=[]);const D=b-h,M=C-h;if(D!=M){for(let $=0;$<D;$++){const X=$<p.length?p[$]:p[$]=0,Te=X+$;M<=Te&&Te<D&&(p[$]=X+1)}p[_.previousIndex]=M-D}}b!==C&&o(_,b,C)}}forEachPreviousItem(o){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)o(u)}forEachAddedItem(o){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)o(u)}forEachMovedItem(o){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)o(u)}forEachRemovedItem(o){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)o(u)}forEachIdentityChange(o){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)o(u)}diff(o){if(null==o&&(o=[]),!Uc(o))throw new Le(900,"");return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,p,_,u=this._itHead,l=!1;if(Array.isArray(o)){this.length=o.length;for(let b=0;b<this.length;b++)p=o[b],_=this._trackByFn(b,p),null!==u&&Object.is(u.trackById,_)?(l&&(u=this._verifyReinsertion(u,p,_,b)),Object.is(u.item,p)||this._addIdentityChange(u,p)):(u=this._mismatch(u,p,_,b),l=!0),u=u._next}else h=0,function _g(s,o){if(Array.isArray(s))for(let u=0;u<s.length;u++)o(s[u]);else{const u=s[ia()]();let l;for(;!(l=u.next()).done;)o(l.value)}}(o,b=>{_=this._trackByFn(h,b),null!==u&&Object.is(u.trackById,_)?(l&&(u=this._verifyReinsertion(u,b,_,h)),Object.is(u.item,b)||this._addIdentityChange(u,b)):(u=this._mismatch(u,b,_,h),l=!0),u=u._next,h++}),this.length=h;return this._truncate(u),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,u,l,h){let p;return null===o?p=this._itTail:(p=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(o.item,u)||this._addIdentityChange(o,u),this._reinsertAfter(o,p,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(l,h))?(Object.is(o.item,u)||this._addIdentityChange(o,u),this._moveAfter(o,p,h)):o=this._addAfter(new Sd(u,l),p,h),o}_verifyReinsertion(o,u,l,h){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==p?o=this._reinsertAfter(p,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const u=o._next;this._addToRemovals(this._unlink(o)),o=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,u,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,p=o._nextRemoved;return null===h?this._removalsHead=p:h._nextRemoved=p,null===p?this._removalsTail=h:p._prevRemoved=h,this._insertAfter(o,u,l),this._addToMoves(o,l),o}_moveAfter(o,u,l){return this._unlink(o),this._insertAfter(o,u,l),this._addToMoves(o,l),o}_addAfter(o,u,l){return this._insertAfter(o,u,l),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,u,l){const h=null===u?this._itHead:u._next;return o._next=h,o._prev=u,null===h?this._itTail=o:h._prev=o,null===u?this._itHead=o:u._next=o,null===this._linkedRecords&&(this._linkedRecords=new zv),this._linkedRecords.put(o),o.currentIndex=l,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const u=o._prev,l=o._next;return null===u?this._itHead=l:u._next=l,null===l?this._itTail=u:l._prev=u,o}_addToMoves(o,u){return o.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new zv),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,u){return o.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class Sd{constructor(o,u){this.item=o,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class tA{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,u){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===u||u<=l.currentIndex)&&Object.is(l.trackById,o))return l;return null}remove(o){const u=o._prevDup,l=o._nextDup;return null===u?this._head=l:u._nextDup=l,null===l?this._tail=u:l._prevDup=u,null===this._head}}class zv{constructor(){this.map=new Map}put(o){const u=o.trackById;let l=this.map.get(u);l||(l=new tA,this.map.set(u,l)),l.add(o)}get(o,u){const h=this.map.get(o);return h?h.get(o,u):null}remove(o){const u=o.trackById;return this.map.get(u).remove(o)&&this.map.delete(u),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function nc(s,o,u){const l=s.previousIndex;if(null===l)return l;let h=0;return u&&l<u.length&&(h=u[l]),l+o+h}class pC{constructor(){}supports(o){return o instanceof Map||vg(o)}create(){return new Rf}}class Rf{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let u;for(u=this._mapHead;null!==u;u=u._next)o(u)}forEachPreviousItem(o){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)o(u)}forEachChangedItem(o){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)o(u)}forEachAddedItem(o){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)o(u)}forEachRemovedItem(o){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)o(u)}diff(o){if(o){if(!(o instanceof Map||vg(o)))throw new Le(900,"")}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(o,(l,h)=>{if(u&&u.key===h)this._maybeAddToChanges(u,l),this._appendAfter=u,u=u._next;else{const p=this._getOrCreateRecordForKey(h,l);u=this._insertBeforeOrAppend(u,p)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let l=u;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,u){if(o){const l=o._prev;return u._next=o,u._prev=l,o._prev=u,l&&(l._next=u),o===this._mapHead&&(this._mapHead=u),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(o,u){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,u);const p=h._prev,_=h._next;return p&&(p._next=_),_&&(_._prev=p),h._next=null,h._prev=null,h}const l=new Sm(o);return this._records.set(o,l),l.currentValue=u,this._addToAdditions(l),l}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,u){Object.is(u,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=u,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,u){o instanceof Map?o.forEach(u):Object.keys(o).forEach(l=>u(o[l],l))}}class Sm{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Pf(){return new xm([new Zr])}let xm=(()=>{class s{constructor(u){this.factories=u}static create(u,l){if(null!=l){const h=l.factories.slice();u=u.concat(h)}return new s(u)}static extend(u){return{provide:s,useFactory:l=>s.create(u,l||Pf()),deps:[[s,new Hi,new co]]}}find(u){const l=this.factories.find(h=>h.supports(u));if(null!=l)return l;throw new Le(901,"")}}return s.\u0275prov=an({token:s,providedIn:"root",factory:Pf}),s})();function Gr(){return new Wv([new pC])}let Wv=(()=>{class s{constructor(u){this.factories=u}static create(u,l){if(l){const h=l.factories.slice();u=u.concat(h)}return new s(u)}static extend(u){return{provide:s,useFactory:l=>s.create(u,l||Gr()),deps:[[s,new Hi,new co]]}}find(u){const l=this.factories.find(p=>p.supports(u));if(l)return l;throw new Le(901,"")}}return s.\u0275prov=an({token:s,providedIn:"root",factory:Gr}),s})();const oA=Xu(null,"core",[]);let aA=(()=>{class s{constructor(u){}}return s.\u0275fac=function(u){return new(u||s)(Se(Ye))},s.\u0275mod=ue({type:s}),s.\u0275inj=tn({}),s})()},3942:(et,Ie,P)=>{P.d(Ie,{Z:()=>Le});var a=P(2090),U=P(4859),R=P(9681),se=P(1877);class oe{constructor(ge,De){this._delegate=ge,this.firebase=De,(0,R._addComponent)(ge,new U.wA("app-compat",()=>this,"PUBLIC")),this.container=ge.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ge){this._delegate.automaticDataCollectionEnabled=ge}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ge=>{this._delegate.checkDestroyed(),ge()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,R.deleteApp)(this._delegate)))}_getService(ge,De=R._DEFAULT_ENTRY_NAME){var Ze;this._delegate.checkDestroyed();const qe=this._delegate.container.getProvider(ge);return!qe.isInitialized()&&"EXPLICIT"===(null===(Ze=qe.getComponent())||void 0===Ze?void 0:Ze.instantiationMode)&&qe.initialize(),qe.getImmediate({identifier:De})}_removeServiceInstance(ge,De=R._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ge).clearInstance(De)}_addComponent(ge){(0,R._addComponent)(this._delegate,ge)}_addOrOverwriteComponent(ge){(0,R._addOrOverwriteComponent)(this._delegate,ge)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const de=new a.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),q=function ye(){const $e=function ae($e){const ge={},De={__esModule:!0,initializeApp:function Oe(ee,he={}){const Ce=R.initializeApp(ee,he);if((0,a.r3)(ge,Ce.name))return ge[Ce.name];const Y=new $e(Ce,De);return ge[Ce.name]=Y,Y},app:qe,registerVersion:R.registerVersion,setLogLevel:R.setLogLevel,onLog:R.onLog,apps:null,SDK_VERSION:R.SDK_VERSION,INTERNAL:{registerComponent:function Ee(ee){const he=ee.name,Ce=he.replace("-compat","");if(R._registerComponent(ee)&&"PUBLIC"===ee.type){const Y=(te=qe())=>{if("function"!=typeof te[Ce])throw de.create("invalid-app-argument",{appName:he});return te[Ce]()};void 0!==ee.serviceProps&&(0,a.ZB)(Y,ee.serviceProps),De[Ce]=Y,$e.prototype[Ce]=function(...te){return this._getService.bind(this,he).apply(this,ee.multipleInstances?te:[])}}return"PUBLIC"===ee.type?De[Ce]:null},removeApp:function Ze(ee){delete ge[ee]},useAsService:function We(ee,he){return"serverAuth"===he?null:he},modularAPIs:R}};function qe(ee){if(!(0,a.r3)(ge,ee=ee||R._DEFAULT_ENTRY_NAME))throw de.create("no-app",{appName:ee});return ge[ee]}return De.default=De,Object.defineProperty(De,"apps",{get:function Re(){return Object.keys(ge).map(ee=>ge[ee])}}),qe.App=$e,De}(oe);return $e.INTERNAL=Object.assign(Object.assign({},$e.INTERNAL),{createFirebaseNamespace:ye,extendNamespace:function ge(De){(0,a.ZB)($e,De)},createSubscribe:a.ne,ErrorFactory:a.LL,deepExtend:a.ZB}),$e}(),j=new se.Yd("@firebase/app-compat");if((0,a.jU)()&&void 0!==self.firebase){j.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const $e=self.firebase.SDK_VERSION;$e&&$e.indexOf("LITE")>=0&&j.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Le=q;!function Me($e){(0,R.registerVersion)("@firebase/app-compat","0.1.25",$e)}()},9681:(et,Ie,P)=>{P.r(Ie),P.d(Ie,{FirebaseError:()=>se.ZR,SDK_VERSION:()=>si,_DEFAULT_ENTRY_NAME:()=>qt,_addComponent:()=>_n,_addOrOverwriteComponent:()=>an,_apps:()=>hn,_clearComponents:()=>Si,_components:()=>kn,_getProvider:()=>tn,_registerComponent:()=>Zt,_removeServiceInstance:()=>In,deleteApp:()=>gt,getApp:()=>Wn,getApps:()=>Mi,initializeApp:()=>bi,onLog:()=>nn,registerVersion:()=>Tn,setLogLevel:()=>Ir});var a=P(5861),U=P(4859),R=P(1877),se=P(2090),oe=P(8766);class me{constructor(J){this.container=J}getPlatformInfoString(){return this.container.getProviders().map(Ne=>{if(function de(H){const J=H.getComponent();return"VERSION"===(null==J?void 0:J.type)}(Ne)){const Xe=Ne.getImmediate();return`${Xe.library}/${Xe.version}`}return null}).filter(Ne=>Ne).join(" ")}}const ae="@firebase/app",q=new R.Yd("@firebase/app"),qt="[DEFAULT]",Qe={[ae]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},hn=new Map,kn=new Map;function _n(H,J){try{H.container.addComponent(J)}catch(Ne){q.debug(`Component ${J.name} failed to register with FirebaseApp ${H.name}`,Ne)}}function an(H,J){H.container.addOrOverwriteComponent(J)}function Zt(H){const J=H.name;if(kn.has(J))return q.debug(`There were multiple attempts to register component ${J}.`),!1;kn.set(J,H);for(const Ne of hn.values())_n(Ne,H);return!0}function tn(H,J){const Ne=H.container.getProvider("heartbeat").getImmediate({optional:!0});return Ne&&Ne.triggerHeartbeat(),H.container.getProvider(J)}function In(H,J,Ne=qt){tn(H,J).clearInstance(Ne)}function Si(){kn.clear()}const Sn=new se.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class xi{constructor(J,Ne,Xe){this._isDeleted=!1,this._options=Object.assign({},J),this._config=Object.assign({},Ne),this._name=Ne.name,this._automaticDataCollectionEnabled=Ne.automaticDataCollectionEnabled,this._container=Xe,this.container.addComponent(new U.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(J){this.checkDestroyed(),this._automaticDataCollectionEnabled=J}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(J){this._isDeleted=J}checkDestroyed(){if(this.isDeleted)throw Sn.create("app-deleted",{appName:this._name})}}const si="9.8.1";function bi(H,J={}){"object"!=typeof J&&(J={name:J});const Ne=Object.assign({name:qt,automaticDataCollectionEnabled:!1},J),Xe=Ne.name;if("string"!=typeof Xe||!Xe)throw Sn.create("bad-app-name",{appName:String(Xe)});const ft=hn.get(Xe);if(ft){if((0,se.vZ)(H,ft.options)&&(0,se.vZ)(Ne,ft.config))return ft;throw Sn.create("duplicate-app",{appName:Xe})}const Pt=new U.H0(Xe);for(const wt of kn.values())Pt.addComponent(wt);const cn=new xi(H,Ne,Pt);return hn.set(Xe,cn),cn}function Wn(H=qt){const J=hn.get(H);if(!J)throw Sn.create("no-app",{appName:H});return J}function Mi(){return Array.from(hn.values())}function gt(H){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,a.Z)(function*(H){const J=H.name;hn.has(J)&&(hn.delete(J),yield Promise.all(H.container.getProviders().map(Ne=>Ne.delete())),H.isDeleted=!0)})).apply(this,arguments)}function Tn(H,J,Ne){var Xe;let ft=null!==(Xe=Qe[H])&&void 0!==Xe?Xe:H;Ne&&(ft+=`-${Ne}`);const Pt=ft.match(/\s|\//),cn=J.match(/\s|\//);if(Pt||cn){const wt=[`Unable to register library "${ft}" with version "${J}":`];return Pt&&wt.push(`library name "${ft}" contains illegal characters (whitespace or "/")`),Pt&&cn&&wt.push("and"),cn&&wt.push(`version name "${J}" contains illegal characters (whitespace or "/")`),void q.warn(wt.join(" "))}Zt(new U.wA(`${ft}-version`,()=>({library:ft,version:J}),"VERSION"))}function nn(H,J){if(null!==H&&"function"!=typeof H)throw Sn.create("invalid-log-argument");(0,R.Am)(H,J)}function Ir(H){(0,R.Ub)(H)}const Dn="firebase-heartbeat-store";let ur=null;function Os(){return ur||(ur=(0,oe.X3)("firebase-heartbeat-database",1,{upgrade:(H,J)=>{0===J&&H.createObjectStore(Dn)}}).catch(H=>{throw Sn.create("storage-open",{originalErrorMessage:H.message})})),ur}function ct(){return(ct=(0,a.Z)(function*(H){try{return(yield Os()).transaction(Dn).objectStore(Dn).get(ai(H))}catch(J){throw Sn.create("storage-get",{originalErrorMessage:J.message})}})).apply(this,arguments)}function it(H,J){return oi.apply(this,arguments)}function oi(){return(oi=(0,a.Z)(function*(H,J){try{const Xe=(yield Os()).transaction(Dn,"readwrite");return yield Xe.objectStore(Dn).put(J,ai(H)),Xe.done}catch(Ne){throw Sn.create("storage-set",{originalErrorMessage:Ne.message})}})).apply(this,arguments)}function ai(H){return`${H.name}!${H.options.appId}`}class Fn{constructor(J){this.container=J,this._heartbeatsCache=null;const Ne=this.container.getProvider("app").getImmediate();this._storage=new Z(Ne),this._heartbeatsCachePromise=this._storage.read().then(Xe=>(this._heartbeatsCache=Xe,Xe))}triggerHeartbeat(){var J=this;return(0,a.Z)(function*(){const Xe=J.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),ft=fn();if(null===J._heartbeatsCache&&(J._heartbeatsCache=yield J._heartbeatsCachePromise),J._heartbeatsCache.lastSentHeartbeatDate!==ft&&!J._heartbeatsCache.heartbeats.some(Pt=>Pt.date===ft))return J._heartbeatsCache.heartbeats.push({date:ft,agent:Xe}),J._heartbeatsCache.heartbeats=J._heartbeatsCache.heartbeats.filter(Pt=>{const cn=new Date(Pt.date).valueOf();return Date.now()-cn<=2592e6}),J._storage.overwrite(J._heartbeatsCache)})()}getHeartbeatsHeader(){var J=this;return(0,a.Z)(function*(){if(null===J._heartbeatsCache&&(yield J._heartbeatsCachePromise),null===J._heartbeatsCache||0===J._heartbeatsCache.heartbeats.length)return"";const Ne=fn(),{heartbeatsToSend:Xe,unsentEntries:ft}=function V(H,J=1024){const Ne=[];let Xe=H.slice();for(const ft of H){const Pt=Ne.find(cn=>cn.agent===ft.agent);if(Pt){if(Pt.dates.push(ft.date),W(Ne)>J){Pt.dates.pop();break}}else if(Ne.push({agent:ft.agent,dates:[ft.date]}),W(Ne)>J){Ne.pop();break}Xe=Xe.slice(1)}return{heartbeatsToSend:Ne,unsentEntries:Xe}}(J._heartbeatsCache.heartbeats),Pt=(0,se.L)(JSON.stringify({version:2,heartbeats:Xe}));return J._heartbeatsCache.lastSentHeartbeatDate=Ne,ft.length>0?(J._heartbeatsCache.heartbeats=ft,yield J._storage.overwrite(J._heartbeatsCache)):(J._heartbeatsCache.heartbeats=[],J._storage.overwrite(J._heartbeatsCache)),Pt})()}}function fn(){return(new Date).toISOString().substring(0,10)}class Z{constructor(J){this.app=J,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,a.Z)(function*(){return!!(0,se.hl)()&&(0,se.eu)().then(()=>!0).catch(()=>!1)})()}read(){var J=this;return(0,a.Z)(function*(){return(yield J._canUseIndexedDBPromise)&&(yield function Wt(H){return ct.apply(this,arguments)}(J.app))||{heartbeats:[]}})()}overwrite(J){var Ne=this;return(0,a.Z)(function*(){var Xe;if(yield Ne._canUseIndexedDBPromise){const Pt=yield Ne.read();return it(Ne.app,{lastSentHeartbeatDate:null!==(Xe=J.lastSentHeartbeatDate)&&void 0!==Xe?Xe:Pt.lastSentHeartbeatDate,heartbeats:J.heartbeats})}})()}add(J){var Ne=this;return(0,a.Z)(function*(){var Xe;if(yield Ne._canUseIndexedDBPromise){const Pt=yield Ne.read();return it(Ne.app,{lastSentHeartbeatDate:null!==(Xe=J.lastSentHeartbeatDate)&&void 0!==Xe?Xe:Pt.lastSentHeartbeatDate,heartbeats:[...Pt.heartbeats,...J.heartbeats]})}})()}}function W(H){return(0,se.L)(JSON.stringify({version:2,heartbeats:H})).length}!function be(H){Zt(new U.wA("platform-logger",J=>new me(J),"PRIVATE")),Zt(new U.wA("heartbeat",J=>new Fn(J),"PRIVATE")),Tn(ae,"0.7.24",H),Tn(ae,"0.7.24","esm2017"),Tn("fire-js","")}("")},4859:(et,Ie,P)=>{P.d(Ie,{H0:()=>ae,wA:()=>R});var a=P(5861),U=P(2090);class R{constructor(q,j,re){this.name=q,this.instanceFactory=j,this.type=re,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(q){return this.instantiationMode=q,this}setMultipleInstances(q){return this.multipleInstances=q,this}setServiceProps(q){return this.serviceProps=q,this}setInstanceCreatedCallback(q){return this.onInstanceCreated=q,this}}const se="[DEFAULT]";class oe{constructor(q,j){this.name=q,this.container=j,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(q){const j=this.normalizeInstanceIdentifier(q);if(!this.instancesDeferred.has(j)){const re=new U.BH;if(this.instancesDeferred.set(j,re),this.isInitialized(j)||this.shouldAutoInitialize())try{const Ge=this.getOrInitializeService({instanceIdentifier:j});Ge&&re.resolve(Ge)}catch(Ge){}}return this.instancesDeferred.get(j).promise}getImmediate(q){var j;const re=this.normalizeInstanceIdentifier(null==q?void 0:q.identifier),Ge=null!==(j=null==q?void 0:q.optional)&&void 0!==j&&j;if(!this.isInitialized(re)&&!this.shouldAutoInitialize()){if(Ge)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:re})}catch(Me){if(Ge)return null;throw Me}}getComponent(){return this.component}setComponent(q){if(q.name!==this.name)throw Error(`Mismatching Component ${q.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=q,this.shouldAutoInitialize()){if(function de(ye){return"EAGER"===ye.instantiationMode}(q))try{this.getOrInitializeService({instanceIdentifier:se})}catch(j){}for(const[j,re]of this.instancesDeferred.entries()){const Ge=this.normalizeInstanceIdentifier(j);try{const Me=this.getOrInitializeService({instanceIdentifier:Ge});re.resolve(Me)}catch(Me){}}}}clearInstance(q=se){this.instancesDeferred.delete(q),this.instancesOptions.delete(q),this.instances.delete(q)}delete(){var q=this;return(0,a.Z)(function*(){const j=Array.from(q.instances.values());yield Promise.all([...j.filter(re=>"INTERNAL"in re).map(re=>re.INTERNAL.delete()),...j.filter(re=>"_delete"in re).map(re=>re._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(q=se){return this.instances.has(q)}getOptions(q=se){return this.instancesOptions.get(q)||{}}initialize(q={}){const{options:j={}}=q,re=this.normalizeInstanceIdentifier(q.instanceIdentifier);if(this.isInitialized(re))throw Error(`${this.name}(${re}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ge=this.getOrInitializeService({instanceIdentifier:re,options:j});for(const[Me,Le]of this.instancesDeferred.entries())re===this.normalizeInstanceIdentifier(Me)&&Le.resolve(Ge);return Ge}onInit(q,j){var re;const Ge=this.normalizeInstanceIdentifier(j),Me=null!==(re=this.onInitCallbacks.get(Ge))&&void 0!==re?re:new Set;Me.add(q),this.onInitCallbacks.set(Ge,Me);const Le=this.instances.get(Ge);return Le&&q(Le,Ge),()=>{Me.delete(q)}}invokeOnInitCallbacks(q,j){const re=this.onInitCallbacks.get(j);if(re)for(const Ge of re)try{Ge(q,j)}catch(Me){}}getOrInitializeService({instanceIdentifier:q,options:j={}}){let re=this.instances.get(q);if(!re&&this.component&&(re=this.component.instanceFactory(this.container,{instanceIdentifier:(ye=q,ye===se?void 0:ye),options:j}),this.instances.set(q,re),this.instancesOptions.set(q,j),this.invokeOnInitCallbacks(re,q),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,q,re)}catch(Ge){}var ye;return re||null}normalizeInstanceIdentifier(q=se){return this.component?this.component.multipleInstances?q:se:q}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ae{constructor(q){this.name=q,this.providers=new Map}addComponent(q){const j=this.getProvider(q.name);if(j.isComponentSet())throw new Error(`Component ${q.name} has already been registered with ${this.name}`);j.setComponent(q)}addOrOverwriteComponent(q){this.getProvider(q.name).isComponentSet()&&this.providers.delete(q.name),this.addComponent(q)}getProvider(q){if(this.providers.has(q))return this.providers.get(q);const j=new oe(q,this);return this.providers.set(q,j),j}getProviders(){return Array.from(this.providers.values())}}},1877:(et,Ie,P)=>{P.d(Ie,{Am:()=>ye,Ub:()=>ae,Yd:()=>de,in:()=>U});const a=[];var U=(()=>{return(q=U||(U={}))[q.DEBUG=0]="DEBUG",q[q.VERBOSE=1]="VERBOSE",q[q.INFO=2]="INFO",q[q.WARN=3]="WARN",q[q.ERROR=4]="ERROR",q[q.SILENT=5]="SILENT",U;var q})();const R={debug:U.DEBUG,verbose:U.VERBOSE,info:U.INFO,warn:U.WARN,error:U.ERROR,silent:U.SILENT},se=U.INFO,oe={[U.DEBUG]:"log",[U.VERBOSE]:"log",[U.INFO]:"info",[U.WARN]:"warn",[U.ERROR]:"error"},me=(q,j,...re)=>{if(j<q.logLevel)return;const Ge=(new Date).toISOString(),Me=oe[j];if(!Me)throw new Error(`Attempted to log a message with an invalid logType (value: ${j})`);console[Me](`[${Ge}]  ${q.name}:`,...re)};class de{constructor(j){this.name=j,this._logLevel=se,this._logHandler=me,this._userLogHandler=null,a.push(this)}get logLevel(){return this._logLevel}set logLevel(j){if(!(j in U))throw new TypeError(`Invalid value "${j}" assigned to \`logLevel\``);this._logLevel=j}setLogLevel(j){this._logLevel="string"==typeof j?R[j]:j}get logHandler(){return this._logHandler}set logHandler(j){if("function"!=typeof j)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=j}get userLogHandler(){return this._userLogHandler}set userLogHandler(j){this._userLogHandler=j}debug(...j){this._userLogHandler&&this._userLogHandler(this,U.DEBUG,...j),this._logHandler(this,U.DEBUG,...j)}log(...j){this._userLogHandler&&this._userLogHandler(this,U.VERBOSE,...j),this._logHandler(this,U.VERBOSE,...j)}info(...j){this._userLogHandler&&this._userLogHandler(this,U.INFO,...j),this._logHandler(this,U.INFO,...j)}warn(...j){this._userLogHandler&&this._userLogHandler(this,U.WARN,...j),this._logHandler(this,U.WARN,...j)}error(...j){this._userLogHandler&&this._userLogHandler(this,U.ERROR,...j),this._logHandler(this,U.ERROR,...j)}}function ae(q){a.forEach(j=>{j.setLogLevel(q)})}function ye(q,j){for(const re of a){let Ge=null;j&&j.level&&(Ge=R[j.level]),re.userLogHandler=null===q?null:(Me,Le,...$e)=>{const ge=$e.map(De=>{if(null==De)return null;if("string"==typeof De)return De;if("number"==typeof De||"boolean"==typeof De)return De.toString();if(De instanceof Error)return De.message;try{return JSON.stringify(De)}catch(Ze){return null}}).filter(De=>De).join(" ");Le>=(null!=Ge?Ge:Me.logLevel)&&q({level:U[Le].toLowerCase(),message:ge,args:$e,type:Me.name})}}}},8766:(et,Ie,P)=>{P.d(Ie,{Lj:()=>Oe,X3:()=>qe});var a=P(5861);let R,se;const de=new WeakMap,ae=new WeakMap,ye=new WeakMap,q=new WeakMap,j=new WeakMap;let Me={get(he,Ce,Y){if(he instanceof IDBTransaction){if("done"===Ce)return ae.get(he);if("objectStoreNames"===Ce)return he.objectStoreNames||ye.get(he);if("store"===Ce)return Y.objectStoreNames[1]?void 0:Y.objectStore(Y.objectStoreNames[0])}return De(he[Ce])},set:(he,Ce,Y)=>(he[Ce]=Y,!0),has:(he,Ce)=>he instanceof IDBTransaction&&("done"===Ce||"store"===Ce)||Ce in he};function ge(he){return"function"==typeof he?function $e(he){return he!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function me(){return se||(se=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(he)?function(...Ce){return he.apply(Ze(this),Ce),De(de.get(this))}:function(...Ce){return De(he.apply(Ze(this),Ce))}:function(Ce,...Y){const te=he.call(Ze(this),Ce,...Y);return ye.set(te,Ce.sort?Ce.sort():[Ce]),De(te)}}(he):(he instanceof IDBTransaction&&function Ge(he){if(ae.has(he))return;const Ce=new Promise((Y,te)=>{const ie=()=>{he.removeEventListener("complete",ve),he.removeEventListener("error",ce),he.removeEventListener("abort",ce)},ve=()=>{Y(),ie()},ce=()=>{te(he.error||new DOMException("AbortError","AbortError")),ie()};he.addEventListener("complete",ve),he.addEventListener("error",ce),he.addEventListener("abort",ce)});ae.set(he,Ce)}(he),((he,Ce)=>Ce.some(Y=>he instanceof Y))(he,function oe(){return R||(R=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(he,Me):he)}function De(he){if(he instanceof IDBRequest)return function re(he){const Ce=new Promise((Y,te)=>{const ie=()=>{he.removeEventListener("success",ve),he.removeEventListener("error",ce)},ve=()=>{Y(De(he.result)),ie()},ce=()=>{te(he.error),ie()};he.addEventListener("success",ve),he.addEventListener("error",ce)});return Ce.then(Y=>{Y instanceof IDBCursor&&de.set(Y,he)}).catch(()=>{}),j.set(Ce,he),Ce}(he);if(q.has(he))return q.get(he);const Ce=ge(he);return Ce!==he&&(q.set(he,Ce),j.set(Ce,he)),Ce}const Ze=he=>j.get(he);function qe(he,Ce,{blocked:Y,upgrade:te,blocking:ie,terminated:ve}={}){const ce=indexedDB.open(he,Ce),Ue=De(ce);return te&&ce.addEventListener("upgradeneeded",ht=>{te(De(ce.result),ht.oldVersion,ht.newVersion,De(ce.transaction))}),Y&&ce.addEventListener("blocked",()=>Y()),Ue.then(ht=>{ve&&ht.addEventListener("close",()=>ve()),ie&&ht.addEventListener("versionchange",()=>ie())}).catch(()=>{}),Ue}function Oe(he,{blocked:Ce}={}){const Y=indexedDB.deleteDatabase(he);return Ce&&Y.addEventListener("blocked",()=>Ce()),De(Y).then(()=>{})}const Re=["get","getKey","getAll","getAllKeys","count"],Ee=["put","add","delete","clear"],We=new Map;function ee(he,Ce){if(!(he instanceof IDBDatabase)||Ce in he||"string"!=typeof Ce)return;if(We.get(Ce))return We.get(Ce);const Y=Ce.replace(/FromIndex$/,""),te=Ce!==Y,ie=Ee.includes(Y);if(!(Y in(te?IDBIndex:IDBObjectStore).prototype)||!ie&&!Re.includes(Y))return;const ve=function(){var ce=(0,a.Z)(function*(Ue,...ht){const Xt=this.transaction(Ue,ie?"readwrite":"readonly");let qt=Xt.store;return te&&(qt=qt.index(ht.shift())),(yield Promise.all([qt[Y](...ht),ie&&Xt.done]))[0]});return function(ht){return ce.apply(this,arguments)}}();return We.set(Ce,ve),ve}!function Le(he){Me=he(Me)}(he=>PP(RP({},he),{get:(Ce,Y,te)=>ee(Ce,Y)||he.get(Ce,Y,te),has:(Ce,Y)=>!!ee(Ce,Y)||he.has(Ce,Y)}))},5861:(et,Ie,P)=>{function a(R,se,oe,me,de,ae,ye){try{var q=R[ae](ye),j=q.value}catch(re){return void oe(re)}q.done?se(j):Promise.resolve(j).then(me,de)}function U(R){return function(){var se=this,oe=arguments;return new Promise(function(me,de){var ae=R.apply(se,oe);function ye(j){a(ae,me,de,ye,q,"next",j)}function q(j){a(ae,me,de,ye,q,"throw",j)}ye(void 0)})}}P.d(Ie,{Z:()=>U})}},et=>{et(et.s=7656)}]);